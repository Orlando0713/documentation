/*! For license information please see 1046.8716e53d.js.LICENSE.txt */
"use strict";(self.webpackChunkoc_studio_docs=self.webpackChunkoc_studio_docs||[]).push([[1046],{1046:function(e,t,r){r.d(t,{en:function(){return Cg}});var n={};r.r(n);var a=r(7294),o=r(1103),s=a,i=Symbol.for("react-redux-context"),u="undefined"!=typeof globalThis?globalThis:{};function l(){if(!s.createContext)return{};const e=u[i]??(u[i]=new Map);let t=e.get(s.createContext);return t||(t=s.createContext(null),e.set(s.createContext,t)),t}var c=l(),d=()=>{throw new Error("uSES not initialized!")};function f(e=c){return function(){return s.useContext(e)}}var p=f(),v=d,h=(e,t)=>e===t;function m(e=c){const t=e===c?p:f(e),r=(e,r={})=>{const{equalityFn:n=h,devModeChecks:a={}}="function"==typeof r?{equalityFn:r}:r;const{store:o,subscription:i,getServerState:u,stabilityCheck:l,identityFunctionCheck:c}=t(),d=(s.useRef(!0),s.useCallback({[e.name](t){return e(t)}}[e.name],[e,l,a.stabilityCheck])),f=v(i.addNestedSub,o.getState,u||o.getState,d,n);return s.useDebugValue(f),f};return Object.assign(r,{withTypes:()=>r}),r}var x=m();Symbol.for("react.element"),Symbol.for("react.portal"),Symbol.for("react.fragment"),Symbol.for("react.strict_mode"),Symbol.for("react.profiler"),Symbol.for("react.provider"),Symbol.for("react.context"),Symbol.for("react.server_context"),Symbol.for("react.forward_ref"),Symbol.for("react.suspense"),Symbol.for("react.suspense_list"),Symbol.for("react.memo"),Symbol.for("react.lazy"),Symbol.for("react.offscreen"),Symbol.for("react.client.reference");function g(e){e()}var y={notify(){},get:()=>[]};function b(e,t){let r,n=y,a=0,o=!1;function s(){l.onStateChange&&l.onStateChange()}function i(){a++,r||(r=t?t.addNestedSub(s):e.subscribe(s),n=function(){let e=null,t=null;return{clear(){e=null,t=null},notify(){g((()=>{let t=e;for(;t;)t.callback(),t=t.next}))},get(){const t=[];let r=e;for(;r;)t.push(r),r=r.next;return t},subscribe(r){let n=!0;const a=t={callback:r,next:null,prev:t};return a.prev?a.prev.next=a:e=a,function(){n&&null!==e&&(n=!1,a.next?a.next.prev=a.prev:t=a.prev,a.prev?a.prev.next=a.next:e=a.next)}}}}())}function u(){a--,r&&0===a&&(r(),r=void 0,n.clear(),n=y)}const l={addNestedSub:function(e){i();const t=n.subscribe(e);let r=!1;return()=>{r||(r=!0,t(),u())}},notifyNestedSubs:function(){n.notify()},handleChangeWrapper:s,isSubscribed:function(){return o},trySubscribe:function(){o||(o=!0,i())},tryUnsubscribe:function(){o&&(o=!1,u())},getListeners:()=>n};return l}var w=!("undefined"==typeof window||void 0===window.document||void 0===window.document.createElement),O="undefined"!=typeof navigator&&"ReactNative"===navigator.product,_=w||O?s.useLayoutEffect:s.useEffect;Object.defineProperty,Object.getOwnPropertyNames,Object.getOwnPropertySymbols,Object.getOwnPropertyDescriptor,Object.getPrototypeOf,Object.prototype;var k=function({store:e,context:t,children:r,serverState:n,stabilityCheck:a="once",identityFunctionCheck:o="once"}){const i=s.useMemo((()=>{const t=b(e);return{store:e,subscription:t,getServerState:n?()=>n:void 0,stabilityCheck:a,identityFunctionCheck:o}}),[e,n,a,o]),u=s.useMemo((()=>e.getState()),[e]);_((()=>{const{subscription:t}=i;return t.onStateChange=t.notifyNestedSubs,t.trySubscribe(),u!==e.getState()&&t.notifyNestedSubs(),()=>{t.tryUnsubscribe(),t.onStateChange=void 0}}),[i,u]);const l=t||c;return s.createElement(l.Provider,{value:i},r)};function M(e=c){const t=e===c?p:f(e),r=()=>{const{store:e}=t();return e};return Object.assign(r,{withTypes:()=>r}),r}var P=M();function E(e=c){const t=e===c?P:M(e),r=()=>t().dispatch;return Object.assign(r,{withTypes:()=>r}),r}var T,S=E();function C(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}T=o.useSyncExternalStoreWithSelector,v=T,(e=>{e})(a.useSyncExternalStore);var N=(()=>"function"==typeof Symbol&&Symbol.observable||"@@observable")(),j=()=>Math.random().toString(36).substring(7).split("").join("."),D={INIT:`@@redux/INIT${j()}`,REPLACE:`@@redux/REPLACE${j()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${j()}`};function I(e){if("object"!=typeof e||null===e)return!1;let t=e;for(;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||null===Object.getPrototypeOf(e)}function R(e,t,r){if("function"!=typeof e)throw new Error(C(2));if("function"==typeof t&&"function"==typeof r||"function"==typeof r&&"function"==typeof arguments[3])throw new Error(C(0));if("function"==typeof t&&void 0===r&&(r=t,t=void 0),void 0!==r){if("function"!=typeof r)throw new Error(C(1));return r(R)(e,t)}let n=e,a=t,o=new Map,s=o,i=0,u=!1;function l(){s===o&&(s=new Map,o.forEach(((e,t)=>{s.set(t,e)})))}function c(){if(u)throw new Error(C(3));return a}function d(e){if("function"!=typeof e)throw new Error(C(4));if(u)throw new Error(C(5));let t=!0;l();const r=i++;return s.set(r,e),function(){if(t){if(u)throw new Error(C(6));t=!1,l(),s.delete(r),o=null}}}function f(e){if(!I(e))throw new Error(C(7));if(void 0===e.type)throw new Error(C(8));if("string"!=typeof e.type)throw new Error(C(17));if(u)throw new Error(C(9));try{u=!0,a=n(a,e)}finally{u=!1}return(o=s).forEach((e=>{e()})),e}f({type:D.INIT});return{dispatch:f,subscribe:d,getState:c,replaceReducer:function(e){if("function"!=typeof e)throw new Error(C(10));n=e,f({type:D.REPLACE})},[N]:function(){const e=d;return{subscribe(t){if("object"!=typeof t||null===t)throw new Error(C(11));function r(){const e=t;e.next&&e.next(c())}r();return{unsubscribe:e(r)}},[N](){return this}}}}}function A(...e){return 0===e.length?e=>e:1===e.length?e[0]:e.reduce(((e,t)=>(...r)=>e(t(...r))))}function U(...e){return t=>(r,n)=>{const a=t(r,n);let o=()=>{throw new Error(C(15))};const s={getState:a.getState,dispatch:(e,...t)=>o(e,...t)},i=e.map((e=>e(s)));return o=A(...i)(a.dispatch),{...a,dispatch:o}}}function Y(e){return({dispatch:t,getState:r})=>n=>a=>"function"==typeof a?a(t,r,e):n(a)}Y();var L=function(e){var t=e.label,r=e.disable,n=e.type,o=e.addClass,s=e.onClick;return a.createElement("button",{disabled:r,type:n,className:"action-button ".concat(o),onClick:function(e){e.stopPropagation(),s&&s(t)}},t)},W="48",F="ScheduleButton",H=(0,a.createContext)(null);function B(){var e=(0,a.useContext)(H);return null==e?void 0:e.env}function q(e,t){var r=function(e){return(null==e?void 0:e.connection)?e.connection:{serverUrl:null==e?void 0:e.serverUrl,accountKey:null==e?void 0:e.accountKey,type:(null==e?void 0:e.direct)?"direct":"websocket"}}(e),n=r.accountKey,o=r.serverUrl,s=r.type;return(0,a.useMemo)((function(){return{accountKey:n,serverUrl:o,type:s,nonce:t}}),[n,o,s,t])}var z=function(){return z=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var a in t=arguments[r])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},z.apply(this,arguments)};function V(e,t,r,n){return new(r||(r=Promise))((function(a,o){function s(e){try{u(n.next(e))}catch(t){o(t)}}function i(e){try{u(n.throw(e))}catch(t){o(t)}}function u(e){e.done?a(e.value):function(e){return e instanceof r?e:new r((function(t){t(e)}))}(e.value).then(s,i)}u((n=n.apply(e,t||[])).next())}))}function Q(e,t){var r,n,a,o,s={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:i(0),throw:i(1),return:i(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function i(i){return function(u){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;o&&(o=0,i[0]&&(s=0)),s;)try{if(r=1,n&&(a=2&i[0]?n.return:i[0]?n.throw||((a=n.return)&&a.call(n),0):n.next)&&!(a=a.call(n,i[1])).done)return a;switch(n=0,a&&(i=[2&i[0],a.value]),i[0]){case 0:case 1:a=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,n=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!(a=s.trys,(a=a.length>0&&a[a.length-1])||6!==i[0]&&2!==i[0])){s=0;continue}if(3===i[0]&&(!a||i[1]>a[0]&&i[1]<a[3])){s.label=i[1];break}if(6===i[0]&&s.label<a[1]){s.label=a[1],a=i;break}if(a&&s.label<a[2]){s.label=a[2],s.ops.push(i);break}a[2]&&s.ops.pop(),s.trys.pop();continue}i=t.call(e,s)}catch(u){i=[6,u],n=0}finally{r=a=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}}function J(e,t,r){if(r||2===arguments.length)for(var n,a=0,o=t.length;a<o;a++)!n&&a in t||(n||(n=Array.prototype.slice.call(t,0,a)),n[a]=t[a]);return e.concat(n||Array.prototype.slice.call(t))}function X(e){return!!e&&e.startsWith("agent:")}"function"==typeof SuppressedError&&SuppressedError;var G=function(){this.retries=5,this.timeout=1e3,this.log=!1},K=function(){function e(e){e&&(this.options=Object.assign(new G,e))}return e.prototype.fetch=function(e,t){return V(this,void 0,void 0,(function(){var r,n,a,o;return Q(this,(function(s){switch(s.label){case 0:t||(t=this.options),s.label=1;case 1:return s.trys.push([1,3,,5]),r=new AbortController,n=setTimeout((function(){r.abort()}),t.timeout),[4,e(r.signal)];case 2:return a=s.sent(),clearTimeout(n),[2,a];case 3:if(o=s.sent(),1===t.retries||t.retries<1)throw o;return[4,this.fetch(e,{timeout:t.timeout,retries:t.retries-1})];case 4:return[2,s.sent()];case 5:return[2]}}))}))},e}();function $(){return(new Date).toISOString()+" ::"}function Z(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];"debug"===window.xaLogLevel&&console.log.apply(console,J([$()],e,!1))}function ee(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];console.error.apply(console,J([$()],e,!1))}var te=function(e){var t,r,n,o={},s=e.entity,i=(0,a.useContext)(H),u=null==s?void 0:s.avatarPath;if(!u){var l=function(e){var t=(null==e?void 0:e.initials)||"?",r=(null==e?void 0:e.size)||40,n=(null==e?void 0:e.backgroundColor)||"#007bff",o=(null==e?void 0:e.textColor)||"#ffffff";return a.useMemo((function(){return function(e,t,r,n){var a=document.createElement("canvas");a.width=t,a.height=t;var o=a.getContext("2d");o.fillStyle=r,o.fillRect(0,0,t,t),o.fillStyle=n,o.font="".concat(t/2,"px Arial"),o.textAlign="center",o.textBaseline="middle",o.fillText(e,t/2,t/2);var s=new Image;return s.src=a.toDataURL(),s}(t,r,n,o)}),[t,r,n,o])}({initials:(null==s?void 0:s.displayName)?s.displayName.slice(0,2):"?",backgroundColor:null===(r=null===(t=null==i?void 0:i.env)||void 0===t?void 0:t.theme)||void 0===r?void 0:r.primaryColor,size:36});u=l.src}var c=s&&X(s.nick);c?(o.backgroundImage="url('".concat(u,"')"),o.backgroundColor="none"):n=a.createElement("svg",{width:"16",height:"19",viewBox:"0 0 16 19",style:{margin:"0 auto",display:"block"}},a.createElement("path",{d:"M11.5 5c0-1.933-1.567-3.5-3.5-3.5S4.5 3.067 4.5 5 6.067 8.5 8 8.5s3.5-1.567 3.5-3.5zM3 5c0-2.76 2.24-5 5-5s5 2.24 5 5-2.24 5-5 5-5-2.24-5-5zM1.955 17.294c.21-.642.504-1.285.898-1.88C3.963 13.74 5.615 12.75 8 12.75c2.385 0 4.038.99 5.147 2.664.394.595.69 1.238.898 1.88.124.382.19.672.214.822.063.41.447.69.856.625.41-.063.69-.447.625-.856-.034-.225-.118-.59-.27-1.053-.247-.763-.598-1.527-1.073-2.244C13.024 12.51 10.917 11.25 8 11.25c-2.916 0-5.024 1.26-6.397 3.336-.475.717-.826 1.48-1.074 2.245-.152.463-.236.83-.27 1.054-.065.41.215.793.624.857.41.065.793-.215.857-.624.025-.15.09-.44.215-.822z",fill:"#FFF",fillRule:"evenodd"}));var d=!!o.backgroundImage||!!n;return a.createElement("div",{className:"avatar ".concat(c?"avatar--agent":"avatar--visitor"," ").concat(d?"":"avatar--empty"),style:o,title:s?s.display_name:"Agent"},n)};function re(e){return e.hasOwnProperty("label")}function ne(e){return e.url||e.imageActionUrl}function ae(){return S()}var oe=function(e){var t=ae(),r=x((function(e){return e.visuals})),n=e.url,o=e.className,s=e.onOpen,i=(0,a.useCallback)((function(){s&&s(n,t,r)}),[n,s]);return n?a.createElement("div",{onClick:i,className:o},e.children):a.createElement("div",{onClick:e.onClick,className:o},e.children)},se=function(e){var t,r=e.item,n=e.onButtonClick,o=e.onExecute,s=1===(null===(t=r.buttons)||void 0===t?void 0:t.length),i=(0,a.useCallback)((function(){var e;1===(null===(e=r.buttons)||void 0===e?void 0:e.length)?n(r.buttons[0]):o(r.title,r.token)}),[r,o,n]),u="xappw-chat-action-item ".concat(s?"xappw-chat-action-item--action":""," ").concat(e.className);return a.createElement(oe,{className:u,url:ne(r),onClick:i,onOpen:e.onOpenUrl},e.children)},ie=function(e){var t=e.imageUrl.replace(/'/g,"%27"),r=a.createElement("div",{className:"chat-card-img__content",style:{backgroundImage:"url(".concat(t,")")}});return e.imageActionUrl?a.createElement("a",{href:e.imageActionUrl,"aria-label":"read more",target:"_blank",rel:"noopener noreferrer",className:"chat-card-img"},r):a.createElement("div",{className:"chat-card-img"},r)},ue=function(e){var t,r=e.item,n=1===(null===(t=r.buttons)||void 0===t?void 0:t.length),o=ne(r);if(r.imageUrl){var s=n?null:r.imageActionUrl;return a.createElement("div",{className:e.className},a.createElement(ie,{imageUrl:r.imageUrl,imageActionUrl:!o&&s}))}return e.emptyImageVisible?a.createElement("div",{className:e.className}):a.createElement(a.Fragment,null)},le=a.memo((function(e){var t=e.button,r=e.onClick,n=(0,a.useCallback)((function(){r(t)}),[t,r]);return a.createElement(L,{onClick:n,addClass:"button-card",label:t.label})})),ce=a.memo((function(e){return a.createElement("div",{className:"buttons-container "+(e.className||"")},e.buttons.map((function(t,r){return a.createElement(le,{button:t,onClick:e.onClick,key:r})})))})),de=function(e){var t,r=e.item;return a.createElement(se,{className:"chat-list-item-container",item:r,onButtonClick:e.onButtonClick,onExecute:e.onExecute,onOpenUrl:e.onOpenUrl},a.createElement("div",{className:"chat-list-item"},a.createElement(ue,{item:r,className:"chat-list-item__img",emptyImageVisible:e.emptyImageVisible}),r.title&&a.createElement("div",{className:"chat-list-item__title"},a.createElement("span",null,r.title)),r.subTitle&&a.createElement("div",{className:"chat-list-item__subtitle"},a.createElement("span",null,r.subTitle)),!!(null===(t=r.buttons)||void 0===t?void 0:t.length)&&a.createElement(ce,{className:"chat-list-item__actions",buttons:r.buttons,onClick:e.onButtonClick})))};var fe=function(e){return a.createElement("button",{onClick:e.onClick,className:"xa-chevron"},a.createElement("svg",{viewBox:"-5 -18 10 36"},a.createElement("path",{d:"M 2.5 -15 L -2.5 0 L 2.5 15",stroke:"currentColor",strokeLinecap:"square",strokeWidth:"4px",fill:"none"})))};var pe=function(e){return a.createElement("button",{onClick:e.onClick,className:"xa-chevron"},a.createElement("svg",{viewBox:"-5 -18 10 36"},a.createElement("path",{d:"M -2.5 -15 L 2.5 0 L -2.5 15",stroke:"currentColor",strokeLinecap:"square",strokeWidth:"4px",fill:"none"})))},ve=function(e){var t=(0,a.useRef)(null),r=(0,a.useState)(0),n=r[0],o=r[1];function s(e){var r,a,s=t.current;if(s){var i=s.getElementsByClassName("xappw-carousel-items__item"),u=i.length,l=n;1===e?n<u-1&&l++:n>0&&l--;for(var c=0,d=0;d<i.length&&d!==l;d++)c+=null!==(a=null===(r=i.item(d))||void 0===r?void 0:r.clientWidth)&&void 0!==a?a:0;s.scrollLeft=c,o(l)}}var i=1===e.list.items.length,u=e.list.items.some((function(e){return e.imageUrl})),l=e.list.items.map((function(t,r){return a.createElement("div",{className:"xappw-carousel-items__item",key:"item-key-".concat(r)},a.createElement(de,{item:t,emptyImageVisible:u,onExecute:e.onExecute,onButtonClick:e.onButtonClick,onOpenUrl:e.onOpenUrl}))}));return a.createElement("div",{className:"xappw-carousel"},!i&&a.createElement("div",{className:"xappw-carousel__prev"},a.createElement(fe,{onClick:function(){return s(-1)}})),a.createElement("div",{ref:t,className:"xappw-carousel-items ".concat(i?"xappw-carousel-items--one-item":"")},l),!i&&a.createElement("div",{className:"xappw-carousel__next"},a.createElement(pe,{onClick:function(){return s(1)}})))};function he(){var e=(0,a.useRef)(null),t=(0,a.useState)(),r=t[0],n=t[1];return(0,a.useLayoutEffect)((function(){var t,r;n(null===(r=null===(t=e.current)||void 0===t?void 0:t.getBoundingClientRect())||void 0===r?void 0:r.toJSON())}),[]),[e,r]}function me(e,t){return{x:e.x+t.x,y:e.y+t.y}}function xe(e,t){return{x:e.x-t.x,y:e.y-t.y}}function ge(e,t){return{x:e.x*t,y:e.y*t}}function ye(e){return Math.sqrt(e.x*e.x+e.y*e.y)}function be(e,t){var r=t*Math.PI/180,n=Math.cos(r),a=Math.sin(r);return{x:e.x*n+e.y*a,y:e.y*n-e.x*a}}function we(e,t){var r=xe(t.start,e.center),n=r.x,a=r.y,o=t.direction.x,s=t.direction.y,i=e.radius.x,u=e.radius.y,l=i*i,c=u*u,d=o*o/l+s*s/c,f=2*o*n/l+2*s*a/c,p=f*f-4*d*(n*n/l+a*a/c-1);if(p>=0){var v=Math.sqrt(p),h=(-f-v)/(2*d),m=(-f+v)/(2*d);if(h>0&&m>0)return me(t.start,ge(t.direction,Math.min(h,m)));if(h>0)return me(t.start,ge(t.direction,h));if(m>0)return me(t.start,ge(t.direction,m))}return t.start}function Oe(e,t){var r,n,a,o=e.direction*Math.PI/180,s={x:e.width/2,y:e.height/2},i={x:t.x/2,y:t.y/2},u={x:s.x*Math.cos(o),y:s.y*Math.sin(o)},l=(r=u,n=ye(u)+e.length,(a=ye(r))?ge(r,n/a):r),c=me(l,i),d=xe(u,l),f=e.angle,p=be(d,f/2),v=be(d,-f/2),h={center:i,radius:s},m=we(h,{start:c,direction:p}),x=we(h,{start:c,direction:v});return"m ".concat(c.x," ").concat(c.y," L ").concat(m.x," ").concat(m.y," L ").concat(x.x," ").concat(x.y," z")}var _e=function(e){var t,r,n=he(),o=n[0],s=n[1],i={x:null!==(t=null==s?void 0:s.width)&&void 0!==t?t:0,y:null!==(r=null==s?void 0:s.height)&&void 0!==r?r:0};return a.createElement("div",{ref:o,className:"cta-bubble__tail"},a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 ".concat(i.x," ").concat(i.y)},a.createElement("path",{d:Oe(e,i),fill:"currentColor"})))},ke=function(e){var t,r,n,o,s=he(),i=s[0],u=s[1],l=(e.animate||!1)&&"bounce"===e.buttonAnimation?"bounce":"none";return a.createElement("div",{ref:i,style:{border:e.borderStyle?"solid":"none",borderWidth:(null===(t=e.borderStyle)||void 0===t?void 0:t.width)||"0px",borderColor:(null===(r=e.borderStyle)||void 0===r?void 0:r.color)||"transparent",animation:"".concat(l," 1s infinite")},className:"cta-bubble",onClick:e.onClick},a.createElement(_e,{width:null!==(n=null==u?void 0:u.width)&&void 0!==n?n:0,height:null!==(o=null==u?void 0:u.height)&&void 0!==o?o:0,direction:60,angle:45,length:16}),a.createElement("div",{className:"cta-bubble__content"},e.children))},Me=function(e){var t=e.visible,r=e.timeout,n=e.delay,o=e.animate,s=e.buttonAnimation,i=e.onClick,u=e.children,l=(0,a.useMemo)((function(){return t?(new Date).valueOf():void 0}),[t]),c=(0,a.useState)(!1),d=c[0],f=c[1],p=(0,a.useRef)(!0);return(0,a.useEffect)((function(){var e=null;if(l){var t=setTimeout((function(){p.current&&f(!0),"number"==typeof r&&(e=setTimeout((function(){p.current&&f(!1)}),r))}),n);return function(){e&&clearTimeout(e),clearTimeout(t),p.current=!1}}return function(){e&&clearTimeout(e),p.current=!1}}),[l,r,n]),a.createElement(a.Fragment,null,t&&d&&a.createElement(ke,{onClick:i,animate:o,buttonAnimation:s},u))},Pe=function(e){var t,r=e.onClick,n=e.addClass,o=e.config,s=e.visible,i=e.borderStyle,u=e.imageUrl,l=(0,a.useState)(W),c=l[0],d=l[1],f=(0,a.useState)(!1),p=f[0],v=f[1],h=(null===(t=null==o?void 0:o.mobile)||void 0===t?void 0:t.applyAtLessThanWidth)||"400",m=window.innerWidth<=parseInt(h,10)&&(null==o?void 0:o.mobile)?o.mobile:o;(0,a.useEffect)((function(){var e,t;return(null==m?void 0:m.delay)?e=setTimeout((function(){v(!0),m.animationTimeout&&(t=setTimeout((function(){v(!1)}),m.animationTimeout))}),m.delay):(null==m?void 0:m.animationTimeout)?(v(!0),t=setTimeout((function(){v(!1)}),m.animationTimeout)):(null==m?void 0:m.animation)&&v(!0),function(){e&&clearTimeout(e),t&&clearTimeout(t)}}),[m,v]);var x=p?(null==m?void 0:m.animation)||"wiggle":"none";(0,a.useEffect)((function(){var e=function(){var e=window.innerWidth<parseInt(h,10)?"30":W;d(e)};return e(),window.addEventListener("resize",e),function(){window.removeEventListener("resize",e)}}),[h]);var g=Math.min(22,+c/48*22);return a.createElement("button",{"aria-label":"open chat",className:"xapp-chat-button ".concat(n||"").trim(),onClick:r},a.createElement("div",{id:"xapp-widget-button",className:"xapp-chat-button__btn",style:{width:"".concat(c,"px"),height:"".concat(c,"px"),borderRadius:"".concat(+c/2,"px"),border:i&&i.width?"solid":"none",borderWidth:(null==i?void 0:i.width)||"0px",borderColor:(null==i?void 0:i.color)||"transparent",animation:"".concat(x," 1s infinite")}},u?a.createElement("img",{src:u,alt:"Chat Icon",width:"22",height:"22"}):a.createElement("svg",{width:g,height:g,viewBox:"0 0 22 22"},a.createElement("path",{d:"M13 22l-4-6H2c-1.11-.043-2-.935-2-2V2C0 .89.89 0 2 0h18c1.11 0 2 .892 2 2v12c0 1.067-.89 1.957-2 2h-3l-4 6zm3-8h4c-.005.3-.01-12 0-12-.01.004-18 .006-18 0 .005.006 0 12 0 12h8l3 5 3-5z",fill:"#FFF",fillRule:"evenodd"}))),m&&m.message&&a.createElement("div",{className:"xapp-chat-button__cta"},a.createElement(Me,{timeout:null==m?void 0:m.timeout,delay:null==m?void 0:m.delay,animate:p,buttonAnimation:x,visible:!s},null==m?void 0:m.message)))},Ee=function(e){var t,r,n,o,s=e.card;return s.imageUrl&&(n=a.createElement("div",{className:"chat-card-container__img"},a.createElement(ie,{imageUrl:s.imageUrl,imageActionUrl:s.imageActionUrl}))),s.title&&(r=a.createElement("div",{className:"chat-card-title"},a.createElement("span",null,s.title))),s.content&&(o=a.createElement("div",{className:"chat-card-sub-title"},a.createElement("span",null,s.content))),a.createElement("div",{className:"chat-card-container"},n,r,o,!!(null===(t=s.buttons)||void 0===t?void 0:t.length)&&a.createElement(ce,{buttons:s.buttons,onClick:e.onButtonClick}))},Te=function(e){var t=e.option,r=t.actionUrl?"chat-chip chat-chip-link":"chat-chip";return a.createElement("div",{onClick:function(){return null==e?void 0:e.onClick(t)},className:r},a.createElement("span",null,t.label||t))},Se=function(e){return a.createElement("div",{className:"chat-chips"},e.options.map((function(t,r){return a.createElement(Te,{key:r,onClick:e.onOptionClick,option:t})})))},Ce={type:"newWindow"};function Ne(e){throw new Error("Unknown kind "+e)}function je(e){return{type:"visual_status",detail:{status:e,timestamp:(new Date).getTime()}}}function De(){var e=B();return(0,a.useCallback)((function(t,r,n,a){a||(a=(null==e?void 0:e.urls)?function(e,t){if(t.policies)for(var r=0,n=t.policies;r<n.length;r++){var a=n[r];try{if(new RegExp(a.pattern,"gi").test(e))return a.behavior}catch(o){}}return t.defaultBehavior||Ce}(t,e.urls):Ce),function(e,t,r,n){var a,o;if(!t||!r)throw new Error("OpenUrl: No dispatch and/or visual.");if(e!==F){try{var s=new URL(e),i=new URLSearchParams(s.search);i.has("utm_source")||i.append("utm_source","xapp"),s.search=i.toString(),e=s.toString()}catch(f){}var u=n.type;switch(u){case"newWindow":r.opened&&t(je({opened:!1})),window.open(e,"callout-option","toolbar=0,status=0,width=".concat(n.width||1e3,",height=").concat(n.height||700));break;case"newTab":r.opened&&t(je({opened:!1})),window.open(e,"_blank");break;case"sameWindow":r.opened||t(je({opened:!0})),window.open(e,"_self");break;default:Ne(u)}}else{var l=null===(a=window.xafwControl)||void 0===a?void 0:a.openForm;if(!l)return void ee("Cannot find toggleForm! Update form widget!");var c=!1,d=null===(o=window.xafwControl)||void 0===o?void 0:o.formStatus;d?c=d().active:ee("Cannot find formStatus! Update form widget!"),c||(l(),r.opened&&t(je({opened:!1})))}}(t,r,n,a)}),[e])}function Ie(e,t){return{type:"synthetic",detail:{type:"write_msg",user:t,msg:e,timestamp:+new Date}}}function Re(e,t){return function(r){return function(n,a){var o=a().attributes;o=z(z({},o),{currentUrl:window.location.href}),r.sendChatMsg({text:e,token:t,attributes:o},(function(e){e&&Z("Error sending message",e)}));var s=a().visitor;n(Ie({text:t?"".concat(e," (from the list)"):e},s))}}}function Ae(e){return function(t){return function(){t.sendTyping(e)}}}function Ue(e,t){return function(r){return function(){r.setVisitorInfo(e,t,(function(e){e&&Z(e)}))}}}function Ye(e){return{type:"account_status",detail:{status:e,timestamp:+new Date}}}function Le(e){return{type:"connection_update",detail:{status:e,timestamp:+new Date}}}var We=function(){function e(e){this.inner=e}return e.prototype.bargeOut=function(e){Z("CLIENT: bargeOut"),this.inner.bargeOut(e)},e.prototype.bargeIn=function(e,t){Z("CLIENT: bargeIn: ".concat(e)),this.inner.bargeIn(e,t)},e.prototype.init=function(e){this.inner.init(e)},e.prototype.sendOfflineMsg=function(e,t){Z("CLIENT: sendOfflineMsg: ".concat(JSON.stringify(e))),this.inner.sendOfflineMsg(e,t)},e.prototype.sendChatMsg=function(e,t){Z("CLIENT: sendChatMsg: ".concat(JSON.stringify(e))),this.inner.sendChatMsg(e,t)},e.prototype.sendChatMsgRequest=function(e,t){Z("CLIENT: sendChatMsgRequest: ".concat(JSON.stringify(e))),this.inner.sendChatMsgRequest(e,t)},e.prototype.sendTyping=function(e){Z("CLIENT: sendTyping: ".concat(JSON.stringify(e))),this.inner.sendTyping(e)},e.prototype.setVisitorInfo=function(e,t,r){Z("CLIENT: setVisitorInfo: ".concat(JSON.stringify(e)," session id: ").concat(t)),this.inner.setVisitorInfo(e,t,r)},e.prototype.sendChatRating=function(e){Z("CLIENT: sendChatRating: ".concat(JSON.stringify(e))),this.inner.sendChatRating(e)},e.prototype.sendFile=function(e,t){Z("CLIENT: sendFile: ".concat(JSON.stringify(e))),this.inner.sendFile(e,t)},e.prototype.markAsRead=function(){Z("CLIENT: markAsRead:"),this.inner.markAsRead()},e.prototype.flush=function(){Z("CLIENT: flush:"),this.inner.flush()},e.prototype.dispose=function(){Z("CLIENT: dispose:"),this.inner.dispose()},e.prototype.sleep=function(){Z("CLIENT: sleep:"),this.inner.sleep()},e.prototype.wakeup=function(){Z("CLIENT: wakeup:"),this.inner.wakeup()},e}(),Fe="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==r.g?r.g:"undefined"!=typeof self?self:{},He={};Object.defineProperty(He,"__esModule",{value:!0});var Be=a;function qe(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var ze=qe(Be);var Ve=function(e){var t=e.format,r=e.text;return ze.default.createElement("span",{"data-rich-text-type":"bold",className:"xapp-search-rich-text-bold-span"},r.substring(t.start,t.end))},Qe=function(e){var t=e.format,r=e.text,n=e.readOnly,a=e.onClick,o=t.text||r.substring(t.start,t.end),s=Be.useState(o),i=s[0],u=s[1],l=Be.useCallback((function(e){u(e.target.value)}),[]),c=Be.useCallback((function(e){a&&(!1===a(t)&&(e.preventDefault(),e.stopPropagation()))}),[a,t]);return n?ze.default.createElement("span",{className:"xapp-search-rich-text-input-span xapp-search-rich-text-input-span--readonly",onClick:c},o):ze.default.createElement("input",{type:"text",value:i,className:"xapp-search-rich-text-input-span","data-rich-text-type":"inputText",onChange:l,onClick:c,readOnly:n})},Je=function(e){var t=e.format,r=e.text;return ze.default.createElement("span",{"data-rich-text-type":"normal",className:"xapp-search-rich-text-normal-span"},r.substring(t.start,t.end))},Xe=function(e){var t=e.format,r=e.text,n=e.readOnly,a=e.onClick,o=t.type;switch(o){case"normal":return ze.default.createElement(Je,{text:r,format:t,readOnly:n});case"bold":return ze.default.createElement(Ve,{text:r,format:t,readOnly:n});case"inputText":return ze.default.createElement(Qe,{text:r,format:t,readOnly:n,onClick:a});default:!function(e){throw new Error("Unknown kind "+e)}(o)}};function Ge(e,t){for(var r=[],n=0,a=0,o=e;a<o.length;a++){var s=o[a],i=s.start,u=s.end,l=s.type,c=s.text;n<i&&r.push({type:"normal",start:n,end:i}),r.push({type:l,start:i,end:u,text:c}),n=u}return n<t&&r.push({type:"normal",start:n,end:t}),r}function Ke(e){var t=e.childNodes,r=[],n="";return t.forEach((function(e){if(e.nodeType===Node.ELEMENT_NODE){var t=e,a="INPUT"===t.tagName?t.value:t.innerText,o=t.dataset.richTextType;r.push({type:o,start:n.length,end:n.length+a.length}),n+=a}e.nodeType===Node.TEXT_NODE&&((a=e.nodeValue)&&(r.push({type:"normal",start:n.length,end:n.length+a.length}),n+=a))})),function(e){for(var t=e.text,r=[],n=0,a=e.formats;n<a.length;n++){var o=a[n],s=o.type;switch(s){case"normal":continue;case"inputText":r.push(o);break;case"bold":if(r.length>0){var i=r[r.length-1];i.type===s&&i.end===o.start&&(r.pop(),r.push({type:s,start:i.start,end:o.end}))}else r.push(o)}}return{text:t,formats:r}}({text:n,formats:r})}var $e=function(e){var t=e.value,r=e.className,n=e.readOnly,a=e.onInput,o=e.onChange,s=e.onSpanClick,i=t.formats,u=t.text,l=Be.useMemo((function(){return Ge(i,u.length)}),[i,u.length]),c=Be.useCallback((function(e){var t=Ke(e.currentTarget);a&&a(t)}),[a]),d=Be.useCallback((function(e){var t=e.currentTarget,r=Ke(t);!function(e){for(var t,r=[],n=e.childNodes,a=0;a<n.length;a++)(null==(i=n.item(a))?void 0:i.nodeType)===Node.TEXT_NODE&&r.push(i);for(var o=0,s=r;o<s.length;o++){var i=s[o];try{null===(t=i.parentElement)||void 0===t||t.removeChild(i)}catch(u){}}}(t),o&&o(r)}),[o]);return ze.default.createElement("div",{id:e.id,className:"xapp-search-rich-text ".concat(r||""),contentEditable:!n,suppressContentEditableWarning:!0,onInput:c,onBlur:d,onKeyDown:e.onKeyDown},l.map((function(e,t){return ze.default.createElement(Xe,{key:t,format:e,text:u,readOnly:n,onClick:s})})))},Ze=function(e){return ze.default.createElement("div",{className:"xappw-suggestions-group-heading"},e.label)};var et=function(e){var t=e.data,r=e.current,n=e.actions,a=e.onClick,o=e.onHover,s=e.onSpanClick,i=Be.useCallback((function(){a(t)}),[t,a]),u=Be.useCallback((function(){o&&o(t)}),[t,o]),l=Be.useCallback((function(e){if(s)return s(t,e)}),[s,t]),c=Be.useRef(null);return Be.useEffect((function(){var e=c.current;if(r&&e){var t=function(e){for(var t=e;t&&!t.classList.contains("xapp-search-result__suggestions");)t=t.parentElement;return t||void 0}(e);if(t){var n=t.getBoundingClientRect(),a=e.getBoundingClientRect(),o=Math.max(n.top,a.top);Math.min(n.bottom,a.bottom)-o<.99*a.height&&e.scrollIntoView({behavior:"smooth"})}}}),[r]),ze.default.createElement("div",{ref:c,className:"xappw-suggestions-item ".concat(r?"xappw-suggestions-item--current":""),onClick:i,onMouseEnter:u},ze.default.createElement($e,{value:t,className:"xappw-suggestions-item__texts",readOnly:!0,onSpanClick:l}),n&&ze.default.createElement("div",{className:"xappw-suggestions-item__actions"},ze.default.createElement(n,{data:t,current:r})))},tt=function(e){var t=e.group,r=e.currentIndex,n=e.itemActions,a=t.heading,o=t.items;return ze.default.createElement("div",{className:"xappw-suggestions-group"},ze.default.createElement("div",{className:"xappw-suggestions-group__heading"},ze.default.createElement(Ze,{label:a})),ze.default.createElement("div",{className:"xappw-suggestions-group__items"},o.map((function(t,a){return ze.default.createElement(et,{key:a,data:t,current:r===a,actions:n,onClick:e.onItemClick,onHover:e.onItemHover,onSpanClick:e.onSpanClick})}))))};function rt(e){return e.reduce((function(e,t){return e+t.items.length}),0)}function nt(e){var t=Object.keys(e)[0],r=e[t];if(!r)throw new Error;return{type:t,start:r.start,end:r.end}}function at(e){switch(e){case"FAQ":return"FAQs";case"INTENT":case"HISTORICAL":return"Suggestions";default:return e}}function ot(e,t,r,n){return new(r||(r=Promise))((function(a,o){function s(e){try{u(n.next(e))}catch(t){o(t)}}function i(e){try{u(n.throw(e))}catch(t){o(t)}}function u(e){e.done?a(e.value):function(e){return e instanceof r?e:new r((function(t){t(e)}))}(e.value).then(s,i)}u((n=n.apply(e,t||[])).next())}))}function st(e,t){var r,n,a,o,s={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:i(0),throw:i(1),return:i(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function i(i){return function(u){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;o&&(o=0,i[0]&&(s=0)),s;)try{if(r=1,n&&(a=2&i[0]?n.return:i[0]?n.throw||((a=n.return)&&a.call(n),0):n.next)&&!(a=a.call(n,i[1])).done)return a;switch(n=0,a&&(i=[2&i[0],a.value]),i[0]){case 0:case 1:a=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,n=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!(a=s.trys,(a=a.length>0&&a[a.length-1])||6!==i[0]&&2!==i[0])){s=0;continue}if(3===i[0]&&(!a||i[1]>a[0]&&i[1]<a[3])){s.label=i[1];break}if(6===i[0]&&s.label<a[1]){s.label=a[1],a=i;break}if(a&&s.label<a[2]){s.label=a[2],s.ops.push(i);break}a[2]&&s.ops.pop(),s.trys.pop();continue}i=t.call(e,s)}catch(u){i=[6,u],n=0}finally{r=a=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}}"function"==typeof SuppressedError&&SuppressedError;var it=["FAQ","INTENT","HISTORICAL"].reduce((function(e,t,r){return e[t]=r,e}),{});function ut(e,t){return function(e,t,r){if(r||2===arguments.length)for(var n,a=0,o=t.length;a<o;a++)!n&&a in t||(n||(n=Array.prototype.slice.call(t,0,a)),n[a]=t[a]);return e.concat(n||Array.prototype.slice.call(t))}([],e,!0).sort((function(e,r){return function(e,t,r){return r*(it[t.type]-it[e.type])}(e,r,t)}))}function lt(e,t){var r=new URL(e).searchParams;t.forEach((function(e,t){r.append(t,e)}));var n=new URL(e);return n.search=r.toString(),n}var ct={};function dt(){}function ft(e,t){void 0===t&&(t=ct);var r=Be.useState({state:"paused"}),n=r[0],a=r[1],o=t.pause;return Be.useEffect((function(){if(o)return a({state:"paused"}),dt;var t=new AbortController,r=t.signal,n=!0;return function(){ot(this,void 0,void 0,(function(){var t,o,s;return st(this,(function(i){switch(i.label){case 0:return i.trys.push([0,4,,5]),a({state:"fetching"}),[4,fetch(e,{signal:r})];case 1:return t=i.sent(),n?[4,t.json()]:[3,3];case 2:o=i.sent(),t.ok?a({state:"success",data:o}):a({state:"error",error:o}),i.label=3;case 3:return[3,5];case 4:if("AbortError"===(s=i.sent()).name)return a({state:"paused"}),[2];throw s;case 5:return[2]}}))}))}(),function(){n=!1,t.abort()}}),[e,o]),n}var pt=He.IconButton=function(e){var t=e.icon;return ze.default.createElement("div",{tabIndex:e.tabIndex?Number(e.tabIndex):0,className:"xapp-search-icon-button ".concat(e.className||""),onClick:e.onClick},ze.default.createElement("div",{className:"xapp-search-icon-button__content"},ze.default.createElement(t,null)))};He.MessageBubble=function(e){return ze.default.createElement("div",{className:"xappw-message-bubble"},e.children)};var vt=He.RichInput=function(e){var t=e.id,r=e.value,n=e.type,a=e.autoFocus,o=e.spellCheck,s=e.tabIndex,i=e.onChange,u=e.onInput,l=e.onKeyDown,c=e.onSearch,d=r.formats.some((function(e){return"inputText"===e.type})),f=Be.useCallback((function(e){i({text:e.target.value,formats:[]})}),[i]),p=Be.useCallback((function(e){i(e)}),[i]),v=Be.useCallback((function(e){u&&u({text:e.target.value,formats:[]})}),[u]),h=Be.useCallback((function(e){u&&u(e)}),[u]),m=Be.useCallback((function(e){l&&l(e)}),[l]),x=Be.useRef(null),g=x.current;return Be.useEffect((function(){if(g&&c){var e=function(e){var t=e.target;t&&c({text:t.value,formats:[]})};return g.addEventListener("search",e),function(){g.removeEventListener("search",e)}}}),[g,c]),ze.default.createElement("div",{className:"xappw-rich-input ".concat(e.className)},d?ze.default.createElement($e,{id:t,value:r,onChange:p,onInput:h,onKeyDown:m,className:"xappw-rich-input__input ".concat(e.className,"__input")}):ze.default.createElement("input",{id:t,ref:x,type:n,value:r.text,autoComplete:"off",autoFocus:a,placeholder:e.placeholder,spellCheck:o,tabIndex:s?Number(s):0,className:"xappw-rich-input__input ".concat(e.className,"__input"),onFocus:e.onFocus,onChange:f,onInput:v,onKeyDown:m}))};He.RichText=$e,He.SuggestionsGroup=tt,He.SuggestionsGroupHeading=Ze,He.SuggestionsItem=et;var ht=He.SuggestionsList=function(e){var t=e.suggestions,r=e.itemActions,n=e.className,a=Be.useMemo((function(){return t?rt(t):0}),[t])>=0?e.index:NaN,o=0;return ze.default.createElement("div",{className:"xappw-suggestions-list ".concat(n||"")},null==t?void 0:t.map((function(t,n){var s=ze.default.createElement(tt,{key:n,group:t,currentIndex:a-o,itemActions:r,onItemClick:e.onItemClick,onItemHover:e.onItemHover,onSpanClick:e.onSpanClick});return o+=t.items.length,s})))};He.addQueryParametersToURL=lt,He.extendFormat=Ge;var mt=He.findItemByIndex=function(e,t){if(t>=0)for(var r=0,n=e;r<n.length;r++)for(var a=0,o=n[r].items;a<o.length;a++){var s=o[a];if(t<=0)return s;t--}},xt=He.getItemsLength=rt,gt=He.parseSuggestionsResponse=function(e,t){if(void 0===t&&(t=1),e)return ut(e.suggestions,t).reduce((function(e,t){var r,n,a={text:(r=t).suggestion,content:r.answer,formats:(n=r.format,n.map(nt)),type:r.type};if(e.length){var o=e[e.length-1];if(o.heading===at(t.type))return o.items.push(a),e}return e.push({heading:at(t.type),items:[a]}),e}),[])};He.sortSuggestionItems=ut,He.useJsonFetch=ft;var yt=He.useSuggestionsFetch=function(e){var t=e.url,r=e.context,n=e.query,a=Be.useMemo((function(){if(t){var e=new URLSearchParams;return e.append("size","5"),e.append("queryText",n),(null==r?void 0:r.length)&&e.append("activeContexts",r.join(",")),lt(t,e)}}),[n,r,t]);return ft(a?"".concat(a.toString()):"",{pause:!n||!t})},bt=He.uuid=function(){var e=(new Date).getTime();return"xxxxxxxx-xxxx-65xx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(t){var r=(e+16*Math.random())%16|0;return e=Math.floor(e/16),("x"===t?r:3&r|8).toString(16)}))};function wt(e){if(e)return"string"==typeof e?{displayText:e}:e}function Ot(e,t){var r,n,a,o,s,i,u,l,c;if(void 0===t&&(t=(new Date).getTime()),!e)return i;var d=wt(e.outputSpeech),f=wt(e.reprompt);return d&&(u=d.displayText,l=d.html),"TRANSFER_CALL"===e.system?i={type:"handOff",timestamp:t,handoffMessage:u,handoffTarget:null===(r=null==e?void 0:e.data)||void 0===r?void 0:r.transferPhoneNumber,endSession:!1,user:void 0}:(null===(n=e.system)||void 0===n?void 0:n.startsWith("PERMISSION_"))?i=function(e,t){var r,n=function(e){switch(e){case"PERMISSION_EMAIL":return"EMAIL";case"PERMISSION_LOCATION_PRECISE":return"LOCATION_PRECISE";default:throw new Error("Unsupported permission: ".concat(e))}}(e.system),a=wt(e.outputSpeech),o=e.data.permissionPrimerAccepted,s=e.data.permissionDenied;return{type:"permissionRequest",timestamp:t,msg:{text:null!==(r=null==a?void 0:a.displayText)&&void 0!==r?r:"".concat(e.data.permissionRequestTTSContext),permissionRequest:{time:t,type:n,approve:"object"==typeof o?Ot({outputSpeech:o}).msg:void 0,deny:"object"==typeof s?Ot({outputSpeech:s}).msg:void 0}},endSession:!1,user:void 0}}(e,t):(c=!f||!(f.displayText||f.ssml),i={type:"msg",timestamp:t,msg:{displays:e.displays,context:null===(o=null===(a=e.context)||void 0===a?void 0:a.active)||void 0===o?void 0:o.map((function(e){return e.name}))},endSession:c,user:void 0},u&&!l&&(i.msg=z(z({},i.msg),{text:u})),l&&(i.msg=z(z({},i.msg),{html:l})),(null===(s=null==d?void 0:d.suggestions)||void 0===s?void 0:s.length)&&(i.msg.options=d.suggestions.map((function(e){return"string"==typeof e?e:{label:e.title,actionUrl:e.url}})))),i}function _t(e){var t=e.items,r=[{retry:0,delay:10,text:""}];if(Array.isArray(t)&&t.length>0)for(var n=0;n<t.length;n++)r.push({retry:n+1,delay:t[n].delay,text:t[n].text});return r}function kt(e){return{type:"session_id",detail:{sessionId:e,timestamp:(new Date).getTime()}}}var Mt=function(){function e(e,t){this._userId="",this._sessionId="",this._accessToken="",this._attributes={},this.config=e,this.options=t,this.configurableMessages=t.configurableMessages,this.isNewSession=!1,this.hooks=t.hooks}return e.prototype.init=function(e){this.dispatch=e,Z("got init auth: ".concat(this.config.key)),this.setConnectionStatus("online"),this.setAccountStatus("online")},e.prototype.setConnectionStatus=function(e){Z("SERVER: connection_update: ".concat(JSON.stringify(e))),this.dispatch(Le(e))},e.prototype.setAccountStatus=function(e){Z("SERVER: account_status: ".concat(JSON.stringify(e))),this.dispatch(Ye(e))},e.prototype.sendNewMessage=function(e){Z("SERVER: new message: ".concat(JSON.stringify(e))),this.dispatch({type:"chat",detail:{type:"chat.msg",user:z(z({},e.user),{nick:"agent:robot"}),msg:e.msg,timestamp:+new Date}})},e.prototype.userJoined=function(e){Z("SERVER: user joined: ".concat(JSON.stringify(e))),this.dispatch({type:"chat",detail:{type:"chat.memberjoin",user:z(z({},e.user),{nick:"agent:robot"}),timestamp:+new Date}})},e.prototype.typing=function(){this.dispatch({type:"chat",detail:{type:"chat.typing",user:{nick:"agent:robot"},typing:!0,timestamp:+new Date}})},e.prototype.stopTyping=function(){this.dispatch({type:"chat",detail:{type:"chat.typing",user:{nick:"agent:robot"},typing:!1,timestamp:+new Date}})},e.prototype.sendFailureMessage=function(e,t,r){this.stopTyping(),this.dispatch({type:"chat",detail:{type:"chat.failureMsg",user:{nick:"agent:robot"},failureMsg:{retry:e,delay:t,text:r},timestamp:+new Date}})},e.prototype.sendOfflineMsg=function(e,t){t()},e.prototype.sendChatMsg=function(e,t){return V(this,void 0,void 0,(function(){return Q(this,(function(r){return[2,this.sendChatMsgRequest({msg:e,timestamp:(new Date).getTime(),agent:!1,user:void 0,type:"msg"},t)]}))}))},e.prototype.bargeOut=function(e){return V(this,void 0,void 0,(function(){return Q(this,(function(e){throw new Error("Method not implemented: bargeOut")}))}))},e.prototype.bargeIn=function(e,t){return V(this,void 0,void 0,(function(){return Q(this,(function(e){throw new Error("Method not implemented: bargeIn")}))}))},e.prototype.getBot=function(e){var t,r=null===(t=this.options)||void 0===t?void 0:t.bot;return e?e.displayName&&e.nick&&e.avatarPath?e:z(z({},e),{nick:e.nick||r.nick||"Bot",displayName:e.displayName||r.displayName||"Bot",avatarPath:e.avatarPath||r.avatarPath}):r},e.prototype.sendChatMsgRequest=function(e,t){var r;return V(this,void 0,void 0,(function(){var n;return Q(this,(function(a){switch(a.label){case 0:return[4,this.postMessage(e)];case 1:return n=a.sent(),(null===(r=n.user)||void 0===r?void 0:r.displayName)||(n=z(z({},n),{user:this.getBot(n.user)})),this.sendNewMessage(n),t(),[2]}}))}))},e.prototype.sendTyping=function(){},e.prototype.setVisitorInfo=function(e,t,r){this.visitorInfo=e,this._attributes=z({},this.visitorInfo.attributes);var n=new URL(window.location.href);(null==n?void 0:n.host.toLowerCase().startsWith("localhost"))?this._attributes.isLocal=!0:this._attributes.currentUrl=window.location.href,this._accessToken=this.visitorInfo.accessToken,this.userJoined({user:this.getBot(void 0),token:""}),this.startSession(t),r()},e.prototype.sendChatRating=function(){},e.prototype.sendFile=function(e,t){t()},e.prototype.markAsRead=function(){},e.prototype.flush=function(){},e.prototype.dispose=function(){},e.prototype.sleep=function(){},e.prototype.wakeup=function(){},e.prototype.postMessage=function(e){var t,r,n,a,o;return V(this,void 0,void 0,(function(){var s,i,u,l,c,d,f,p,v,h,m,x,g,y,b,w,O,_,k,M,P=this;return Q(this,(function(E){switch(E.label){case 0:i=this._userId,u=this._sessionId,l=this._accessToken,c=this._attributes||{},d=(new Date).getTime(),this.isNewSession&&!(null===(t=null==e?void 0:e.msg)||void 0===t?void 0:t.text)?s={type:"LAUNCH_REQUEST",rawQuery:null===(r=null==e?void 0:e.msg)||void 0===r?void 0:r.text,sessionId:u,userId:i,isNewSession:!0,intentId:"LaunchRequest",platform:"stentor-platform",channel:"widget",accessToken:l,attributes:c}:(f=null===(n=e.msg)||void 0===n?void 0:n.permissionRequest)?(e=z(z({},e),{msg:z(z({},e.msg),{permissionRequest:void 0})}),p=d-f.time>3e5,v=null===(a=e.msg.text)||void 0===a?void 0:a.toLowerCase(),h=!p,m={id:this._userId},p||("EMAIL"===f.type&&(x=function(e){var t=/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;return t.test(String(e).toLowerCase())}(v),h=x,m.email=this.visitorInfo.email,m.name=this.visitorInfo.displayName,this.visitorInfo.email=v),"LOCATION_PRECISE"===f.type&&(h=!!e.msg.location,m.preciseLocation=e.msg.location?{coordinates:{latitude:e.msg.location.latitude,longitude:e.msg.location.longitude}}:void 0)),s={type:"PERMISSION_GRANT",rawQuery:e.msg.text,sessionId:this._sessionId,userId:this._userId,isNewSession:!1,granted:h,userProfile:m,intentId:"PermissionGrant",platform:"stentor-platform",channel:"widget",accessToken:l,attributes:c}):s="custom"===e.type?z(z({},JSON.parse(e.payload)),{sessionId:this._sessionId,userId:this._userId,isNewSession:!1,platform:"stentor-platform",channel:"widget",accessToken:l,attributes:c}):e.msg.token?{type:"OPTION_SELECT_REQUEST",token:e.msg.token,sessionId:this._sessionId,userId:this._userId,isNewSession:!1,intentId:"OptionSelect",platform:"stentor-platform",channel:"widget",accessToken:l,attributes:c}:{type:"INTENT_REQUEST",rawQuery:e.msg.text,sessionId:this._sessionId,userId:this._userId,isNewSession:!1,intentId:"NLU_RESULT_PLACEHOLDER",platform:"stentor-platform",channel:"widget",accessToken:l,attributes:c},Z("Visitor says: ".concat(JSON.stringify(s,void 0,2))),g=_t(this.configurableMessages),b=!1,w=function(e){y=e,b=!0},O=function(e,t){return V(P,void 0,void 0,(function(){var r,n,a;return Q(this,(function(o){return r=g[e].retry,n=g[e].delay,a=g[e].text,ee("POST failed: ".concat(t)),this.sendFailureMessage(r,n,a),y={errorText:""},[2,new Promise((function(e){setTimeout(e,1e3*n)}))]}))}))},_=1,E.label=1;case 1:return _<g.length?(k=this.config.timeout||15e3,this.typing(),[4,new K({retries:1,timeout:k}).fetch((function(e){return function(e,t,r,n){return V(this,void 0,void 0,(function(){var a,o;return Q(this,(function(s){switch(s.label){case 0:return a=JSON.stringify(e),Z("URL: ".concat(t)),Z("BODY: ".concat(a)),[4,fetch(t,{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(r),"User-Agent":"Stentor Chat Server"},body:a,mode:"cors",signal:n})];case 1:if(!(o=s.sent()).ok)throw new Error("Status ".concat(o.status,", Text: ").concat(o.statusText));return[2,o.json()]}}))}))}(s,P.config.url,P.config.key,e)})).then(w).catch(O.bind(this,_))]):[3,4];case 2:if(E.sent(),b)return[3,4];E.label=3;case 3:return _++,[3,1];case 4:return Z("Bot says: ".concat(JSON.stringify(y,void 0,2))),this.isNewSession=!1,M=Ot(y),!(null==y?void 0:y.hasOwnProperty("errorText"))&&y||((M={type:"userLeft",timestamp:d,msg:{},user:void 0,endSession:!0}).msg={text:(null==y?void 0:y.hasOwnProperty("errorText"))?y.errorText:"The assistant is not responding right now.  Please close the widget and open it again."}),"function"==typeof(null===(o=this.hooks)||void 0===o?void 0:o.onResponse)&&this.hooks.onResponse(y),this.stopTyping(),[2,M]}}))}))},e.prototype.startSession=function(e){this.visitorInfo.visitorId?this._userId="".concat(this.visitorInfo.visitorId):this.visitorInfo.email?this._userId="stentor-widget-user-".concat(this.visitorInfo.email):this._userId="stentor-widget-user-".concat(bt()),e?(this._sessionId=e,Z("Using persisted session id: ".concat(this._sessionId))):(this._sessionId="stentor-widget-session-".concat(bt()),this.dispatch(kt(this._sessionId)),Z("Using generated session id: ".concat(this._sessionId))),this.isNewSession=!0},Object.defineProperty(e.prototype,"userId",{get:function(){return this._userId},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"sessionId",{get:function(){return this._sessionId},enumerable:!1,configurable:!0}),e}();var Pt=function(){function e(){}return e.prototype.init=function(){},e.prototype.sendOfflineMsg=function(){},e.prototype.sendChatMsg=function(){},e.prototype.sendChatMsgRequest=function(){},e.prototype.sendTyping=function(){},e.prototype.setVisitorInfo=function(){},e.prototype.sendChatRating=function(){},e.prototype.sendFile=function(){},e.prototype.markAsRead=function(){},e.prototype.flush=function(){},e.prototype.dispose=function(){},e.prototype.bargeOut=function(){},e.prototype.bargeIn=function(){},e.prototype.sleep=function(){},e.prototype.wakeup=function(){},e}();function Et(e,t,r,n,a,o,s){var i,u,l,c,d,f,p=(new Date).getTime();if(r&&!(null===(i=null==e?void 0:e.msg)||void 0===i?void 0:i.text))f={type:"LAUNCH_REQUEST",rawQuery:null===(u=null==e?void 0:e.msg)||void 0===u?void 0:u.text,sessionId:n,userId:t,isNewSession:!0,intentId:"LaunchRequest",platform:"stentor-platform",channel:"widget",accessToken:a,attributes:o};else{var v=null===(l=e.msg)||void 0===l?void 0:l.permissionRequest;if(v){e=z(z({},e),{msg:z(z({},e.msg),{permissionRequest:void 0})});var h=p-v.time>3e5,m=null===(c=e.msg.text)||void 0===c?void 0:c.toLowerCase(),x=!h,g={id:t};if(!h){if("EMAIL"===v.type){var y=function(e){var t=/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;return t.test(String(e).toLowerCase())}(m);x=y,g.email=s.email,g.name=s.displayName,this.visitorInfo.email=m}"LOCATION_PRECISE"===v.type&&(x=!!e.msg.location,g.preciseLocation=e.msg.location?{coordinates:{latitude:e.msg.location.latitude,longitude:e.msg.location.longitude}}:void 0)}f={type:"PERMISSION_GRANT",rawQuery:e.msg.text,sessionId:n,userId:t,isNewSession:!1,granted:x,userProfile:g,intentId:"PermissionGrant",platform:"stentor-platform",channel:"widget",accessToken:a,attributes:o}}else f="custom"===e.type?z(z({},JSON.parse(e.payload)),{sessionId:n,userId:t,isNewSession:!1,platform:"stentor-platform",channel:"widget",accessToken:a,attributes:o}):e.msg.token?{type:"OPTION_SELECT_REQUEST",token:e.msg.token,sessionId:n,userId:t,isNewSession:!1,intentId:"OptionSelect",platform:"stentor-platform",channel:"widget",accessToken:a,attributes:o}:{type:"INTENT_REQUEST",rawQuery:e.msg.text,sessionId:n,userId:t,isNewSession:!1,intentId:"NLU_RESULT_PLACEHOLDER",platform:"stentor-platform",channel:"widget",accessToken:a,attributes:o}}return(null===(d=e.msg)||void 0===d?void 0:d.attributes)&&(f.attributes=z(z({},f.attributes),e.msg.attributes)),f}var Tt="router",St={deviceId:"Router",userId:Tt,isAdmin:!1,displayName:"XAPP Server",urlAttributes:{path:[],query:{}}},Ct=function(){function e(e,t){var r,n;this.isDisposed=!1,this._userId="",this._sessionId="",this.accessToken="",this.attributes={},this.isAdmin=!1,this.urlAttributes={},this.handlers={},this.config=e,this.options=t;var a=new URL(this.config.url);this.appId=a.searchParams.get("appId");var o=new URL(window.location.href);if(this.isAdmin="true"===o.searchParams.get("isAdmin"),this.appId)this.serverUrl=this.config.url,this.urlAttributes.path=null===(r=a.pathname)||void 0===r?void 0:r.split("/");else{this.serverUrl="".concat(a.origin);var s=null===(n=a.pathname)||void 0===n?void 0:n.split("/");s&&s.length>1&&(this.serverUrl="".concat(this.serverUrl,"/").concat(s[1]),this.urlAttributes.path=s.slice(1))}Z("WS url: ".concat(this.serverUrl," isAdmin: ").concat(this.isAdmin," attributes: ").concat(JSON.stringify(this.attributes)," appId: ").concat(this.appId)),this.configurableMessages=_t(t.configurableMessages),this.noOfServerErrors=0}return e.prototype.init=function(e){var t,r,n=this;this.dispatch=e,this.setAccountStatus("offline"),this.handlers["connection update"]=function(e,t,r){Z("Connection update received. Session created: ".concat(e.sessionCreated," Error: ").concat(e.errorMessage||"")),e.sessionCreated?(n.sessionCreated=!0,n.setConnectionStatus("online")):(ee("SERVER: something is wrong. Going offline."),n.dispatch(Ye("offline")),n.dispatch(Le("offline")))},this.handlers["account status"]=function(t,r,n){e({type:"account_status",detail:{status:"online",timestamp:n||(new Date).getTime()}})},this.handlers.failure=function(e,t,r){ee("SERVER: something's failed: type: ".concat(e.type," tries: ").concat(e.tries," error: ").concat(e.error));var a=n.configurableMessages[e.tries],o=a.retry,s=a.delay,i=a.text;n.sendFailureMessage(o,e.delay||s,i,t)},this.handlers["new message"]=function(e,t,r){var a,o;"Bot"===t.deviceId?("function"==typeof(null===(a=n.options.hooks)||void 0===a?void 0:a.onResponse)&&n.options.hooks.onResponse(o),o=Ot(e)):"Widget"===t.deviceId?o=function(e,t){if(void 0===t&&(t=(new Date).getTime()),e)return{type:"msg",timestamp:t,msg:{text:e.rawQuery},endSession:!1,user:void 0}}(e):ee("Unknown sender device Id: ".concat(t.deviceId)),n.dispatch({type:"chat",detail:{type:"chat.msg",user:{displayName:t.displayName||t.email||t.userId,nick:Nt(t),avatarPath:t.avatarPath},msg:o.msg,timestamp:r||(new Date).getTime()}})},this.handlers["user joined"]=function(e,t,r){var a,o;n.dispatch({type:"chat",detail:{type:"chat.memberjoin",user:{avatarPath:null===(o=null===(a=n.options)||void 0===a?void 0:a.bot)||void 0===o?void 0:o.avatarPath,displayName:t.displayName,nick:Nt(t)},timestamp:r||(new Date).getTime()}})},this.handlers["user left"]=function(e,t,r){n.dispatch({type:"chat",detail:{type:"chat.memberleave",user:{displayName:t.displayName,nick:Nt(t)},timestamp:r||(new Date).getTime()}})},this.handlers.typing=function(e,t,r){n.dispatch({type:"chat",detail:{type:"chat.typing",user:{nick:Nt(t)},typing:!0,timestamp:r||(new Date).getTime()}})},this.handlers["stop typing"]=function(e,t,r){n.dispatch({type:"chat",detail:{type:"chat.typing",user:{nick:Nt(t)},typing:!1,timestamp:r||(new Date).getTime()}})},this.handlers.disconnect=function(){ee("SERVER: requested disconnect"),n.dispatch(Ye("offline")),n.dispatch(Le("offline"))},this.handlers.reconnect=function(){n.dispatch(Ye("online")),n.dispatch(Le("online"))},this.handlers["reconnect failed"]=function(e){ee("SERVER: says re-connect failed"),n.dispatch(Ye("offline")),n.dispatch(Le("offline"))},this.handlers["reconnect error"]=function(e){ee("SERVER: says there was an error while re-connecting"),n.dispatch(Ye("offline"))},this.dispatch({type:"chat",detail:{type:"chat.memberjoin",user:{avatarPath:null===(r=null===(t=this.options)||void 0===t?void 0:t.bot)||void 0===r?void 0:r.avatarPath,displayName:St.displayName,nick:Nt(St)},timestamp:(new Date).getTime()}}),this.setAccountStatus("online"),this.setConnectionStatus("online")},e.prototype.autoReconnect=function(e){var t=this;0===this.noOfServerErrors&&this.setConnectionStatus("pending");var r=this.setAccountStatus.bind(this),n=this.setConnectionStatus.bind(this);function a(){var t=setInterval((function(){var o=e();o?(Z("Re-created WS connection"),o.onopen=function(){Z("Re-opened WS connection"),r("online"),n("online"),o.onclose=function(){Z("Closed WS connection (onclosed was called)"),a()},clearInterval(t)}):clearInterval(t)}),5e3)}Z("Creating WS connection");var o=e();o&&(o.onclose=function(){Z("Closed WS connection (onclosed was called)"),a()},this.ws.onopen=function(){Z("Opened WS connection (onopen was called)"),t.setAccountStatus("online"),t.setConnectionStatus("online")})},e.prototype.wsClose=function(){this.ws&&(this.ws.onclose=null,this.ws.onerror=null,this.ws.onopen=null,this.ws.onmessage=null,this.ws.close())},e.prototype.wsCreate=function(e){var t=this;if(!this.isDisposed){Z('Trying to re-connect. Reason: "'.concat(e,'"'));var r=new URL(this.serverUrl);if(r.searchParams.set("userId",this._userId),r.searchParams.set("isAdmin","".concat(this.isAdmin)),r.searchParams.set("createWsReason",e),this.ws&&this.ws.readyState!==WebSocket.CLOSED&&this.ws.readyState!==WebSocket.CLOSING){var n=this.ws.readyState;Z("Forced WS close. State: ".concat(n));try{this.wsClose()}catch(ee){ee("Failed to close WS (ready state: ".concat(n,"): ").concat(ee))}}return this.ws=new WebSocket(r.toString()),this.ws.onerror=function(e){var n;ee("Error in WS connection. Url: ".concat(r.toString()," Type: ").concat(e?e.type:"?"," Ready State: ").concat(null===(n=t.ws)||void 0===n?void 0:n.readyState))},this.ws.onmessage=function(e){Z("ROUTER says: ".concat(e.data));var r=JSON.parse(e.data);t.handlers[r.event]?t.handlers[r.event](r.data,r.sender,r.timeMs):ee("Unknown router message event: ".concat(r.event))},this.ws}Z("Stopping reconnect for disposed router connector")},e.prototype.checkConnection=function(){var e;return(null===(e=this.ws)||void 0===e?void 0:e.readyState)===WebSocket.OPEN},e.prototype.emit=function(e,t){return V(this,void 0,void 0,(function(){var r,n=this;return Q(this,(function(a){switch(a.label){case 0:return r=JSON.stringify({event:e,data:t,sender:this.visitorInfo,sessionId:this._sessionId,timeMs:(new Date).getTime()}),Z("Widget says: ".concat(r)),this.ws||this.autoReconnect(this.wsCreate.bind(this,"emitNoWs")),[4,jt(this.checkConnection.bind(this),1e3,1e4,"connection").then((function(e){e>0&&Z("Connection is ready in ".concat(e," ms")),n.ws.send(r),n.noOfServerErrors=0})).catch((function(e){ee("Connection wait timed out in ".concat(e," ms (show error)")),n.setConnectionStatus("online")}))];case 1:return a.sent(),[2]}}))}))},e.prototype.setAccountStatus=function(e){Z("SERVER account_status: ".concat(JSON.stringify(e))),this.dispatch(Ye(e))},e.prototype.setConnectionStatus=function(e){Z("SERVER: connection_update: ".concat(JSON.stringify(e))),this.dispatch(Le(e))},e.prototype.sendOfflineMsg=function(e,t){t()},e.prototype.sendChatMsg=function(e,t){return V(this,void 0,void 0,(function(){return Q(this,(function(r){return[2,this.sendChatMsgRequest({msg:e,timestamp:(new Date).getTime(),agent:!1,user:void 0,type:"msg"},t)]}))}))},e.prototype.sendFailureMessage=function(e,t,r,n){this.dispatch({type:"chat",detail:{type:"chat.typing",user:{nick:Nt(n)},typing:!1,timestamp:+new Date}}),this.dispatch({type:"chat",detail:{type:"chat.failureMsg",user:{nick:Nt(n)},failureMsg:{retry:e,delay:t,text:r},timestamp:+new Date}})},e.prototype.sendDisconnectMessage=function(){this.dispatch({type:"chat",detail:{type:"chat.msg",user:{displayName:"Server",nick:Nt(St),avatarPath:St.avatarPath},msg:{text:0===this.noOfServerErrors?"I cannot connect to the server. Please try later.":"Nope. Still no luck. I still cannot connect to the server. Please don't give up."},timestamp:(new Date).getTime()}}),this.noOfServerErrors++},e.prototype.checkSession=function(){return this.sessionCreated},e.prototype.sendChatMsgRequest=function(e,t){return V(this,void 0,void 0,(function(){var r=this;return Q(this,(function(n){switch(n.label){case 0:return this.checkSession()||this.setConnectionStatus("pending"),[4,jt(this.checkSession.bind(this),1e3,1e4,"session creation").then((function(t){t>0&&Z("Session creation is ready in ".concat(t," ms")),r.postMessage(e)})).catch((function(e){ee("Session creation wait timed out in ".concat(e," ms")),r.setConnectionStatus("online"),r.sendDisconnectMessage()}))];case 1:return n.sent(),this.setConnectionStatus("online"),t(),[2]}}))}))},e.prototype.sendTyping=function(e){},e.prototype.setVisitorInfo=function(e,t,r){Z("Visitor Info Message = ".concat(JSON.stringify(e))),this.visitorInfo={deviceId:"Widget",userId:e.userId,displayName:e.displayName||e.name,email:e.email,isAdmin:this.isAdmin,urlAttributes:this.urlAttributes},this.attributes=z(z(z({},e.attributes),this.attributes),{currentUrl:window.location.href}),this.accessToken=e.accessToken,this.startSession(t),this.postVisitorInfo(),r()},e.prototype.sendChatRating=function(){},e.prototype.sendFile=function(e,t){t()},e.prototype.markAsRead=function(){},e.prototype.flush=function(){},e.prototype.dispose=function(){this.isDisposed=!0,this.ws&&this.wsClose(),Z("Closed web socket (dispose)")},e.prototype.sleep=function(){this.isDisposed=!0,this.ws&&this.wsClose(),Z("Closed web socket (sleep)")},e.prototype.wakeup=function(){this.isDisposed=!1,this._userId&&(this.autoReconnect(this.wsCreate.bind(this,"wakeup")),Z("Waking up"))},e.prototype.bargeOut=function(e){return V(this,void 0,void 0,(function(){return Q(this,(function(e){return this.emit("barge out"),[2]}))}))},e.prototype.bargeIn=function(e,t){return V(this,void 0,void 0,(function(){return Q(this,(function(t){return this.visitorInfo.displayName=e,this.emit("barge in"),[2]}))}))},e.prototype.postVisitorInfo=function(){return V(this,void 0,void 0,(function(){return Q(this,(function(e){return this.sessionCreated=!1,this.emit("user joined"),[2]}))}))},e.prototype.postMessage=function(e){return V(this,void 0,void 0,(function(){var t,r,n,a,o;return Q(this,(function(s){return t=this._userId,r=this._sessionId,n=this.accessToken,a=this.attributes||{},o=Et(e,t,this.isNewSession,r,n,a,this.visitorInfo),this.emit("new message",o),[2]}))}))},e.prototype.startSession=function(e){this.visitorInfo.userId?this._userId="".concat(this.visitorInfo.userId):this.visitorInfo.email?this._userId="stentor-widget-user-".concat(this.visitorInfo.email):this._userId="stentor-widget-user-".concat(bt());var t=new URL(window.location.href).searchParams.get("sessionId");t?(this._sessionId=t,this.dispatch(kt(this._sessionId)),Z("Using enforced session id: ".concat(this._sessionId))):e?(this._sessionId=e,Z("Using persisted session id: ".concat(this._sessionId))):(this._sessionId="stentor-widget-session-".concat(bt()),this.dispatch(kt(this._sessionId)),Z("Using generated session id: ".concat(this._sessionId))),this.isNewSession=!0,Z("Started session: ".concat(this._sessionId))},e}();function Nt(e){return"Bot"===e.deviceId?"agent:bot:".concat(e.userId):"agent:widget:".concat(e.userId)}function jt(e,t,r,n){var a=0,o=function(s,i){a>=r?i(a):e()?s(a):(a+=t,n&&Z("Still waiting for ".concat(n," (").concat(a," ms)")),setTimeout((function(e){return o(s,i)}),t))};return new Promise(o)}const Dt=Object.create(null);Dt.open="0",Dt.close="1",Dt.ping="2",Dt.pong="3",Dt.message="4",Dt.upgrade="5",Dt.noop="6";const It=Object.create(null);Object.keys(Dt).forEach((e=>{It[Dt[e]]=e}));const Rt={type:"error",data:"parser error"},At="function"==typeof Blob||"undefined"!=typeof Blob&&"[object BlobConstructor]"===Object.prototype.toString.call(Blob),Ut="function"==typeof ArrayBuffer,Yt=({type:e,data:t},r,n)=>{return At&&t instanceof Blob?r?n(t):Lt(t,n):Ut&&(t instanceof ArrayBuffer||(a=t,"function"==typeof ArrayBuffer.isView?ArrayBuffer.isView(a):a&&a.buffer instanceof ArrayBuffer))?r?n(t):Lt(new Blob([t]),n):n(Dt[e]+(t||""));var a},Lt=(e,t)=>{const r=new FileReader;return r.onload=function(){const e=r.result.split(",")[1];t("b"+(e||""))},r.readAsDataURL(e)},Wt="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Ft="undefined"==typeof Uint8Array?[]:new Uint8Array(256);for(let Ng=0;Ng<64;Ng++)Ft[Wt.charCodeAt(Ng)]=Ng;const Ht="function"==typeof ArrayBuffer,Bt=(e,t)=>{if("string"!=typeof e)return{type:"message",data:zt(e,t)};const r=e.charAt(0);if("b"===r)return{type:"message",data:qt(e.substring(1),t)};return It[r]?e.length>1?{type:It[r],data:e.substring(1)}:{type:It[r]}:Rt},qt=(e,t)=>{if(Ht){const r=(e=>{let t,r,n,a,o,s=.75*e.length,i=e.length,u=0;"="===e[e.length-1]&&(s--,"="===e[e.length-2]&&s--);const l=new ArrayBuffer(s),c=new Uint8Array(l);for(t=0;t<i;t+=4)r=Ft[e.charCodeAt(t)],n=Ft[e.charCodeAt(t+1)],a=Ft[e.charCodeAt(t+2)],o=Ft[e.charCodeAt(t+3)],c[u++]=r<<2|n>>4,c[u++]=(15&n)<<4|a>>2,c[u++]=(3&a)<<6|63&o;return l})(e);return zt(r,t)}return{base64:!0,data:e}},zt=(e,t)=>"blob"===t&&e instanceof ArrayBuffer?new Blob([e]):e,Vt=String.fromCharCode(30);var Qt=Jt;function Jt(e){if(e)return function(e){for(var t in Jt.prototype)e[t]=Jt.prototype[t];return e}(e)}Jt.prototype.on=Jt.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks["$"+e]=this._callbacks["$"+e]||[]).push(t),this},Jt.prototype.once=function(e,t){function r(){this.off(e,r),t.apply(this,arguments)}return r.fn=t,this.on(e,r),this},Jt.prototype.off=Jt.prototype.removeListener=Jt.prototype.removeAllListeners=Jt.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var r,n=this._callbacks["$"+e];if(!n)return this;if(1==arguments.length)return delete this._callbacks["$"+e],this;for(var a=0;a<n.length;a++)if((r=n[a])===t||r.fn===t){n.splice(a,1);break}return 0===n.length&&delete this._callbacks["$"+e],this},Jt.prototype.emit=function(e){this._callbacks=this._callbacks||{};for(var t=new Array(arguments.length-1),r=this._callbacks["$"+e],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(r){n=0;for(var a=(r=r.slice(0)).length;n<a;++n)r[n].apply(this,t)}return this},Jt.prototype.emitReserved=Jt.prototype.emit,Jt.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks["$"+e]||[]},Jt.prototype.hasListeners=function(e){return!!this.listeners(e).length};const Xt="undefined"!=typeof self?self:"undefined"!=typeof window?window:Function("return this")();function Gt(e,...t){return t.reduce(((t,r)=>(e.hasOwnProperty(r)&&(t[r]=e[r]),t)),{})}const Kt=setTimeout,$t=clearTimeout;function Zt(e,t){t.useNativeTimers?(e.setTimeoutFn=Kt.bind(Xt),e.clearTimeoutFn=$t.bind(Xt)):(e.setTimeoutFn=setTimeout.bind(Xt),e.clearTimeoutFn=clearTimeout.bind(Xt))}class er extends Error{constructor(e,t,r){super(e),this.description=t,this.context=r,this.type="TransportError"}}class tr extends Qt{constructor(e){super(),this.writable=!1,Zt(this,e),this.opts=e,this.query=e.query,this.readyState="",this.socket=e.socket}onError(e,t,r){return super.emitReserved("error",new er(e,t,r)),this}open(){return"closed"!==this.readyState&&""!==this.readyState||(this.readyState="opening",this.doOpen()),this}close(){return"opening"!==this.readyState&&"open"!==this.readyState||(this.doClose(),this.onClose()),this}send(e){"open"===this.readyState&&this.write(e)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(e){const t=Bt(e,this.socket.binaryType);this.onPacket(t)}onPacket(e){super.emitReserved("packet",e)}onClose(e){this.readyState="closed",super.emitReserved("close",e)}}const rr="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_".split(""),nr=64,ar={};let or,sr=0,ir=0;function ur(e){let t="";do{t=rr[e%nr]+t,e=Math.floor(e/nr)}while(e>0);return t}function lr(){const e=ur(+new Date);return e!==or?(sr=0,or=e):e+"."+ur(sr++)}for(;ir<nr;ir++)ar[rr[ir]]=ir;function cr(e){let t="";for(let r in e)e.hasOwnProperty(r)&&(t.length&&(t+="&"),t+=encodeURIComponent(r)+"="+encodeURIComponent(e[r]));return t}let dr=!1;try{dr="undefined"!=typeof XMLHttpRequest&&"withCredentials"in new XMLHttpRequest}catch(ee){}const fr=dr;function pr(e){const t=e.xdomain;try{if("undefined"!=typeof XMLHttpRequest&&(!t||fr))return new XMLHttpRequest}catch(r){}if(!t)try{return new(Xt[["Active"].concat("Object").join("X")])("Microsoft.XMLHTTP")}catch(r){}}function vr(){}const hr=null!=new pr({xdomain:!1}).responseType;class mr extends Qt{constructor(e,t){super(),Zt(this,t),this.opts=t,this.method=t.method||"GET",this.uri=e,this.async=!1!==t.async,this.data=void 0!==t.data?t.data:null,this.create()}create(){const e=Gt(this.opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");e.xdomain=!!this.opts.xd,e.xscheme=!!this.opts.xs;const t=this.xhr=new pr(e);try{t.open(this.method,this.uri,this.async);try{if(this.opts.extraHeaders){t.setDisableHeaderCheck&&t.setDisableHeaderCheck(!0);for(let e in this.opts.extraHeaders)this.opts.extraHeaders.hasOwnProperty(e)&&t.setRequestHeader(e,this.opts.extraHeaders[e])}}catch(r){}if("POST"===this.method)try{t.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch(r){}try{t.setRequestHeader("Accept","*/*")}catch(r){}"withCredentials"in t&&(t.withCredentials=this.opts.withCredentials),this.opts.requestTimeout&&(t.timeout=this.opts.requestTimeout),t.onreadystatechange=()=>{4===t.readyState&&(200===t.status||1223===t.status?this.onLoad():this.setTimeoutFn((()=>{this.onError("number"==typeof t.status?t.status:0)}),0))},t.send(this.data)}catch(r){return void this.setTimeoutFn((()=>{this.onError(r)}),0)}"undefined"!=typeof document&&(this.index=mr.requestsCount++,mr.requests[this.index]=this)}onError(e){this.emitReserved("error",e,this.xhr),this.cleanup(!0)}cleanup(e){if(void 0!==this.xhr&&null!==this.xhr){if(this.xhr.onreadystatechange=vr,e)try{this.xhr.abort()}catch(t){}"undefined"!=typeof document&&delete mr.requests[this.index],this.xhr=null}}onLoad(){const e=this.xhr.responseText;null!==e&&(this.emitReserved("data",e),this.emitReserved("success"),this.cleanup())}abort(){this.cleanup()}}if(mr.requestsCount=0,mr.requests={},"undefined"!=typeof document)if("function"==typeof attachEvent)attachEvent("onunload",xr);else if("function"==typeof addEventListener){addEventListener("onpagehide"in Xt?"pagehide":"unload",xr,!1)}function xr(){for(let e in mr.requests)mr.requests.hasOwnProperty(e)&&mr.requests[e].abort()}const gr="function"==typeof Promise&&"function"==typeof Promise.resolve?e=>Promise.resolve().then(e):(e,t)=>t(e,0),yr=Xt.WebSocket||Xt.MozWebSocket,br="undefined"!=typeof navigator&&"string"==typeof navigator.product&&"reactnative"===navigator.product.toLowerCase();const wr={websocket:class extends tr{constructor(e){super(e),this.supportsBinary=!e.forceBase64}get name(){return"websocket"}doOpen(){if(!this.check())return;const e=this.uri(),t=this.opts.protocols,r=br?{}:Gt(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(r.headers=this.opts.extraHeaders);try{this.ws=br?new yr(e,t,r):t?new yr(e,t):new yr(e)}catch(ee){return this.emitReserved("error",ee)}this.ws.binaryType=this.socket.binaryType||"arraybuffer",this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=e=>this.onClose({description:"websocket connection closed",context:e}),this.ws.onmessage=e=>this.onData(e.data),this.ws.onerror=e=>this.onError("websocket error",e)}write(e){this.writable=!1;for(let t=0;t<e.length;t++){const r=e[t],n=t===e.length-1;Yt(r,this.supportsBinary,(e=>{try{this.ws.send(e)}catch(t){}n&&gr((()=>{this.writable=!0,this.emitReserved("drain")}),this.setTimeoutFn)}))}}doClose(){void 0!==this.ws&&(this.ws.close(),this.ws=null)}uri(){let e=this.query||{};const t=this.opts.secure?"wss":"ws";let r="";this.opts.port&&("wss"===t&&443!==Number(this.opts.port)||"ws"===t&&80!==Number(this.opts.port))&&(r=":"+this.opts.port),this.opts.timestampRequests&&(e[this.opts.timestampParam]=lr()),this.supportsBinary||(e.b64=1);const n=cr(e);return t+"://"+(-1!==this.opts.hostname.indexOf(":")?"["+this.opts.hostname+"]":this.opts.hostname)+r+this.opts.path+(n.length?"?"+n:"")}check(){return!!yr}},polling:class extends tr{constructor(e){if(super(e),this.polling=!1,"undefined"!=typeof location){const t="https:"===location.protocol;let r=location.port;r||(r=t?"443":"80"),this.xd="undefined"!=typeof location&&e.hostname!==location.hostname||r!==e.port,this.xs=e.secure!==t}const t=e&&e.forceBase64;this.supportsBinary=hr&&!t}get name(){return"polling"}doOpen(){this.poll()}pause(e){this.readyState="pausing";const t=()=>{this.readyState="paused",e()};if(this.polling||!this.writable){let e=0;this.polling&&(e++,this.once("pollComplete",(function(){--e||t()}))),this.writable||(e++,this.once("drain",(function(){--e||t()})))}else t()}poll(){this.polling=!0,this.doPoll(),this.emitReserved("poll")}onData(e){((e,t)=>{const r=e.split(Vt),n=[];for(let a=0;a<r.length;a++){const e=Bt(r[a],t);if(n.push(e),"error"===e.type)break}return n})(e,this.socket.binaryType).forEach((e=>{if("opening"===this.readyState&&"open"===e.type&&this.onOpen(),"close"===e.type)return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(e)})),"closed"!==this.readyState&&(this.polling=!1,this.emitReserved("pollComplete"),"open"===this.readyState&&this.poll())}doClose(){const e=()=>{this.write([{type:"close"}])};"open"===this.readyState?e():this.once("open",e)}write(e){this.writable=!1,((e,t)=>{const r=e.length,n=new Array(r);let a=0;e.forEach(((e,o)=>{Yt(e,!1,(e=>{n[o]=e,++a===r&&t(n.join(Vt))}))}))})(e,(e=>{this.doWrite(e,(()=>{this.writable=!0,this.emitReserved("drain")}))}))}uri(){let e=this.query||{};const t=this.opts.secure?"https":"http";let r="";!1!==this.opts.timestampRequests&&(e[this.opts.timestampParam]=lr()),this.supportsBinary||e.sid||(e.b64=1),this.opts.port&&("https"===t&&443!==Number(this.opts.port)||"http"===t&&80!==Number(this.opts.port))&&(r=":"+this.opts.port);const n=cr(e);return t+"://"+(-1!==this.opts.hostname.indexOf(":")?"["+this.opts.hostname+"]":this.opts.hostname)+r+this.opts.path+(n.length?"?"+n:"")}request(e={}){return Object.assign(e,{xd:this.xd,xs:this.xs},this.opts),new mr(this.uri(),e)}doWrite(e,t){const r=this.request({method:"POST",data:e});r.on("success",t),r.on("error",((e,t)=>{this.onError("xhr post error",e,t)}))}doPoll(){const e=this.request();e.on("data",this.onData.bind(this)),e.on("error",((e,t)=>{this.onError("xhr poll error",e,t)})),this.pollXhr=e}}},Or=/^(?:(?![^:@]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,_r=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function kr(e){const t=e,r=e.indexOf("["),n=e.indexOf("]");-1!=r&&-1!=n&&(e=e.substring(0,r)+e.substring(r,n).replace(/:/g,";")+e.substring(n,e.length));let a=Or.exec(e||""),o={},s=14;for(;s--;)o[_r[s]]=a[s]||"";return-1!=r&&-1!=n&&(o.source=t,o.host=o.host.substring(1,o.host.length-1).replace(/;/g,":"),o.authority=o.authority.replace("[","").replace("]","").replace(/;/g,":"),o.ipv6uri=!0),o.pathNames=function(e,t){const r=/\/{2,9}/g,n=t.replace(r,"/").split("/");"/"!=t.slice(0,1)&&0!==t.length||n.splice(0,1);"/"==t.slice(-1)&&n.splice(n.length-1,1);return n}(0,o.path),o.queryKey=function(e,t){const r={};return t.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,(function(e,t,n){t&&(r[t]=n)})),r}(0,o.query),o}class Mr extends Qt{constructor(e,t={}){super(),e&&"object"==typeof e&&(t=e,e=null),e?(e=kr(e),t.hostname=e.host,t.secure="https"===e.protocol||"wss"===e.protocol,t.port=e.port,e.query&&(t.query=e.query)):t.host&&(t.hostname=kr(t.host).host),Zt(this,t),this.secure=null!=t.secure?t.secure:"undefined"!=typeof location&&"https:"===location.protocol,t.hostname&&!t.port&&(t.port=this.secure?"443":"80"),this.hostname=t.hostname||("undefined"!=typeof location?location.hostname:"localhost"),this.port=t.port||("undefined"!=typeof location&&location.port?location.port:this.secure?"443":"80"),this.transports=t.transports||["polling","websocket"],this.readyState="",this.writeBuffer=[],this.prevBufferLen=0,this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!0},t),this.opts.path=this.opts.path.replace(/\/$/,"")+"/","string"==typeof this.opts.query&&(this.opts.query=function(e){let t={},r=e.split("&");for(let n=0,a=r.length;n<a;n++){let e=r[n].split("=");t[decodeURIComponent(e[0])]=decodeURIComponent(e[1])}return t}(this.opts.query)),this.id=null,this.upgrades=null,this.pingInterval=null,this.pingTimeout=null,this.pingTimeoutTimer=null,"function"==typeof addEventListener&&(this.opts.closeOnBeforeunload&&(this.beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this.beforeunloadEventListener,!1)),"localhost"!==this.hostname&&(this.offlineEventListener=()=>{this.onClose("transport close",{description:"network connection lost"})},addEventListener("offline",this.offlineEventListener,!1))),this.open()}createTransport(e){const t=Object.assign({},this.opts.query);t.EIO=4,t.transport=e,this.id&&(t.sid=this.id);const r=Object.assign({},this.opts.transportOptions[e],this.opts,{query:t,socket:this,hostname:this.hostname,secure:this.secure,port:this.port});return new wr[e](r)}open(){let e;if(this.opts.rememberUpgrade&&Mr.priorWebsocketSuccess&&-1!==this.transports.indexOf("websocket"))e="websocket";else{if(0===this.transports.length)return void this.setTimeoutFn((()=>{this.emitReserved("error","No transports available")}),0);e=this.transports[0]}this.readyState="opening";try{e=this.createTransport(e)}catch(t){return this.transports.shift(),void this.open()}e.open(),this.setTransport(e)}setTransport(e){this.transport&&this.transport.removeAllListeners(),this.transport=e,e.on("drain",this.onDrain.bind(this)).on("packet",this.onPacket.bind(this)).on("error",this.onError.bind(this)).on("close",(e=>this.onClose("transport close",e)))}probe(e){let t=this.createTransport(e),r=!1;Mr.priorWebsocketSuccess=!1;const n=()=>{r||(t.send([{type:"ping",data:"probe"}]),t.once("packet",(e=>{if(!r)if("pong"===e.type&&"probe"===e.data){if(this.upgrading=!0,this.emitReserved("upgrading",t),!t)return;Mr.priorWebsocketSuccess="websocket"===t.name,this.transport.pause((()=>{r||"closed"!==this.readyState&&(l(),this.setTransport(t),t.send([{type:"upgrade"}]),this.emitReserved("upgrade",t),t=null,this.upgrading=!1,this.flush())}))}else{const e=new Error("probe error");e.transport=t.name,this.emitReserved("upgradeError",e)}})))};function a(){r||(r=!0,l(),t.close(),t=null)}const o=e=>{const r=new Error("probe error: "+e);r.transport=t.name,a(),this.emitReserved("upgradeError",r)};function s(){o("transport closed")}function i(){o("socket closed")}function u(e){t&&e.name!==t.name&&a()}const l=()=>{t.removeListener("open",n),t.removeListener("error",o),t.removeListener("close",s),this.off("close",i),this.off("upgrading",u)};t.once("open",n),t.once("error",o),t.once("close",s),this.once("close",i),this.once("upgrading",u),t.open()}onOpen(){if(this.readyState="open",Mr.priorWebsocketSuccess="websocket"===this.transport.name,this.emitReserved("open"),this.flush(),"open"===this.readyState&&this.opts.upgrade&&this.transport.pause){let e=0;const t=this.upgrades.length;for(;e<t;e++)this.probe(this.upgrades[e])}}onPacket(e){if("opening"===this.readyState||"open"===this.readyState||"closing"===this.readyState)switch(this.emitReserved("packet",e),this.emitReserved("heartbeat"),e.type){case"open":this.onHandshake(JSON.parse(e.data));break;case"ping":this.resetPingTimeout(),this.sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong");break;case"error":const t=new Error("server error");t.code=e.data,this.onError(t);break;case"message":this.emitReserved("data",e.data),this.emitReserved("message",e.data)}}onHandshake(e){this.emitReserved("handshake",e),this.id=e.sid,this.transport.query.sid=e.sid,this.upgrades=this.filterUpgrades(e.upgrades),this.pingInterval=e.pingInterval,this.pingTimeout=e.pingTimeout,this.maxPayload=e.maxPayload,this.onOpen(),"closed"!==this.readyState&&this.resetPingTimeout()}resetPingTimeout(){this.clearTimeoutFn(this.pingTimeoutTimer),this.pingTimeoutTimer=this.setTimeoutFn((()=>{this.onClose("ping timeout")}),this.pingInterval+this.pingTimeout),this.opts.autoUnref&&this.pingTimeoutTimer.unref()}onDrain(){this.writeBuffer.splice(0,this.prevBufferLen),this.prevBufferLen=0,0===this.writeBuffer.length?this.emitReserved("drain"):this.flush()}flush(){if("closed"!==this.readyState&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const e=this.getWritablePackets();this.transport.send(e),this.prevBufferLen=e.length,this.emitReserved("flush")}}getWritablePackets(){if(!(this.maxPayload&&"polling"===this.transport.name&&this.writeBuffer.length>1))return this.writeBuffer;let e=1;for(let r=0;r<this.writeBuffer.length;r++){const n=this.writeBuffer[r].data;if(n&&(e+="string"==typeof(t=n)?function(e){let t=0,r=0;for(let n=0,a=e.length;n<a;n++)t=e.charCodeAt(n),t<128?r+=1:t<2048?r+=2:t<55296||t>=57344?r+=3:(n++,r+=4);return r}(t):Math.ceil(1.33*(t.byteLength||t.size))),r>0&&e>this.maxPayload)return this.writeBuffer.slice(0,r);e+=2}var t;return this.writeBuffer}write(e,t,r){return this.sendPacket("message",e,t,r),this}send(e,t,r){return this.sendPacket("message",e,t,r),this}sendPacket(e,t,r,n){if("function"==typeof t&&(n=t,t=void 0),"function"==typeof r&&(n=r,r=null),"closing"===this.readyState||"closed"===this.readyState)return;(r=r||{}).compress=!1!==r.compress;const a={type:e,data:t,options:r};this.emitReserved("packetCreate",a),this.writeBuffer.push(a),n&&this.once("flush",n),this.flush()}close(){const e=()=>{this.onClose("forced close"),this.transport.close()},t=()=>{this.off("upgrade",t),this.off("upgradeError",t),e()},r=()=>{this.once("upgrade",t),this.once("upgradeError",t)};return"opening"!==this.readyState&&"open"!==this.readyState||(this.readyState="closing",this.writeBuffer.length?this.once("drain",(()=>{this.upgrading?r():e()})):this.upgrading?r():e()),this}onError(e){Mr.priorWebsocketSuccess=!1,this.emitReserved("error",e),this.onClose("transport error",e)}onClose(e,t){"opening"!==this.readyState&&"open"!==this.readyState&&"closing"!==this.readyState||(this.clearTimeoutFn(this.pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),"function"==typeof removeEventListener&&(removeEventListener("beforeunload",this.beforeunloadEventListener,!1),removeEventListener("offline",this.offlineEventListener,!1)),this.readyState="closed",this.id=null,this.emitReserved("close",e,t),this.writeBuffer=[],this.prevBufferLen=0)}filterUpgrades(e){const t=[];let r=0;const n=e.length;for(;r<n;r++)~this.transports.indexOf(e[r])&&t.push(e[r]);return t}}Mr.protocol=4,Mr.protocol;const Pr="function"==typeof ArrayBuffer,Er=e=>"function"==typeof ArrayBuffer.isView?ArrayBuffer.isView(e):e.buffer instanceof ArrayBuffer,Tr=Object.prototype.toString,Sr="function"==typeof Blob||"undefined"!=typeof Blob&&"[object BlobConstructor]"===Tr.call(Blob),Cr="function"==typeof File||"undefined"!=typeof File&&"[object FileConstructor]"===Tr.call(File);function Nr(e){return Pr&&(e instanceof ArrayBuffer||Er(e))||Sr&&e instanceof Blob||Cr&&e instanceof File}function jr(e,t){if(!e||"object"!=typeof e)return!1;if(Array.isArray(e)){for(let t=0,r=e.length;t<r;t++)if(jr(e[t]))return!0;return!1}if(Nr(e))return!0;if(e.toJSON&&"function"==typeof e.toJSON&&1===arguments.length)return jr(e.toJSON(),!0);for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&jr(e[r]))return!0;return!1}function Dr(e){const t=[],r=e.data,n=e;return n.data=Ir(r,t),n.attachments=t.length,{packet:n,buffers:t}}function Ir(e,t){if(!e)return e;if(Nr(e)){const r={_placeholder:!0,num:t.length};return t.push(e),r}if(Array.isArray(e)){const r=new Array(e.length);for(let n=0;n<e.length;n++)r[n]=Ir(e[n],t);return r}if("object"==typeof e&&!(e instanceof Date)){const r={};for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=Ir(e[n],t));return r}return e}function Rr(e,t){return e.data=Ar(e.data,t),delete e.attachments,e}function Ar(e,t){if(!e)return e;if(e&&!0===e._placeholder){if("number"==typeof e.num&&e.num>=0&&e.num<t.length)return t[e.num];throw new Error("illegal attachments")}if(Array.isArray(e))for(let r=0;r<e.length;r++)e[r]=Ar(e[r],t);else if("object"==typeof e)for(const r in e)Object.prototype.hasOwnProperty.call(e,r)&&(e[r]=Ar(e[r],t));return e}var Ur;!function(e){e[e.CONNECT=0]="CONNECT",e[e.DISCONNECT=1]="DISCONNECT",e[e.EVENT=2]="EVENT",e[e.ACK=3]="ACK",e[e.CONNECT_ERROR=4]="CONNECT_ERROR",e[e.BINARY_EVENT=5]="BINARY_EVENT",e[e.BINARY_ACK=6]="BINARY_ACK"}(Ur||(Ur={}));class Yr extends Qt{constructor(e){super(),this.reviver=e}add(e){let t;if("string"==typeof e){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");t=this.decodeString(e);const r=t.type===Ur.BINARY_EVENT;r||t.type===Ur.BINARY_ACK?(t.type=r?Ur.EVENT:Ur.ACK,this.reconstructor=new Lr(t),0===t.attachments&&super.emitReserved("decoded",t)):super.emitReserved("decoded",t)}else{if(!Nr(e)&&!e.base64)throw new Error("Unknown type: "+e);if(!this.reconstructor)throw new Error("got binary data when not reconstructing a packet");t=this.reconstructor.takeBinaryData(e),t&&(this.reconstructor=null,super.emitReserved("decoded",t))}}decodeString(e){let t=0;const r={type:Number(e.charAt(0))};if(void 0===Ur[r.type])throw new Error("unknown packet type "+r.type);if(r.type===Ur.BINARY_EVENT||r.type===Ur.BINARY_ACK){const n=t+1;for(;"-"!==e.charAt(++t)&&t!=e.length;);const a=e.substring(n,t);if(a!=Number(a)||"-"!==e.charAt(t))throw new Error("Illegal attachments");r.attachments=Number(a)}if("/"===e.charAt(t+1)){const n=t+1;for(;++t;){if(","===e.charAt(t))break;if(t===e.length)break}r.nsp=e.substring(n,t)}else r.nsp="/";const n=e.charAt(t+1);if(""!==n&&Number(n)==n){const n=t+1;for(;++t;){const r=e.charAt(t);if(null==r||Number(r)!=r){--t;break}if(t===e.length)break}r.id=Number(e.substring(n,t+1))}if(e.charAt(++t)){const n=this.tryParse(e.substr(t));if(!Yr.isPayloadValid(r.type,n))throw new Error("invalid payload");r.data=n}return r}tryParse(e){try{return JSON.parse(e,this.reviver)}catch(t){return!1}}static isPayloadValid(e,t){switch(e){case Ur.CONNECT:return"object"==typeof t;case Ur.DISCONNECT:return void 0===t;case Ur.CONNECT_ERROR:return"string"==typeof t||"object"==typeof t;case Ur.EVENT:case Ur.BINARY_EVENT:return Array.isArray(t)&&t.length>0;case Ur.ACK:case Ur.BINARY_ACK:return Array.isArray(t)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}}class Lr{constructor(e){this.packet=e,this.buffers=[],this.reconPack=e}takeBinaryData(e){if(this.buffers.push(e),this.buffers.length===this.reconPack.attachments){const e=Rr(this.reconPack,this.buffers);return this.finishedReconstruction(),e}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}var Wr=Object.freeze({__proto__:null,protocol:5,get PacketType(){return Ur},Encoder:class{constructor(e){this.replacer=e}encode(e){return e.type!==Ur.EVENT&&e.type!==Ur.ACK||!jr(e)?[this.encodeAsString(e)]:this.encodeAsBinary({type:e.type===Ur.EVENT?Ur.BINARY_EVENT:Ur.BINARY_ACK,nsp:e.nsp,data:e.data,id:e.id})}encodeAsString(e){let t=""+e.type;return e.type!==Ur.BINARY_EVENT&&e.type!==Ur.BINARY_ACK||(t+=e.attachments+"-"),e.nsp&&"/"!==e.nsp&&(t+=e.nsp+","),null!=e.id&&(t+=e.id),null!=e.data&&(t+=JSON.stringify(e.data,this.replacer)),t}encodeAsBinary(e){const t=Dr(e),r=this.encodeAsString(t.packet),n=t.buffers;return n.unshift(r),n}},Decoder:Yr});function Fr(e,t,r){return e.on(t,r),function(){e.off(t,r)}}const Hr=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class Br extends Qt{constructor(e,t,r){super(),this.connected=!1,this.receiveBuffer=[],this.sendBuffer=[],this.ids=0,this.acks={},this.flags={},this.io=e,this.nsp=t,r&&r.auth&&(this.auth=r.auth),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const e=this.io;this.subs=[Fr(e,"open",this.onopen.bind(this)),Fr(e,"packet",this.onpacket.bind(this)),Fr(e,"error",this.onerror.bind(this)),Fr(e,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected||(this.subEvents(),this.io._reconnecting||this.io.open(),"open"===this.io._readyState&&this.onopen()),this}open(){return this.connect()}send(...e){return e.unshift("message"),this.emit.apply(this,e),this}emit(e,...t){if(Hr.hasOwnProperty(e))throw new Error('"'+e+'" is a reserved event name');t.unshift(e);const r={type:Ur.EVENT,data:t,options:{}};if(r.options.compress=!1!==this.flags.compress,"function"==typeof t[t.length-1]){const e=this.ids++,n=t.pop();this._registerAckCallback(e,n),r.id=e}const n=this.io.engine&&this.io.engine.transport&&this.io.engine.transport.writable;return this.flags.volatile&&(!n||!this.connected)||(this.connected?(this.notifyOutgoingListeners(r),this.packet(r)):this.sendBuffer.push(r)),this.flags={},this}_registerAckCallback(e,t){const r=this.flags.timeout;if(void 0===r)return void(this.acks[e]=t);const n=this.io.setTimeoutFn((()=>{delete this.acks[e];for(let t=0;t<this.sendBuffer.length;t++)this.sendBuffer[t].id===e&&this.sendBuffer.splice(t,1);t.call(this,new Error("operation has timed out"))}),r);this.acks[e]=(...e)=>{this.io.clearTimeoutFn(n),t.apply(this,[null,...e])}}packet(e){e.nsp=this.nsp,this.io._packet(e)}onopen(){"function"==typeof this.auth?this.auth((e=>{this.packet({type:Ur.CONNECT,data:e})})):this.packet({type:Ur.CONNECT,data:this.auth})}onerror(e){this.connected||this.emitReserved("connect_error",e)}onclose(e,t){this.connected=!1,delete this.id,this.emitReserved("disconnect",e,t)}onpacket(e){if(e.nsp===this.nsp)switch(e.type){case Ur.CONNECT:if(e.data&&e.data.sid){const t=e.data.sid;this.onconnect(t)}else this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case Ur.EVENT:case Ur.BINARY_EVENT:this.onevent(e);break;case Ur.ACK:case Ur.BINARY_ACK:this.onack(e);break;case Ur.DISCONNECT:this.ondisconnect();break;case Ur.CONNECT_ERROR:this.destroy();const t=new Error(e.data.message);t.data=e.data.data,this.emitReserved("connect_error",t)}}onevent(e){const t=e.data||[];null!=e.id&&t.push(this.ack(e.id)),this.connected?this.emitEvent(t):this.receiveBuffer.push(Object.freeze(t))}emitEvent(e){if(this._anyListeners&&this._anyListeners.length){const t=this._anyListeners.slice();for(const r of t)r.apply(this,e)}super.emit.apply(this,e)}ack(e){const t=this;let r=!1;return function(...n){r||(r=!0,t.packet({type:Ur.ACK,id:e,data:n}))}}onack(e){const t=this.acks[e.id];"function"==typeof t&&(t.apply(this,e.data),delete this.acks[e.id])}onconnect(e){this.id=e,this.connected=!0,this.emitBuffered(),this.emitReserved("connect")}emitBuffered(){this.receiveBuffer.forEach((e=>this.emitEvent(e))),this.receiveBuffer=[],this.sendBuffer.forEach((e=>{this.notifyOutgoingListeners(e),this.packet(e)})),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach((e=>e())),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:Ur.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(e){return this.flags.compress=e,this}get volatile(){return this.flags.volatile=!0,this}timeout(e){return this.flags.timeout=e,this}onAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(e),this}prependAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(e),this}offAny(e){if(!this._anyListeners)return this;if(e){const t=this._anyListeners;for(let r=0;r<t.length;r++)if(e===t[r])return t.splice(r,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(e),this}prependAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(e),this}offAnyOutgoing(e){if(!this._anyOutgoingListeners)return this;if(e){const t=this._anyOutgoingListeners;for(let r=0;r<t.length;r++)if(e===t[r])return t.splice(r,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(e){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const t=this._anyOutgoingListeners.slice();for(const r of t)r.apply(this,e.data)}}}function qr(e){e=e||{},this.ms=e.min||100,this.max=e.max||1e4,this.factor=e.factor||2,this.jitter=e.jitter>0&&e.jitter<=1?e.jitter:0,this.attempts=0}qr.prototype.duration=function(){var e=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var t=Math.random(),r=Math.floor(t*this.jitter*e);e=0==(1&Math.floor(10*t))?e-r:e+r}return 0|Math.min(e,this.max)},qr.prototype.reset=function(){this.attempts=0},qr.prototype.setMin=function(e){this.ms=e},qr.prototype.setMax=function(e){this.max=e},qr.prototype.setJitter=function(e){this.jitter=e};class zr extends Qt{constructor(e,t){var r;super(),this.nsps={},this.subs=[],e&&"object"==typeof e&&(t=e,e=void 0),(t=t||{}).path=t.path||"/socket.io",this.opts=t,Zt(this,t),this.reconnection(!1!==t.reconnection),this.reconnectionAttempts(t.reconnectionAttempts||1/0),this.reconnectionDelay(t.reconnectionDelay||1e3),this.reconnectionDelayMax(t.reconnectionDelayMax||5e3),this.randomizationFactor(null!==(r=t.randomizationFactor)&&void 0!==r?r:.5),this.backoff=new qr({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(null==t.timeout?2e4:t.timeout),this._readyState="closed",this.uri=e;const n=t.parser||Wr;this.encoder=new n.Encoder,this.decoder=new n.Decoder,this._autoConnect=!1!==t.autoConnect,this._autoConnect&&this.open()}reconnection(e){return arguments.length?(this._reconnection=!!e,this):this._reconnection}reconnectionAttempts(e){return void 0===e?this._reconnectionAttempts:(this._reconnectionAttempts=e,this)}reconnectionDelay(e){var t;return void 0===e?this._reconnectionDelay:(this._reconnectionDelay=e,null===(t=this.backoff)||void 0===t||t.setMin(e),this)}randomizationFactor(e){var t;return void 0===e?this._randomizationFactor:(this._randomizationFactor=e,null===(t=this.backoff)||void 0===t||t.setJitter(e),this)}reconnectionDelayMax(e){var t;return void 0===e?this._reconnectionDelayMax:(this._reconnectionDelayMax=e,null===(t=this.backoff)||void 0===t||t.setMax(e),this)}timeout(e){return arguments.length?(this._timeout=e,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&0===this.backoff.attempts&&this.reconnect()}open(e){if(~this._readyState.indexOf("open"))return this;this.engine=new Mr(this.uri,this.opts);const t=this.engine,r=this;this._readyState="opening",this.skipReconnect=!1;const n=Fr(t,"open",(function(){r.onopen(),e&&e()})),a=Fr(t,"error",(t=>{r.cleanup(),r._readyState="closed",this.emitReserved("error",t),e?e(t):r.maybeReconnectOnOpen()}));if(!1!==this._timeout){const e=this._timeout;0===e&&n();const r=this.setTimeoutFn((()=>{n(),t.close(),t.emit("error",new Error("timeout"))}),e);this.opts.autoUnref&&r.unref(),this.subs.push((function(){clearTimeout(r)}))}return this.subs.push(n),this.subs.push(a),this}connect(e){return this.open(e)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const e=this.engine;this.subs.push(Fr(e,"ping",this.onping.bind(this)),Fr(e,"data",this.ondata.bind(this)),Fr(e,"error",this.onerror.bind(this)),Fr(e,"close",this.onclose.bind(this)),Fr(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(e){this.decoder.add(e)}ondecoded(e){this.emitReserved("packet",e)}onerror(e){this.emitReserved("error",e)}socket(e,t){let r=this.nsps[e];return r||(r=new Br(this,e,t),this.nsps[e]=r),r}_destroy(e){const t=Object.keys(this.nsps);for(const r of t){if(this.nsps[r].active)return}this._close()}_packet(e){const t=this.encoder.encode(e);for(let r=0;r<t.length;r++)this.engine.write(t[r],e.options)}cleanup(){this.subs.forEach((e=>e())),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close"),this.engine&&this.engine.close()}disconnect(){return this._close()}onclose(e,t){this.cleanup(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",e,t),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const e=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const t=this.backoff.duration();this._reconnecting=!0;const r=this.setTimeoutFn((()=>{e.skipReconnect||(this.emitReserved("reconnect_attempt",e.backoff.attempts),e.skipReconnect||e.open((t=>{t?(e._reconnecting=!1,e.reconnect(),this.emitReserved("reconnect_error",t)):e.onreconnect()})))}),t);this.opts.autoUnref&&r.unref(),this.subs.push((function(){clearTimeout(r)}))}}onreconnect(){const e=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",e)}}const Vr={};function Qr(e,t){"object"==typeof e&&(t=e,e=void 0);const r=function(e,t="",r){let n=e;r=r||"undefined"!=typeof location&&location,null==e&&(e=r.protocol+"//"+r.host),"string"==typeof e&&("/"===e.charAt(0)&&(e="/"===e.charAt(1)?r.protocol+e:r.host+e),/^(https?|wss?):\/\//.test(e)||(e=void 0!==r?r.protocol+"//"+e:"https://"+e),n=kr(e)),n.port||(/^(http|ws)$/.test(n.protocol)?n.port="80":/^(http|ws)s$/.test(n.protocol)&&(n.port="443")),n.path=n.path||"/";const a=-1!==n.host.indexOf(":")?"["+n.host+"]":n.host;return n.id=n.protocol+"://"+a+":"+n.port+t,n.href=n.protocol+"://"+a+(r&&r.port===n.port?"":":"+n.port),n}(e,(t=t||{}).path||"/socket.io"),n=r.source,a=r.id,o=r.path,s=Vr[a]&&o in Vr[a].nsps;let i;return t.forceNew||t["force new connection"]||!1===t.multiplex||s?i=new zr(n,t):(Vr[a]||(Vr[a]=new zr(n,t)),i=Vr[a]),r.query&&!t.query&&(t.query=r.queryKey),i.socket(r.path,t)}Object.assign(Qr,{Manager:zr,Socket:Br,io:Qr,connect:Qr});var Jr=function(){function e(e,t){this.config=e,this.token=t.token}return e.prototype.init=function(e){var t=this;this.socket=Qr(this.config.url,{transports:["websocket"],reconnection:!0,reconnectionDelay:1e3,reconnectionDelayMax:5e3,reconnectionAttempts:5}),this.dispatch=e,this.socket.on("account_status",(function(r){Z("SERVER: account_status: ".concat(JSON.stringify(r))),t.token||(t.token=bt(),e({type:"receiveToken",detail:{token:t.token,timestamp:+new Date,type:"receiveToken",user:void 0}}),Z("CLIENT: created token: ".concat(t.token))),t.socket.emit("connection update",t.token),e({type:"account_status",detail:{status:"online",timestamp:+new Date}})})),this.socket.on("new message",(function(e){Z("SERVER: new message: ".concat(JSON.stringify(e))),t.dispatch({type:"chat",detail:{type:"chat.msg",user:{displayName:e.username,nick:"agent:robot"},msg:e.message,timestamp:+new Date}})})),this.socket.on("user joined",(function(e){Z("SERVER: user joined: ".concat(JSON.stringify(e))),t.visitorInfo.token=e.token,t.dispatch({type:"chat",detail:{type:"chat.memberjoin",user:{displayName:e.username,nick:"agent:robot",avatarPath:e.avatarPath},timestamp:+new Date}})})),this.socket.on("user left",(function(e){Z("SERVER: user left: ".concat(JSON.stringify(e))),t.dispatch({type:"chat",detail:{type:"chat.memberleave",user:{displayName:e.username,nick:"agent:robot"},timestamp:+new Date}})})),this.socket.on("typing",(function(e){Z("SERVER: typing: ".concat(JSON.stringify(e))),t.dispatch({type:"chat",detail:{type:"chat.typing",user:{nick:"agent:robot"},typing:!0,timestamp:+new Date}})})),this.socket.on("stop typing",(function(e){Z("SERVER: stop typing: ".concat(JSON.stringify(e))),t.dispatch({type:"chat",detail:{type:"chat.typing",user:{nick:"agent:robot"},typing:!1,timestamp:+new Date}})})),this.socket.on("disconnect",(function(){Z("SERVER: disconnect"),t.dispatch(Ye("offline")),t.dispatch(Le("offline"))})),this.socket.on("reconnect",(function(){Z("SERVER: reconnect"),t.dispatch(Ye("online")),t.dispatch(Le("online"))})),this.socket.on("reconnect_failed",(function(e){Z("SERVER: reconnect_failed",e),t.dispatch(Ye("offline")),t.dispatch(Le("offline"))})),this.socket.on("reconnect_error",(function(e){Z("SERVER: reconnect_error",e),t.dispatch(Ye("offline"))})),this.dispatch(Le("pending"))},e.prototype.sendOfflineMsg=function(e,t){t()},e.prototype.sendChatMsg=function(e,t){this.socket.emit("new message",e),t()},e.prototype.sendChatMsgRequest=function(e,t){this.socket.emit("new message",e),t()},e.prototype.sendTyping=function(e){this.socket.emit(e?"typing":"stop typing")},e.prototype.setVisitorInfo=function(e,t,r){this.visitorInfo=e,this.socket.emit("add user",e),r()},e.prototype.sendChatRating=function(){},e.prototype.sendFile=function(e,t){t()},e.prototype.markAsRead=function(){},e.prototype.flush=function(){},e.prototype.dispose=function(){var e;null===(e=this.socket)||void 0===e||e.disconnect()},e.prototype.sleep=function(){},e.prototype.wakeup=function(){},e.prototype.bargeOut=function(e){return V(this,void 0,void 0,(function(){return Q(this,(function(e){throw new Error("Method not implemented: bargeOut")}))}))},e.prototype.bargeIn=function(e,t){return V(this,void 0,void 0,(function(){return Q(this,(function(e){throw new Error("Method not implemented: bargeIn")}))}))},e}();function Xr(e,t){return new We(function(e,t){switch(e.type){case"direct":return new Mt({url:e.serverUrl,key:e.accountKey,timeout:e.timeout},t);case"websocket":return new Jr({url:e.serverUrl},t);case"websocketraw":return new Ct({url:e.serverUrl},t);case"local":return new Pt;default:throw Ne(e.type)}}(e,t))}var Gr=(0,a.createContext)(null);function Kr(){var e=ae(),t=(0,a.useContext)(Gr);return(0,a.useCallback)((function(r){r?t&&e(r(t)):console.warn("react bug? Someone invokes with null")}),[e,t])}var $r=function(e){var t=Kr(),r=x((function(e){return e.chips})),n=ae(),o=x((function(e){return e.visuals})),s=De();return a.createElement("div",{className:"message-list-container__chips ".concat((null==r?void 0:r.length)?"":"message-list-container__chips--empty")},a.createElement(Se,{options:r,onOptionClick:function(e){var r,a=re(e)&&e.actionUrl;a?s(a,n,o):t(Re(re(r=e)?r.label:r))}}))},Zr=function(e){return a.createElement("div",{id:"xapp-widget-close","aria-label":"close widget","aria-hidden":!1,tabIndex:e.tabIndex?Number(e.tabIndex):0,className:"cancel-button",onClick:e.onClick})},en={},tn={};Object.defineProperty(tn,"__esModule",{value:!0});var rn={};Object.defineProperty(rn,"__esModule",{value:!0}),rn.CHAT_WIDGET_CHANNEL=void 0,rn.CHAT_WIDGET_CHANNEL="chat-widget";var nn={};Object.defineProperty(nn,"__esModule",{value:!0});var an={};Object.defineProperty(an,"__esModule",{value:!0});var on={};Object.defineProperty(on,"__esModule",{value:!0});var sn={};Object.defineProperty(sn,"__esModule",{value:!0});var un,ln,cn,dn={};Object.defineProperty(dn,"__esModule",{value:!0}),dn.isOpenURLMenuItem=dn.isStandardMenuItem=dn.isStaticTextMenuItem=dn.isStaticImageMenuItem=void 0,dn.isStaticImageMenuItem=function(e){return!!e&&!!e.imageUrl},dn.isStaticTextMenuItem=function(e){return!!e&&!!e.body},dn.isStandardMenuItem=function(e){return!!e&&!!e.label},dn.isOpenURLMenuItem=function(e){return!!e&&!!e.url},un=en,ln=Fe&&Fe.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var a=Object.getOwnPropertyDescriptor(t,r);a&&!("get"in a?!t.__esModule:a.writable||a.configurable)||(a={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,a)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),cn=Fe&&Fe.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||ln(t,e,r)},Object.defineProperty(un,"__esModule",{value:!0}),cn(tn,un),cn(rn,un),cn(nn,un),cn(an,un),cn(on,un),cn(sn,un),cn(dn,un);var fn=function(e){var t=e.subtitle?a.createElement("span",null,a.createElement("div",null,e.label),a.createElement("div",{className:"chat-menu-item--subtitle"},e.subtitle)):a.createElement("span",null,e.label);return a.createElement("button",{type:"button",className:"chat-menu-item",tabIndex:e.tabIndex?Number(e.tabIndex):0,onClick:function(){e.onClick&&e.onClick(e.label)}},t)},pn=function(e){var t=e.items,r=e.opened,n=e.openFrom||"bottom",o=De(),s=ae(),i=x((function(e){return e.visuals}));return a.createElement("div",{className:"chat-menu-".concat(n," ").concat("chat-menu-".concat(n,r?"--opened":"--closed"))},t.map((function(t,r){return en.isStandardMenuItem(t)?a.createElement(fn,{key:r,onClick:e.onItemClick,label:t.label,subtitle:t.subtitle}):en.isStaticImageMenuItem(t)?a.createElement("div",{key:r,className:"chat-menu-item-static"},a.createElement("img",{style:{maxHeight:"100%",maxWidth:"auto"},src:t.imageUrl,alt:"Menu Item"})):en.isStaticTextMenuItem(t)?a.createElement("div",{key:r,className:"chat-menu-item-static-text"},a.createElement("div",null,a.createElement("div",null,t.title),a.createElement("div",{className:"chat-menu-item-static-text--body"},t.body))):en.isOpenURLMenuItem(t)?a.createElement("button",{key:r,className:"chat-menu-item",onClick:o.bind(undefined,t.url,s,i,t.behavior)},t.text):a.createElement("p",null,"Unknown")})))},vn=function(e){var t=e.bars;return t||(t=2),a.createElement("button",{className:"drawer-bars",tabIndex:e.tabIndex?Number(e.tabIndex):0,"aria-label":"open menu","aria-hidden":!1,onClick:e.onToggle},function(){for(var e=[],r=0;r<t;r++)e.push(a.createElement("div",{key:"drawer-bar-".concat(r),className:"drawer-bar bar".concat(r)}));return e}())},hn=function(e){return a.createElement("div",{id:"xapp-widget-minimize","aria-label":"minimize widget","aria-hidden":!1,tabIndex:e.tabIndex?Number(e.tabIndex):0,className:"minimize-button ".concat(e.showInRight?"positionRight":""),onClick:e.onClick})},mn=function(e){return a.createElement("div",{id:"xapp-widget-refresh","aria-label":"refresh chat","aria-hidden":!1,tabIndex:e.tabIndex?Number(e.tabIndex):0,className:"refresh-button ".concat(e.showInRight?"positionRight":e.showInLeft?"positionLeft":""),onClick:e.onClick})},xn="Virtual Assistant",gn="Leave us a message",yn="We're away!",bn="Connecting...";var wn=function(e){var t,r,n,o,s,i,u,l,c,d,f,p,v,h,m,x,g=ae(),y=e.menuConfig,b=e.onSubmit,w=(0,a.useState)(!1),O=w[0],_=w[1],k="HEADER_LEFT"===((null==y?void 0:y.menuButtonLocation)||"FOOTER"),M=null==y?void 0:y.items,P=null==y?void 0:y.itemsTabIndex,E=null===(t=null==y?void 0:y.button)||void 0===t?void 0:t.tabIndex,T=(0,a.useMemo)((function(){return M||[]}),[M]);var S="",C=e.canRefresh,N=e.canMinimize,j=e.canCancel;return C&&(S="To refresh chat click on clockwise gapped circle arrow icon in top right side of widget. "),N&&(S="".concat(S).concat("To minimize widget click on minus icon in top right side of widget. ")),j&&(S="".concat(S).concat("To close widget click on close icon in top right side of widget.")),a.createElement(a.Fragment,null,a.createElement("div",{className:"status-container background-header","aria-label":S,"aria-hidden":!1},k&&T.length?a.createElement(a.Fragment,null,a.createElement("div",{className:"chat-footer__menu-icon"},a.createElement(vn,{bars:3,tabIndex:E,onToggle:function(){var e=!O;_(e),g(je({drawer:e}))}}))):a.createElement(a.Fragment,null),void 0===(null===(r=null==e?void 0:e.agent)||void 0===r?void 0:r.avatarPath)?a.createElement("div",null):a.createElement("div",{className:"status-container__avatar"},a.createElement(te,{entity:e.agent})),a.createElement("div",{className:"\n                        ".concat("status-text","\n                        ").concat(void 0===(null===(n=null==e?void 0:e.agent)||void 0===n?void 0:n.avatarPath)?"status-text-positionLeftNoAvatar":"status-text-positionLeft","\n                        ").concat((null===(o=e.config)||void 0===o?void 0:o.alignTextCenter)?"status-text-positionCenter":"status-text-positionLeft","                     \n                        ")},a.createElement("span",{className:"status-text-title"},function(e,t){var r,n,a,o;switch(e){case"online":return null!==(r=null==t?void 0:t.online)&&void 0!==r?r:xn;case"offline":return null!==(n=null==t?void 0:t.offline)&&void 0!==n?n:gn;case"away":return null!==(a=null==t?void 0:t.away)&&void 0!==a?a:yn;default:return null!==(o=null==t?void 0:t.connecting)&&void 0!==o?o:bn}}(e.accountStatus,null===(s=e.config)||void 0===s?void 0:s.status)),(null===(u=null===(i=e.config)||void 0===i?void 0:i.subtitle)||void 0===u?void 0:u.enabled)&&a.createElement("span",{className:"status-text-subtitle"},null!==(d=null===(c=null===(l=e.config)||void 0===l?void 0:l.subtitle)||void 0===c?void 0:c.text)&&void 0!==d?d:"")),e.canRefresh&&a.createElement(mn,{onClick:e.refreshOnClick,tabIndex:null===(p=null===(f=e.config)||void 0===f?void 0:f.actions)||void 0===p?void 0:p.refreshTabIndex,showInLeft:e.canMinimize&&e.canCancel,showInRight:!e.canMinimize&&!e.canCancel}),e.canMinimize&&a.createElement(hn,{onClick:e.minimizeOnClick,tabIndex:null===(h=null===(v=e.config)||void 0===v?void 0:v.actions)||void 0===h?void 0:h.minimizeTabIndex,showInRight:!e.canCancel}),e.canCancel&&a.createElement(Zr,{onClick:e.cancelOnClick,tabIndex:null===(x=null===(m=e.config)||void 0===m?void 0:m.actions)||void 0===x?void 0:x.cancelTabIndex})),O?a.createElement("div",{className:"xa-chat-menu-container"},a.createElement(pn,{openFrom:"left",opened:O,tabIndex:P,onItemClick:function(e){_(!1),b(e)},items:T})):a.createElement(a.Fragment,null))},On=function(){return a.createElement(a.Fragment,null)};var _n=function(e){return a.createElement("div",{className:"xappw-chat-msg-part"},e.showAvatar&&(t=e.user,a.createElement("div",{className:"xappw-chat-msg-part__avatar"},a.createElement(te,{entity:t}))),e.children);var t};function kn(){var e=Kr();return(0,a.useCallback)((function(t,r){e(Re(t,r))}),[e])}function Mn(){var e=De(),t=ae(),r=x((function(e){return e.visuals})),n=kn();return(0,a.useCallback)((function(a){a.actionUrl?e(a.actionUrl,t,r):n(a.label)}),[t,n,e,r])}var Pn=function(e){var t=e.msg,r=e.ctx,n=(0,a.useMemo)((function(){return function(e){return{content:e.content,imageUrl:e.smallImageUrl,title:e.title,imageActionUrl:null==e?void 0:e.imageActionUrl,buttons:e.buttons?e.buttons.map((function(e){return{actionUrl:e.openUrlAction,label:e.title}})):void 0}}(t)}),[t]),o=r.user,s=Mn();return a.createElement(_n,{showAvatar:!0,user:o},a.createElement("div",{className:"chat-msg"},a.createElement(Ee,{card:n,onButtonClick:s})))};function En(e){return function(t){return e.reduceRight((function(e,t){return t(e)}),t)}}function Tn(e){var t,r=(0,a.useState)(e.getArray()),n=r[0],o=r[1],s=(t=(0,a.useRef)(!1),(0,a.useEffect)((function(){return t.current=!0,function(){t.current=!1}}),[]),(0,a.useCallback)((function(){return t.current}),[]));return(0,a.useEffect)((function(){var t=e.subscribe((function(e){s()&&o(e)}));return function(){t.unsubscribe()}}),[s,e]),n}var Sn=[];function Cn(e){var t=e.get()||Sn,r=Array.isArray(t)?function(e){var t=e||[],r=[];function n(){for(var e=0,n=r;e<n.length;e++)(0,n[e])(t)}return{getArray:function(){return t},push:function(e){t=J(J([],t,!0),[e],!1),n()},unshift:function(e){t=J([e],t,!0),n()},subscribe:function(e){return r.push(e),{unsubscribe:function(){var t=r.indexOf(e);t>=0&&r.splice(t,1)}}}}}(t):t;return r!==t&&e.set(r),Tn(r)}var Nn,jn,Dn=(Nn=globalThis,jn="xappMsgMiddlewares",{get:function(){return Nn[jn]},set:function(e){return Nn[jn]=e}});function In(){return function(e){var t=Cn(e);return(0,a.useMemo)((function(){return En(t)}),[t])}(Dn)}var Rn=function(e){var t=e.url,r=(0,a.useCallback)((function(e){e.preventDefault()}),[]);return a.createElement("a",{href:t,"aria-label":"read more",target:"_blank",rel:"noreferrer",className:e.className,onClick:r},a.createElement("svg",{viewBox:"0 0 20 20"},a.createElement("path",{d:"M17 17H3V3h5V1H3a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-5h-2z"}),a.createElement("path",{d:"M19 1h-8l3.29 3.29-5.73 5.73 1.42 1.42 5.73-5.73L19 9V1z"})))};function An(e,t){for(var r=-1,n=0,a=t;n<a.length;n++){var o=a[n],s=e.indexOf(o);s>=0&&(r<0||r>=0&&s<r)&&(r=s)}return r}var Un=[":","/"],Yn=["/"],Ln=["?","#"],Wn=["#"],Fn=[function(e){var t=e.indexOf("://");return t<0?t:t+3},function(e){return An(e,Un)},function(e){return":"!==e.charAt(0)?-1:An(e,Yn)},function(e){var t=An(e,Ln);return t>=0?t:e.length},function(e){return An(e,Wn)}];var Hn="/...";function Bn(e,t){if(e.length<t)return e;var r=function(e){for(var t=[],r=e,n=0,a=Fn;n<a.length;n++){var o=a[n],s=Math.max(0,o(r,e)),i=r.substring(0,s);t.push(i),r=r.substring(s)}return r&&t.push(r),t}(e);function n(){return r.join("")}function a(){return n().length>t}function o(e){a()&&(r[e]="")}if(":80"===r[2]&&"http://"===r[0]&&o(2),":443"===r[2]&&"https://"===r[0]&&o(2),o(5),o(4),o(2),o(0),a()){var s=r[3],i=n().length-s.length,u=t-i;if(u<0)r[3]="";else if(u<s.length){var l=s.length-u+4;r[3]=Hn+s.substring(l)}}return n()}var qn=function(e){var t=e.url,r=e.className,n=(0,a.useCallback)((function(e){e.preventDefault()}),[]);return a.createElement("a",{href:t,"aria-label":"read more",target:"_blank",rel:"noreferrer",className:r,onClick:n},Bn(t,40))},zn=function(e){var t,r=e.item,n=e.layout||"normal",o=r.url||r.imageActionUrl;return a.createElement(se,{className:"xappw-vlist-item-container",item:r,onButtonClick:e.onButtonClick,onExecute:e.onExecute,onOpenUrl:e.onOpenUrl},a.createElement("div",{className:"xappw-vlist-item xappw-vlist-item--".concat(n)},a.createElement("div",{className:"xappw-vlist-item__description"},r.title&&a.createElement("div",{className:"xappw-vlist-item__title"},a.createElement("span",null,r.title)),o&&a.createElement(qn,{url:o,className:"xappw-vlist-item__link"}),r.subTitle&&a.createElement("div",{className:"xappw-vlist-item__subtitle"},a.createElement("span",null,r.subTitle)),!!(null===(t=r.buttons)||void 0===t?void 0:t.length)&&a.createElement(ce,{buttons:r.buttons,onClick:e.onButtonClick})),a.createElement("div",{className:"xappw-vlist-item__side"},o&&a.createElement(Rn,{url:"url",className:"xappw-vlist-item__external-link"}),a.createElement(ue,{item:r,className:"xappw-vlist-item__img",emptyImageVisible:e.emptyImageVisible}))))},Vn=function(e){var t=e.list,r=(0,a.useRef)(null),n=t.items.some((function(e){return e.imageUrl})),o=!t.items.some((function(e){var t;return e.subTitle||(null===(t=e.buttons)||void 0===t?void 0:t.length)})),s=t.items.map((function(t,r){return a.createElement("div",{className:"xappw-vlist-container__item",key:"item-key-".concat(r)},a.createElement(zn,{item:t,layout:o?"titles":"normal",emptyImageVisible:n,onExecute:e.onExecute,onButtonClick:e.onButtonClick,onOpenUrl:e.onOpenUrl}))}));return a.createElement("div",{className:"xappw-vlist"},a.createElement("div",{ref:r,className:"xappw-vlist-container"},e.list.title&&a.createElement("div",{className:"xappw-vlist__header"},e.list.title),s))},Qn=function(e){var t=e.msg,r=e.ctx;if(!r)throw new TypeError("ctx not provided to ".concat(Qn.name));var n=(0,a.useMemo)((function(){return function(e){return{type:e.type,title:e.title,items:e.items.map((function(e){var t,r,n={title:e.title,subTitle:e.description,token:e.token,url:e.url,imageUrl:null===(t=e.image)||void 0===t?void 0:t.url,imageActionUrl:null===(r=e.image)||void 0===r?void 0:r.imageActionUrl},a=e.buttons;return a&&a.length>0&&(n.buttons=a.map((function(e){return{actionUrl:e.openUrlAction,label:e.title}}))),n}))}}(t)}),[t]),o=kn(),s=Mn(),i=r.user;return a.createElement(_n,{showAvatar:!1,user:i},"CAROUSEL"===n.type&&a.createElement("div",{className:"chat-msg chat-msg--fullwidth chat-msg--no-ava"},a.createElement(ve,{list:n,onExecute:o,onButtonClick:s,onOpenUrl:r.openUrl})),"LIST"===n.type&&a.createElement("div",{className:"chat-msg chat-msg--expand"},a.createElement(Vn,{list:n,onExecute:o,onButtonClick:s,onOpenUrl:r.openUrl})))},Jn=function(e){var t=e.items,r=e.checked,n=e.onChange,o=(0,a.useCallback)((function(e){var t,a=e.target.value;n(z(z({},r),((t={})[a]=!r[a],t)))}),[r,n]);return a.createElement("ul",{className:"xappw-multiselect"},null==t?void 0:t.map((function(e){return a.createElement("li",{key:e.id},a.createElement("label",null,a.createElement("input",{type:"checkbox",checked:r[e.id]||!1,onChange:o,value:e.id}),a.createElement("span",null,e.title)))})))};var Xn=function(e){var t=e.msg,r=e.ctx,n=(0,a.useMemo)((function(){return t.items}),[t]),o=r.user,s=(0,a.useState)({}),i=s[0],u=s[1],l=(0,a.useCallback)((function(){r.send({type:"custom",payload:JSON.stringify({type:"OPTION_SELECT_REQUEST",intentId:"OptionSelect",selected:Object.keys(i).map((function(e){return{id:e}}))})})}),[r,i]);return a.createElement(_n,{showAvatar:!0,user:o},a.createElement("div",{className:"chat-msg"},a.createElement("div",null,a.createElement(Jn,{items:n,checked:i,onChange:u}),a.createElement(L,{label:"Submit",onClick:l}))))},Gn=En([function(e){return function(t){var r,n=t.msg,o=t.ctx;return!(r=n)||"LIST"!==r.type&&"CAROUSEL"!==r.type?e(t):a.createElement(Qn,{msg:n,ctx:o})}},function(e){return function(t){var r,n=t.msg,o=t.ctx;return(r=n)&&"CARD"===r.type?a.createElement(Pn,{msg:n,ctx:o}):e(t)}},function(e){return function(t){var r=t.msg,n=t.ctx;return"MultiSelect"===r.type?a.createElement(Xn,{msg:r,ctx:n}):e(t)}}]);function Kn(){var e,t=(e=In(),(0,a.useMemo)((function(){return En([e,Gn])}),[e]));return(0,a.useMemo)((function(){return t(On)}),[t])}var $n=Gn(On);function Zn(e){return"others"===e?"m 80 0 v 240 h -60 c 40 -40 60 -160 60 -240":"m 0 0 v 240 h 60 c -40 -40 -60 -160 -60 -240"}var ea=function(e){var t=e.owner,r=e.onClick,n=(0,a.useCallback)((function(){r&&r()}),[r]);return a.createElement("div",{onClick:n,className:"chat-text-bubble ".concat("mine"===t?"chat-text-bubble--mine":"chat-text-bubble--others")},e.hasTail&&function(e){return a.createElement("svg",{className:"chat-text-bubble__tail",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 80 240"},a.createElement("path",{d:Zn(e),fill:"currentColor"}))}(t),e.children)},ta=function(e){var t=e.onOpenUrl,r=X(e.message.user.nick),n=(0,a.useRef)(),o=ae(),s=x((function(e){return e.visuals})),i=e.message.msg.html,u=(0,a.useCallback)((function(e){if(t){var r=e.target;e.preventDefault(),t(r.href,o,s)}}),[t]);return(0,a.useEffect)((function(){if(n.current&&(n.current.innerHTML=i,t)){var e=n.current.querySelectorAll("a");return e.forEach((function(e){e.addEventListener("click",u)})),function(){e.forEach((function(e){e.removeEventListener("click",u)}))}}}),[n,i,t,u]),a.createElement("div",{className:"chat-msg"},a.createElement("div",{className:"chat-text-container"},a.createElement(ea,{owner:r?"others":"mine",hasTail:r&&!e.sibling},a.createElement("span",{className:"message-sr-only"},"at "+e.time+(r?" the bot said":" the user said")),a.createElement("div",{ref:n}))))},ra=function(e){var t=e.message,r=e.ctx;if(!r)throw new TypeError("ctx not provided to ".concat(ra.name));var n=r.user,o=t.msg.permissionRequest,s=X(e.message.user.nick),i=t.user,u="Deny",l=(0,a.useCallback)((function(e){r.write({type:"msg",user:i,msg:e})}),[r,i]),c=(0,a.useCallback)((function(e){r.write({type:"msg",user:n,msg:e})}),[r,n]),d=(0,a.useCallback)((function(){r.send({type:"msg",user:void 0,msg:{text:u}})}),[r]),f=(0,a.useCallback)((function(e){r.send({type:"permissionGrant",user:i,msg:e})}),[i,r]),p=(0,a.useCallback)((function(e,t){f({text:t,location:e?{latitude:e.coords.latitude,longitude:e.coords.longitude}:void 0,permissionRequest:o}),c({text:t});var r=e?null==o?void 0:o.approve:null==o?void 0:o.deny;r&&l(r)}),[o,c,l,f]),v=(0,a.useCallback)((function(e){p(void 0,e)}),[p]),h=(0,a.useCallback)((function(e){navigator.geolocation&&navigator.geolocation.getCurrentPosition((function(t){p(t,e)}),(function(){d()}))}),[d,p]);return o?a.createElement("div",{className:"chat-msg"},a.createElement("span",{className:"message-sr-only"},"at "+e.time+(s?" the bot said":" the user said")),a.createElement("div",{className:"buttons-container"},a.createElement(L,{label:"Allow",addClass:"button",onClick:h}),a.createElement(L,{label:u,addClass:"button",onClick:v}))):a.createElement(a.Fragment,null)},na=function(e){var t=e.message,r=new Date(t.timestamp),n=r.getHours()+":"+r.getMinutes(),o=X(e.message.user.nick);return a.createElement("div",{className:"chat-msg"},a.createElement("div",{className:"chat-text-container"},a.createElement(ea,{owner:o?"others":"mine",hasTail:o&&!e.sibling},a.createElement("span",{className:"message-sr-only"},"at "+n+(o?" the bot said":" the user said")),a.createElement("span",null,t.msg.text))))},aa=function(e){var t=e.display,r=ae(),n=x((function(e){return e.visuals})),o=De();return a.createElement("div",{className:"chat-schedule-button-container"},a.createElement("button",{className:"chat-schedule-button",onClick:function(){o(F,r,n)}},a.createElement("i",{className:"fa fa-lg fa-calendar"}),a.createElement("span",null,t.label||"Schedule Now!")))};var oa=["text","html","card","list"],sa=function(e){var t,r,n,o=e.messageMiddleware||$n,s=e.middlewareContext,i=e.agent;return a.createElement("div",{className:"chat-msg-container-wrapper ".concat(X(e.message.user.nick)?"agent":"visitor"," ").concat(e.sibling?"sibling":"")},a.createElement("div",{className:"chat-msg-container ".concat((n=e.message,X(n.user.nick)?"agent":"visitor"))},function(){var t,r=e.message.msg;if("chat.msg"===e.message.type){var n=oa.find((function(e){return!!r[e]}));return a.createElement(a.Fragment,null,r.text&&a.createElement(_n,{showAvatar:"text"===n,user:i},a.createElement(na,{message:e.message,sibling:e.sibling})),r.html&&a.createElement(_n,{showAvatar:"html"===n,user:i},a.createElement(ta,{message:e.message,sibling:e.sibling,onOpenUrl:null===(t=e.middlewareContext)||void 0===t?void 0:t.openUrl})),r.displays&&o&&r.displays.map((function(t,r){if("ScheduleButton"===t.type)return a.createElement(aa,{minimizeOnClick:e.minimizeOnClick,display:t});var n=o;return a.createElement(n,{key:r,msg:t,ctx:e.middlewareContext})})),r.permissionRequest&&s&&a.createElement(_n,{showAvatar:"permissionRequest"===n,user:i},a.createElement(ra,{message:e.message,sibling:e.sibling,ctx:s})))}return a.createElement(a.Fragment,null)}(),(t=e.message.timestamp,r=function(e){var t=new Date,r=Math.floor((t.valueOf()-e.valueOf())/1e3);if(r<1)return"now";if(r<60)return"".concat(r," seconds ago");var n=Math.floor(r/60);if(n<60)return"".concat(n," minutes ago");var a=Math.floor(n/60);return a<24?"".concat(a," hours ago"):e.toLocaleString()}(new Date(t)),a.createElement("div",{className:"chat-msg-timestamp ".concat(X(e.message.user.nick)?"agent":"visitor")},a.createElement("span",null,r)))))};function ia(e,t,r){var n=1e3*function(e){if(!e)return 0;var t=e.match(/(\d+)([dhms]?)/);if(!t)return ee("Invalid time string: ".concat(e)),0;var r=parseInt(t[1]);switch(t[2]){case"d":return 24*r*60*60;case"h":return 60*r*60;case"m":return 60*r;default:return r}}(e);return!!e&&+new Date-t>n}function ua(e){(0,a.useEffect)((function(){if(e){var t=function(e){for(var t="es-",r=0;r<e.length;r++)t+=la(e.charAt(r));return t}(e);if(!document.getElementById(t)){var r=document.createElement("script");r.id=t,r.src=e,r.crossOrigin="anonymous",document.head.appendChild(r)}}}),[e])}function la(e){return e>="0"&&e<="9"||e>="a"&&e<="z"||e>="A"&&e<="Z"?e:"_".concat(e.charCodeAt(0),"_")}function ca(e){var t,r,n,o,s=(t=Kr(),r=x((function(e){return e.visitorId||e.userId})),n=x((function(e){return e.accessToken})),o=x((function(e){return e.attributes})),(0,a.useMemo)((function(){return{dispatch:t,visitorId:r,accessToken:n,userId:r,attributes:o}}),[t,r,n,o])),i=(0,a.useRef)(null),u=(0,a.useContext)(H).env.isAdmin,l=x((function(e){return e.sessionId}));(0,a.useEffect)((function(){if(e&&i.current!==s&&(i.current=s,s.visitorId)){if(s.dispatch(Ue({name:"Visitor",visitorId:s.visitorId,userId:s.userId,accessToken:s.accessToken,attributes:z(z({},s.attributes),{currentUrl:window.location.href})},l)),!u){var t=setTimeout((function(){var e,t=(void 0===e&&(e=!1),function(t){return function(r,n){e||n().connection.greetingRequested||(Z("sending greeting"),t.sendChatMsg({text:void 0,attributes:{isGreeting:!0}},(function(e){e&&Z("Error sending message"),r({type:"sendGreeting",detail:void 0})})))}});s.dispatch(t)}),1e3);return function(){clearTimeout(t)}}Z("Admin widget. Not sending greeting.")}}),[s,e,u])}function da(e,t){var r=(0,a.useState)(),n=r[0],o=r[1],s=(0,a.useState)(-1),i=s[0],u=s[1],l=(0,a.useState)(e),c=l[0],d=l[1],f=(0,a.useState)(t),p=f[0],v=f[1];(0,a.useEffect)((function(){d(e)}),[e]),(0,a.useEffect)((function(){v(t)}),[t]);var h=(0,a.useMemo)((function(){return n?mt(n,i):void 0}),[n,i]),m=(0,a.useCallback)((function(e){if(n){var t=xt(n);u((function(r){return function(e,t){return(e+t)%t}(r+e+(r<0&&e<=0?1:0),t)}))}else u(-1)}),[n]),x=(0,a.useCallback)((function(e){switch(e){case"prev":m(-1);break;case"next":m(1);break;case"cancel":u(-1),d(void 0),v(void 0)}}),[m]),g=function(e,t){var r=B(),n=null==r?void 0:r.autocompleteSuggestionsUrl;return yt({url:n,query:e,context:t})}(c||"",p),y="success"===g.state?g.data:void 0,b=(0,a.useMemo)((function(){return y?gt(y,-1).map((function(e){return{heading:e.heading,items:e.items.slice().reverse()}})):void 0}),[y]);return(0,a.useEffect)((function(){var e=h;o(b),e&&b||u(-1)}),[b,h]),(0,a.useMemo)((function(){return{suggestions:n,index:i,execute:x,item:h}}),[n,i,x,h])}var fa,pa=function(e){var t=e.onAdminJoin,r=(0,a.useRef)(null),n=(0,a.useState)(!1),o=n[0],s=n[1],i=(0,a.useState)(""),u=i[0],l=i[1];function c(e){l(e.target.value)}var d=""===u||void 0===u,f=Kr();function p(e){var n,a;e.preventDefault(),o?(f((function(e){return function(){e.bargeOut((function(e){e&&Z(e)}))}})),s(!1),t(!1),l("")):(f((a=null===(n=r.current)||void 0===n?void 0:n.value,function(e){return function(){e.bargeIn(a,(function(e){e&&Z(e)}))}})),s(!0),t(!0))}return a.createElement("div",{className:"xappw-admin-input-container visible"},o?a.createElement("form",{className:"xappw-admin-input-form",onSubmit:p},a.createElement("div",{className:"xappw-admin-input-form__buttons"},a.createElement(L,{addClass:"xappw-admin-input-form__btn",type:"submit",label:"Leave"}))):a.createElement("form",{className:"xappw-admin-input-form",onSubmit:p},a.createElement("div",{className:"xappw-admin-input-form__buttons"},a.createElement(L,{addClass:"xappw-admin-input-form__btn",type:"submit",label:"Join",disable:d})),a.createElement("div",{className:"xappw-admin-input"},a.createElement("input",{ref:r,id:"adminBarInput",placeholder:"Type your name here...",className:"xappw-admin-input__input",onChange:c}))))},va={exports:{}};fa=va,function(){var e={}.hasOwnProperty;function t(){for(var e="",t=0;t<arguments.length;t++){var a=arguments[t];a&&(e=n(e,r(a)))}return e}function r(r){if("string"==typeof r||"number"==typeof r)return r;if("object"!=typeof r)return"";if(Array.isArray(r))return t.apply(null,r);if(r.toString!==Object.prototype.toString&&!r.toString.toString().includes("[native code]"))return r.toString();var a="";for(var o in r)e.call(r,o)&&r[o]&&(a=n(a,o));return a}function n(e,t){return t?e?e+" "+t:e+t:e}fa.exports?(t.default=t,fa.exports=t):window.classNames=t}();var ha=va.exports,ma=function(e){var t=e.text,r=e.applyBrandingClass,n=e.linkColor,o=ha({"chat-footer__branding":r}),s=t.replace(/\[(.*?)\]\((.*?)\)/g,(function(e,t,r){return'<a style="color: '.concat(n||"",'; text-decoration: underline;" href="').concat(r,'" target="_blank" rel="noopener noreferrer">').concat(t,"</a>")})).replace(/\*\*(.*?)\*\*/g,(function(e,t){return"<b>".concat(t,"</b>")})).replace(/^(#{1,6}) (.*?)(?=\n|$)/gm,(function(e,t,r){var n=t.length;return"<h".concat(n,">").concat(r,"</h").concat(n,">")}));return a.createElement("div",{className:o,dangerouslySetInnerHTML:{__html:s}})},xa=function(e){var t=e.text;return(null==t?void 0:t.match(/\[([^\]]+)\]\((https?:\/\/[^\)]+)\)/))?a.createElement(ma,{text:t,applyBrandingClass:!0,linkColor:"white"}):a.createElement("div",{className:"chat-footer__branding",style:{color:"white"}},t)},ga=function(){return a.createElement("svg",{style:{color:"grey",paddingRight:"5px"},xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",viewBox:"0 0 16 16"},a.createElement("path",{d:"M1.293 1.293a1 1 0 0 1 1.414 0L8 6.586l5.293-5.293a1 1 0 1 1 1.414 1.414L9.414 8l5.293 5.293a1 1 0 0 1-1.414 1.414L8 9.414l-5.293 5.293a1 1 0 0 1-1.414-1.414L6.586 8 1.293 2.707a1 1 0 0 1 0-1.414z"}))},ya=function(){return a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",viewBox:"0 0 16 16"},a.createElement("path",{fillRule:"evenodd",d:"M2 13.5a.5.5 0 0 0 .5.5h6a.5.5 0 0 0 0-1H3.707L13.854 2.854a.5.5 0 0 0-.708-.708L3 12.293V7.5a.5.5 0 0 0-1 0v6z"}))},ba=function(){return a.createElement("svg",{viewBox:"80.208 98.129 313.069 282.823",xmlns:"http://www.w3.org/2000/svg"},a.createElement("g",{transform:"matrix(0.024498, 0, 0, -0.038359, 79.83091, 381.182404)",fill:"currentColor",stroke:"none"},a.createElement("path",{d:"M12670 7345 c-63 -18 -272 -77 -465 -130 -192 -53 -478 -132 -635 -175 -508 -141 -1091 -302 -2345 -649 -676 -187 -2038 -563 -3025 -836 -987 -273 -2072 -573 -2410 -666 -338 -94 -802 -222 -1030 -285 -1857 -514 -2579 -714 -2684 -742 -38 -10 -65 -21 -60 -24 5 -3 67 -22 139 -41 72 -20 326 -90 565 -157 239 -67 611 -170 825 -230 215 -60 586 -163 825 -230 239 -67 491 -137 560 -156 l126 -34 974 439 c1397 629 4128 1858 6050 2724 910 410 1826 822 2035 917 209 94 387 173 395 176 35 10 -66 -39 -8200 -3928 -586 -280 -1068 -512 -1071 -516 -3 -4 33 -117 82 -252 76 -213 355 -996 765 -2147 65 -183 120 -330 122 -329 1 2 114 558 250 1236 l248 1233 3455 2064 c1900 1135 3670 2193 3933 2351 264 158 491 293 505 301 62 33 -5 -12 -271 -182 -1671 -1070 -7188 -4613 -7188 -4617 0 -7 3661 -2455 3669 -2454 4 1 3713 6853 3977 7347 8 15 11 27 7 26 -5 0 -60 -15 -123 -34z"}),a.createElement("path",{d:"M5030 2232 c-15 -61 -479 -1861 -531 -2058 -21 -83 -39 -154 -39 -158 0 -3 369 330 820 740 452 411 817 750 813 754 -11 10 -1025 754 -1039 763 -8 4 -16 -10 -24 -41z"})))},wa=function(e){return a.createElement(a.Fragment,null,e.sendButtonIcon?a.createElement("button",{className:"xappw-custom-send-button",tabIndex:e.tabIndex?Number(e.tabIndex):0,onClick:e.onClick},a.createElement("img",{src:e.sendButtonIcon,alt:"Send button",draggable:!1})):a.createElement(pt,{className:"xappw-send-button ".concat(e.className||""),tabIndex:e.tabIndex,onClick:e.onClick,icon:ba}))},Oa=function(e){var t,r,n=e.value,o=e.placeholder,s=e.sendButtonIcon,i=e.suggestion,u=e.footerConfig,l=e.inputConfig,c=e.onChange,d=e.onSubmit,f=e.onSuggestionCommand,p=(0,a.useState)(!1),v=p[0],h=p[1];var m=(0,a.useCallback)((function(e){e&&e.preventDefault(),d(n)}),[n,d]),x=(0,a.useCallback)((function(){c({text:"",formats:[]})}),[c]),g=(0,a.useCallback)((function(e){!i||"End"!==e.key&&"ArrowRight"!==e.key&&"Enter"!==e.key?f&&("ArrowUp"===e.key?(f("prev"),e.preventDefault()):"ArrowDown"===e.key?(f("next"),e.preventDefault()):"Escape"===e.key&&(f("cancel"),e.preventDefault())):c(i)}),[i,c,f]);return a.createElement("div",{className:"xappw-input-container ".concat(e.addClass," ").concat(v?"drag-drop-zone":""),"aria-label":(n.text,"To clear input field click on clear icon on the left of send button"),"aria-hidden":!1,onDrop:function(t){h(!1),e.onFileUpload(t)},onDragOver:function(e){h(!0),e.preventDefault(),e.dataTransfer.dropEffect="copy"},onDragLeave:function(){h(!1)}},a.createElement("form",{className:"xappw-input-form",onSubmit:m},a.createElement(vt,{key:"input",id:"chatWidgetInput",className:"xappw-input",placeholder:null!=o?o:"type your question here",tabIndex:null==l?void 0:l.tabIndex,onInput:c,onChange:c,onKeyDown:g,value:n,spellCheck:!0}),a.createElement("div",{className:"xappw-input-form__buttons"},n.text&&a.createElement(pt,{icon:ga,tabIndex:null===(t=null==u?void 0:u.clearButton)||void 0===t?void 0:t.tabIndex,className:"xappw-input-form__btn",onClick:x}),a.createElement(wa,{className:"xappw-input-form__btn",sendButtonIcon:s,tabIndex:null===(r=null==u?void 0:u.sendButton)||void 0===r?void 0:r.tabIndex,onClick:m}))))};var _a=function(e){var t=e.data,r=e.onItemUse,n=e.searchTerms,o=(0,a.useState)(),s=o[0],i=o[1],u=(0,a.useState)(),l=u[0],c=u[1];(0,a.useEffect)((function(){t&&i(t),n||(i(void 0),c(void 0))}),[t,n]);var d=(null==t?void 0:t.length)>0?e.index:NaN,f=(0,a.useMemo)((function(){return mt(t,d)}),[t,d]),p=(0,a.useCallback)((function(e,t){if("inputText"===t.type)return r(e),c(void 0),!1}),[r]);(0,a.useEffect)((function(){c(f)}),[f]);var v=(0,a.useMemo)((function(){return function(e){return function(t){var r=t.data,n="FAQ"!==r.type,o=(0,a.useCallback)((function(t){e(r),t.stopPropagation()}),[r]);return n?a.createElement(pt,{className:"xappw-suggestions__use",onClick:o,icon:ya}):a.createElement(a.Fragment,null)}}(r)}),[r]);return a.createElement("div",{className:"xappw-suggestions ".concat(e.className||"")},(null==l?void 0:l.content)&&a.createElement("div",{className:"xappw-suggestions__answer"},l.content.split("\n").map((function(e){return e?a.createElement(ma,{text:e}):a.createElement(a.Fragment,null)}))),s&&s.length>0&&a.createElement(ht,{suggestions:s,index:d,className:"xappw-suggestions__groups",itemActions:v,onItemClick:e.onItemClick,onItemHover:c,onSpanClick:p}))},ka=function(e){var t,r,n,o=e.isAdmin,s=e.isChatting,i=e.visible,u=e.placeholder,l=e.sendButtonIcon,c=e.footerConfig,d=e.menuConfig,f=e.inputConfig,p=e.onSubmit,v=ae(),h=(0,a.useState)(!1),m=h[0],g=h[1],y=(0,a.useState)(),b=y[0],w=y[1],O=da(b,x((function(e){return e.activeContexts}))),_="FOOTER"===((null==d?void 0:d.menuButtonLocation)||"FOOTER"),k=null==d?void 0:d.items,M=null==d?void 0:d.itemsTabIndex,P=null===(t=null==d?void 0:d.button)||void 0===t?void 0:t.tabIndex,E=(0,a.useMemo)((function(){return k||[]}),[k]),T=null===(r=null==c?void 0:c.branding)||void 0===r?void 0:r.enabled,S=null===(n=null==c?void 0:c.branding)||void 0===n?void 0:n.text,C=(0,a.useState)(!o),N=C[0],j=C[1],D=(0,a.useState)({text:"",formats:[]}),I=D[0],R=D[1];var A=(0,a.useCallback)((function(e){w(""),R({text:"",formats:[]}),p(e.text)}),[p]),U=(0,a.useCallback)((function(e){A(e)}),[A]),Y=(0,a.useCallback)((function(e){R(e),w(e.text)}),[]);return a.createElement("div",{className:"chat-footer background-footer","aria-label":E.length?"to open menu click a button above the rounded rectangle at the bottom of widget":"","aria-hidden":!1},_&&E.length?a.createElement(a.Fragment,null,m?a.createElement(pn,{opened:m,tabIndex:M,onItemClick:function(t){g(!1),e.onSubmit(t)},items:E}):a.createElement(a.Fragment,null),a.createElement("div",{className:"chat-footer__menu-icon"},a.createElement(vn,{tabIndex:P,onToggle:function(){var e=!m;g(e),v(je({drawer:e}))}}))):a.createElement(a.Fragment,null),a.createElement(_a,{className:"xappw-chat-footer__suggestions",data:O.suggestions,index:O.index,searchTerms:b,onItemClick:U,onItemUse:Y}),o&&s&&i&&a.createElement(pa,{onAdminJoin:function(e){j(e)}}),a.createElement("div",{style:{pointerEvents:N?"auto":"none",opacity:N?1:.5}},a.createElement(Oa,{addClass:"chat-footer__input "+(s&&i?"visible":""),suggestion:O.item,value:I,placeholder:u,sendButtonIcon:l,footerConfig:c,inputConfig:f,onSubmit:A,onChange:function(t){R(t),e.onChange(t.text),w(t.text)},onSuggestionCommand:O.execute,onFileUpload:e.onFileUpload})),T&&S&&a.createElement(xa,{text:S}))},Ma=function(){},Pa=function(){function e(e){this.cache={},this.template=e}return e.prototype.resolve=function(e){var t,r,n;if(e){var a=this.cache,o=e.nick,s=a[o];return s||(s={user:e,send:null!==(t=this.template.send)&&void 0!==t?t:Ma,write:null!==(r=this.template.write)&&void 0!==r?r:Ma,openUrl:null!==(n=this.template.openUrl)&&void 0!==n?n:Ma},a[o]=s),s}},e}(),Ea=function(e){return a.createElement("div",{className:"card-container ".concat(e.addClass)},(t="string"==typeof e.icon,a.createElement("div",{className:"card-container__icon"},!t&&e.icon)),a.createElement("div",{className:"card-container__content ".concat(e.contentAddClass)},a.createElement("div",{className:"card-container__title"},e.title),e.children));var t},Ta={agent:{},hasRating:!1,shouldDisplay:!0,onRate:function(){}},Sa=function(e){void 0===e&&(e=Ta);var t=e.onRate,r=(0,a.useCallback)((function(){t("bad")}),[t]),n=(0,a.useCallback)((function(){t("good")}),[t]),o=(0,a.useCallback)((function(){t(void 0)}),[t]);return e.shouldDisplay?e.hasRating?a.createElement(Ea,{title:"Chat Rating",addClass:"chat-rating-card"},"You have rated the chat service.",a.createElement("div",{className:"buttons-container"},a.createElement(L,{addClass:"button button-rate-again",label:"Rate again",onClick:o}))):a.createElement(Ea,{title:"Chat Rating",addClass:"chat-rating-card"},e.agent.displayName," has requested you to rate the chat service.",a.createElement("div",{className:"buttons-container"},a.createElement(L,{addClass:"button button-rate-bad",label:"Rate Bad",onClick:r}),a.createElement(L,{addClass:"button button-rate-good",label:"Rate Good",onClick:n}))):null},Ca=function(e){var t=Kr(),r=(0,a.useCallback)((function(e){t(function(e){return function(t){return function(){t.sendChatRating(e)}}}(e))}),[t]);return a.createElement(a.Fragment,null,a.createElement("span",{className:"message-sr-only"},"at "+e.time+" system message"),a.createElement(Sa,{agent:e.agent,hasRating:e.hasRating,shouldDisplay:e.shouldDisplay,onRate:r}))},Na={},ja={exports:{}};!function(e){e.exports=function(e){return e&&e.__esModule?e:{default:e}},e.exports.__esModule=!0,e.exports.default=e.exports}(ja);var Da={exports:{}},Ia={exports:{}};!function(e){function t(r){return e.exports=t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e.exports.__esModule=!0,e.exports.default=e.exports,t(r)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports}(Ia);var Ra={exports:{}},Aa={exports:{}};!function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){if(null===e||!0===e||!1===e)return NaN;var t=Number(e);if(isNaN(t))return t;return t<0?Math.ceil(t):Math.floor(t)},e.exports=t.default}(Aa,Aa.exports);var Ua={exports:{}},Ya={exports:{}};!function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if(t.length<e)throw new TypeError(e+" argument"+(e>1?"s":"")+" required, but only "+t.length+" present")},e.exports=t.default}(Ya,Ya.exports),function(e,t){var r=ja.exports.default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){(0,a.default)(1,arguments);var t=Object.prototype.toString.call(e);return e instanceof Date||"object"===(0,n.default)(e)&&"[object Date]"===t?new Date(e.getTime()):"number"==typeof e||"[object Number]"===t?new Date(e):("string"!=typeof e&&"[object String]"!==t||"undefined"==typeof console||(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn((new Error).stack)),new Date(NaN))};var n=r(Ia.exports),a=r(Ya.exports);e.exports=t.default}(Ua,Ua.exports),function(e,t){var r=ja.exports.default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){(0,o.default)(2,arguments);var r=(0,a.default)(e),s=(0,n.default)(t);if(isNaN(s))return new Date(NaN);if(!s)return r;return r.setDate(r.getDate()+s),r};var n=r(Aa.exports),a=r(Ua.exports),o=r(Ya.exports);e.exports=t.default}(Ra,Ra.exports);var La={exports:{}};!function(e,t){var r=ja.exports.default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){(0,o.default)(2,arguments);var r=(0,a.default)(e),s=(0,n.default)(t);if(isNaN(s))return new Date(NaN);if(!s)return r;var i=r.getDate(),u=new Date(r.getTime());u.setMonth(r.getMonth()+s+1,0);var l=u.getDate();return i>=l?u:(r.setFullYear(u.getFullYear(),u.getMonth(),i),r)};var n=r(Aa.exports),a=r(Ua.exports),o=r(Ya.exports);e.exports=t.default}(La,La.exports),function(e,t){var r=ja.exports.default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if((0,i.default)(2,arguments),!t||"object"!==(0,n.default)(t))return new Date(NaN);var r=t.years?(0,u.default)(t.years):0,l=t.months?(0,u.default)(t.months):0,c=t.weeks?(0,u.default)(t.weeks):0,d=t.days?(0,u.default)(t.days):0,f=t.hours?(0,u.default)(t.hours):0,p=t.minutes?(0,u.default)(t.minutes):0,v=t.seconds?(0,u.default)(t.seconds):0,h=(0,s.default)(e),m=l||r?(0,o.default)(h,l+12*r):h,x=d||c?(0,a.default)(m,d+7*c):m,g=1e3*(v+60*(p+60*f));return new Date(x.getTime()+g)};var n=r(Ia.exports),a=r(Ra.exports),o=r(La.exports),s=r(Ua.exports),i=r(Ya.exports),u=r(Aa.exports);e.exports=t.default}(Da,Da.exports);var Wa={exports:{}},Fa={exports:{}};!function(e,t){var r=ja.exports.default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){(0,a.default)(1,arguments);var t=(0,n.default)(e).getDay();return 0===t||6===t};var n=r(Ua.exports),a=r(Ya.exports);e.exports=t.default}(Fa,Fa.exports);var Ha={exports:{}};!function(e,t){var r=ja.exports.default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,a.default)(1,arguments),0===(0,n.default)(e).getDay()};var n=r(Ua.exports),a=r(Ya.exports);e.exports=t.default}(Ha,Ha.exports);var Ba={exports:{}};!function(e,t){var r=ja.exports.default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,a.default)(1,arguments),6===(0,n.default)(e).getDay()};var n=r(Ua.exports),a=r(Ya.exports);e.exports=t.default}(Ba,Ba.exports),function(e,t){var r=ja.exports.default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){(0,s.default)(2,arguments);var r=(0,a.default)(e),l=(0,n.default)(r),c=(0,o.default)(t);if(isNaN(c))return new Date(NaN);var d=r.getHours(),f=c<0?-1:1,p=(0,o.default)(c/5);r.setDate(r.getDate()+7*p);var v=Math.abs(c%5);for(;v>0;)r.setDate(r.getDate()+f),(0,n.default)(r)||(v-=1);l&&(0,n.default)(r)&&0!==c&&((0,u.default)(r)&&r.setDate(r.getDate()+(f<0?2:-1)),(0,i.default)(r)&&r.setDate(r.getDate()+(f<0?1:-2)));return r.setHours(d),r};var n=r(Fa.exports),a=r(Ua.exports),o=r(Aa.exports),s=r(Ya.exports),i=r(Ha.exports),u=r(Ba.exports);e.exports=t.default}(Wa,Wa.exports);var qa={exports:{}},za={exports:{}};!function(e,t){var r=ja.exports.default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){(0,o.default)(2,arguments);var r=(0,a.default)(e).getTime(),s=(0,n.default)(t);return new Date(r+s)};var n=r(Aa.exports),a=r(Ua.exports),o=r(Ya.exports);e.exports=t.default}(za,za.exports),function(e,t){var r=ja.exports.default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){(0,o.default)(2,arguments);var r=(0,n.default)(t);return(0,a.default)(e,r*s)};var n=r(Aa.exports),a=r(za.exports),o=r(Ya.exports),s=36e5;e.exports=t.default}(qa,qa.exports);var Va={exports:{}},Qa={exports:{}},Ja={exports:{}},Xa={exports:{}},Ga={};Object.defineProperty(Ga,"__esModule",{value:!0}),Ga.getDefaultOptions=function(){return Ka},Ga.setDefaultOptions=function(e){Ka=e};var Ka={};!function(e,t){var r=ja.exports.default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var r,i,u,l,c,d,f,p;(0,o.default)(1,arguments);var v=(0,s.getDefaultOptions)(),h=(0,a.default)(null!==(r=null!==(i=null!==(u=null!==(l=null==t?void 0:t.weekStartsOn)&&void 0!==l?l:null==t||null===(c=t.locale)||void 0===c||null===(d=c.options)||void 0===d?void 0:d.weekStartsOn)&&void 0!==u?u:v.weekStartsOn)&&void 0!==i?i:null===(f=v.locale)||void 0===f||null===(p=f.options)||void 0===p?void 0:p.weekStartsOn)&&void 0!==r?r:0);if(!(h>=0&&h<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var m=(0,n.default)(e),x=m.getDay(),g=(x<h?7:0)+x-h;return m.setDate(m.getDate()-g),m.setHours(0,0,0,0),m};var n=r(Ua.exports),a=r(Aa.exports),o=r(Ya.exports),s=Ga;e.exports=t.default}(Xa,Xa.exports),function(e,t){var r=ja.exports.default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,a.default)(1,arguments),(0,n.default)(e,{weekStartsOn:1})};var n=r(Xa.exports),a=r(Ya.exports);e.exports=t.default}(Ja,Ja.exports),function(e,t){var r=ja.exports.default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){(0,o.default)(1,arguments);var t=(0,n.default)(e),r=t.getFullYear(),s=new Date(0);s.setFullYear(r+1,0,4),s.setHours(0,0,0,0);var i=(0,a.default)(s),u=new Date(0);u.setFullYear(r,0,4),u.setHours(0,0,0,0);var l=(0,a.default)(u);return t.getTime()>=i.getTime()?r+1:t.getTime()>=l.getTime()?r:r-1};var n=r(Ua.exports),a=r(Ja.exports),o=r(Ya.exports);e.exports=t.default}(Qa,Qa.exports);var $a={exports:{}},Za={exports:{}};!function(e,t){var r=ja.exports.default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){(0,o.default)(1,arguments);var t=(0,n.default)(e),r=new Date(0);return r.setFullYear(t,0,4),r.setHours(0,0,0,0),(0,a.default)(r)};var n=r(Qa.exports),a=r(Ja.exports),o=r(Ya.exports);e.exports=t.default}(Za,Za.exports);var eo={exports:{}},to={exports:{}};!function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return t.setUTCFullYear(e.getFullYear()),e.getTime()-t.getTime()},e.exports=t.default}(to,to.exports);var ro={exports:{}};!function(e,t){var r=ja.exports.default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){(0,a.default)(1,arguments);var t=(0,n.default)(e);return t.setHours(0,0,0,0),t};var n=r(Ua.exports),a=r(Ya.exports);e.exports=t.default}(ro,ro.exports),function(e,t){var r=ja.exports.default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){(0,o.default)(2,arguments);var r=(0,a.default)(e),i=(0,a.default)(t),u=r.getTime()-(0,n.default)(r),l=i.getTime()-(0,n.default)(i);return Math.round((u-l)/s)};var n=r(to.exports),a=r(ro.exports),o=r(Ya.exports),s=864e5;e.exports=t.default}(eo,eo.exports),function(e,t){var r=ja.exports.default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){(0,i.default)(2,arguments);var r=(0,a.default)(e),u=(0,n.default)(t),l=(0,s.default)(r,(0,o.default)(r)),c=new Date(0);return c.setFullYear(u,0,4),c.setHours(0,0,0,0),(r=(0,o.default)(c)).setDate(r.getDate()+l),r};var n=r(Aa.exports),a=r(Ua.exports),o=r(Za.exports),s=r(eo.exports),i=r(Ya.exports);e.exports=t.default}($a,$a.exports),function(e,t){var r=ja.exports.default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){(0,s.default)(2,arguments);var r=(0,n.default)(t);return(0,o.default)(e,(0,a.default)(e)+r)};var n=r(Aa.exports),a=r(Qa.exports),o=r($a.exports),s=r(Ya.exports);e.exports=t.default}(Va,Va.exports);var no={exports:{}};!function(e,t){var r=ja.exports.default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){(0,o.default)(2,arguments);var r=(0,n.default)(t);return(0,a.default)(e,r*s)};var n=r(Aa.exports),a=r(za.exports),o=r(Ya.exports),s=6e4;e.exports=t.default}(no,no.exports);var ao={exports:{}};!function(e,t){var r=ja.exports.default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){(0,o.default)(2,arguments);var r=3*(0,n.default)(t);return(0,a.default)(e,r)};var n=r(Aa.exports),a=r(La.exports),o=r(Ya.exports);e.exports=t.default}(ao,ao.exports);var oo={exports:{}};!function(e,t){var r=ja.exports.default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){(0,o.default)(2,arguments);var r=(0,n.default)(t);return(0,a.default)(e,1e3*r)};var n=r(Aa.exports),a=r(za.exports),o=r(Ya.exports);e.exports=t.default}(oo,oo.exports);var so={exports:{}};!function(e,t){var r=ja.exports.default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){(0,o.default)(2,arguments);var r=7*(0,n.default)(t);return(0,a.default)(e,r)};var n=r(Aa.exports),a=r(Ra.exports),o=r(Ya.exports);e.exports=t.default}(so,so.exports);var io={exports:{}};!function(e,t){var r=ja.exports.default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){(0,o.default)(2,arguments);var r=(0,n.default)(t);return(0,a.default)(e,12*r)};var n=r(Aa.exports),a=r(La.exports),o=r(Ya.exports);e.exports=t.default}(io,io.exports);var uo={exports:{}};!function(e,t){var r=ja.exports.default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,r){(0,a.default)(2,arguments);var o=(0,n.default)(null==e?void 0:e.start).getTime(),s=(0,n.default)(null==e?void 0:e.end).getTime(),i=(0,n.default)(null==t?void 0:t.start).getTime(),u=(0,n.default)(null==t?void 0:t.end).getTime();if(!(o<=s&&i<=u))throw new RangeError("Invalid interval");if(null!=r&&r.inclusive)return o<=u&&i<=s;return o<u&&i<s};var n=r(Ua.exports),a=r(Ya.exports);e.exports=t.default}(uo,uo.exports);var lo={exports:{}},co={exports:{}};!function(e,t){var r=ja.exports.default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t,r;if((0,o.default)(1,arguments),e&&"function"==typeof e.forEach)t=e;else{if("object"!==(0,n.default)(e)||null===e)return new Date(NaN);t=Array.prototype.slice.call(e)}return t.forEach((function(e){var t=(0,a.default)(e);(void 0===r||r<t||isNaN(Number(t)))&&(r=t)})),r||new Date(NaN)};var n=r(Ia.exports),a=r(Ua.exports),o=r(Ya.exports);e.exports=t.default}(co,co.exports);var fo={exports:{}};!function(e,t){var r=ja.exports.default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t,r;if((0,o.default)(1,arguments),e&&"function"==typeof e.forEach)t=e;else{if("object"!==(0,n.default)(e)||null===e)return new Date(NaN);t=Array.prototype.slice.call(e)}return t.forEach((function(e){var t=(0,a.default)(e);(void 0===r||r>t||isNaN(t.getDate()))&&(r=t)})),r||new Date(NaN)};var n=r(Ia.exports),a=r(Ua.exports),o=r(Ya.exports);e.exports=t.default}(fo,fo.exports),function(e,t){var r=ja.exports.default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var r=t.start,s=t.end;return(0,o.default)(2,arguments),(0,a.default)([(0,n.default)([e,r]),s])};var n=r(co.exports),a=r(fo.exports),o=r(Ya.exports);e.exports=t.default}(lo,lo.exports);var po={exports:{}};!function(e,t){var r=ja.exports.default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){(0,a.default)(2,arguments);var r=(0,n.default)(e);if(isNaN(Number(r)))return NaN;var o,s,i,u=r.getTime();o=null==t?[]:"function"==typeof t.forEach?t:Array.prototype.slice.call(t);return o.forEach((function(e,t){var r=(0,n.default)(e);if(isNaN(Number(r)))return s=NaN,void(i=NaN);var a=Math.abs(u-r.getTime());(null==s||a<Number(i))&&(s=t,i=a)})),s};var n=r(Ua.exports),a=r(Ya.exports);e.exports=t.default}(po,po.exports);var vo={exports:{}};!function(e,t){var r=ja.exports.default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){(0,a.default)(2,arguments);var r=(0,n.default)(e);if(isNaN(Number(r)))return new Date(NaN);var o,s,i,u=r.getTime();o=null==t?[]:"function"==typeof t.forEach?t:Array.prototype.slice.call(t);return o.forEach((function(e){var t=(0,n.default)(e);if(isNaN(Number(t)))return s=new Date(NaN),void(i=NaN);var r=Math.abs(u-t.getTime());(null==s||r<Number(i))&&(s=t,i=r)})),s};var n=r(Ua.exports),a=r(Ya.exports);e.exports=t.default}(vo,vo.exports);var ho={exports:{}};!function(e,t){var r=ja.exports.default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){(0,a.default)(2,arguments);var r=(0,n.default)(e),o=(0,n.default)(t),s=r.getTime()-o.getTime();return s<0?-1:s>0?1:s};var n=r(Ua.exports),a=r(Ya.exports);e.exports=t.default}(ho,ho.exports);var mo={exports:{}};!function(e,t){var r=ja.exports.default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){(0,a.default)(2,arguments);var r=(0,n.default)(e),o=(0,n.default)(t),s=r.getTime()-o.getTime();return s>0?-1:s<0?1:s};var n=r(Ua.exports),a=r(Ya.exports);e.exports=t.default}(mo,mo.exports);var xo={exports:{}},go={};Object.defineProperty(go,"__esModule",{value:!0}),go.secondsInYear=go.secondsInWeek=go.secondsInQuarter=go.secondsInMonth=go.secondsInMinute=go.secondsInHour=go.secondsInDay=go.quartersInYear=go.monthsInYear=go.monthsInQuarter=go.minutesInHour=go.minTime=go.millisecondsInSecond=go.millisecondsInMinute=go.millisecondsInHour=go.maxTime=go.daysInYear=go.daysInWeek=void 0;go.daysInWeek=7;var yo=365.2425;go.daysInYear=yo;var bo=24*Math.pow(10,8)*60*60*1e3;go.maxTime=bo;go.millisecondsInMinute=6e4;go.millisecondsInHour=36e5;go.millisecondsInSecond=1e3;var wo=-bo;go.minTime=wo;go.minutesInHour=60;go.monthsInQuarter=3;go.monthsInYear=12;go.quartersInYear=4;go.secondsInHour=3600;go.secondsInMinute=60;var Oo=86400;go.secondsInDay=Oo;go.secondsInWeek=604800;var _o=31556952;go.secondsInYear=_o;var ko=2629746;go.secondsInMonth=ko;go.secondsInQuarter=7889238,function(e,t){var r=ja.exports.default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){(0,n.default)(1,arguments);var t=e/a.daysInWeek;return Math.floor(t)};var n=r(Ya.exports),a=go;e.exports=t.default}(xo,xo.exports);var Mo={exports:{}},Po={exports:{}};!function(e,t){var r=ja.exports.default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){(0,a.default)(2,arguments);var r=(0,n.default)(e),o=(0,n.default)(t);return r.getTime()===o.getTime()};var n=r(ro.exports),a=r(Ya.exports);e.exports=t.default}(Po,Po.exports);var Eo={exports:{}},To={exports:{}};!function(e,t){var r=ja.exports.default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,a.default)(1,arguments),e instanceof Date||"object"===(0,n.default)(e)&&"[object Date]"===Object.prototype.toString.call(e)};var n=r(Ia.exports),a=r(Ya.exports);e.exports=t.default}(To,To.exports),function(e,t){var r=ja.exports.default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){if((0,o.default)(1,arguments),!(0,n.default)(e)&&"number"!=typeof e)return!1;var t=(0,a.default)(e);return!isNaN(Number(t))};var n=r(To.exports),a=r(Ua.exports),o=r(Ya.exports);e.exports=t.default}(Eo,Eo.exports),function(e,t){var r=ja.exports.default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){(0,l.default)(2,arguments);var r=(0,u.default)(e),d=(0,u.default)(t);if(!(0,s.default)(r)||!(0,s.default)(d))return NaN;var f=(0,a.default)(r,d),p=f<0?-1:1,v=(0,c.default)(f/7),h=5*v;d=(0,n.default)(d,7*v);for(;!(0,o.default)(r,d);)h+=(0,i.default)(d)?0:p,d=(0,n.default)(d,p);return 0===h?0:h};var n=r(Ra.exports),a=r(eo.exports),o=r(Po.exports),s=r(Eo.exports),i=r(Fa.exports),u=r(Ua.exports),l=r(Ya.exports),c=r(Aa.exports);e.exports=t.default}(Mo,Mo.exports);var So={exports:{}};!function(e,t){var r=ja.exports.default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){return(0,a.default)(2,arguments),(0,n.default)(e)-(0,n.default)(t)};var n=r(Qa.exports),a=r(Ya.exports);e.exports=t.default}(So,So.exports);var Co={exports:{}};!function(e,t){var r=ja.exports.default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){(0,o.default)(2,arguments);var r=(0,a.default)(e),i=(0,a.default)(t),u=r.getTime()-(0,n.default)(r),l=i.getTime()-(0,n.default)(i);return Math.round((u-l)/s)};var n=r(to.exports),a=r(Ja.exports),o=r(Ya.exports),s=6048e5;e.exports=t.default}(Co,Co.exports);var No={exports:{}};!function(e,t){var r=ja.exports.default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){(0,a.default)(2,arguments);var r=(0,n.default)(e),o=(0,n.default)(t),s=r.getFullYear()-o.getFullYear(),i=r.getMonth()-o.getMonth();return 12*s+i};var n=r(Ua.exports),a=r(Ya.exports);e.exports=t.default}(No,No.exports);var jo={exports:{}},Do={exports:{}};!function(e,t){var r=ja.exports.default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){(0,a.default)(1,arguments);var t=(0,n.default)(e);return Math.floor(t.getMonth()/3)+1};var n=r(Ua.exports),a=r(Ya.exports);e.exports=t.default}(Do,Do.exports),function(e,t){var r=ja.exports.default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){(0,o.default)(2,arguments);var r=(0,a.default)(e),s=(0,a.default)(t),i=r.getFullYear()-s.getFullYear(),u=(0,n.default)(r)-(0,n.default)(s);return 4*i+u};var n=r(Do.exports),a=r(Ua.exports),o=r(Ya.exports);e.exports=t.default}(jo,jo.exports);var Io={exports:{}};!function(e,t){var r=ja.exports.default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,r){(0,o.default)(2,arguments);var i=(0,n.default)(e,r),u=(0,n.default)(t,r),l=i.getTime()-(0,a.default)(i),c=u.getTime()-(0,a.default)(u);return Math.round((l-c)/s)};var n=r(Xa.exports),a=r(to.exports),o=r(Ya.exports),s=6048e5;e.exports=t.default}(Io,Io.exports);var Ro={exports:{}};!function(e,t){var r=ja.exports.default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){(0,a.default)(2,arguments);var r=(0,n.default)(e),o=(0,n.default)(t);return r.getFullYear()-o.getFullYear()};var n=r(Ua.exports),a=r(Ya.exports);e.exports=t.default}(Ro,Ro.exports);var Ao={exports:{}};!function(e,t){var r=ja.exports.default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){(0,o.default)(2,arguments);var r=(0,n.default)(e),i=(0,n.default)(t),u=s(r,i),l=Math.abs((0,a.default)(r,i));r.setDate(r.getDate()-u*l);var c=Number(s(r,i)===-u),d=u*(l-c);return 0===d?0:d};var n=r(Ua.exports),a=r(eo.exports),o=r(Ya.exports);function s(e,t){var r=e.getFullYear()-t.getFullYear()||e.getMonth()-t.getMonth()||e.getDate()-t.getDate()||e.getHours()-t.getHours()||e.getMinutes()-t.getMinutes()||e.getSeconds()-t.getSeconds()||e.getMilliseconds()-t.getMilliseconds();return r<0?-1:r>0?1:r}e.exports=t.default}(Ao,Ao.exports);var Uo={exports:{}},Yo={exports:{}};!function(e,t){var r=ja.exports.default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){return(0,a.default)(2,arguments),(0,n.default)(e).getTime()-(0,n.default)(t).getTime()};var n=r(Ua.exports),a=r(Ya.exports);e.exports=t.default}(Yo,Yo.exports);var Lo={};Object.defineProperty(Lo,"__esModule",{value:!0}),Lo.getRoundingMethod=function(e){return e?Wo[e]:Wo[Fo]};var Wo={ceil:Math.ceil,round:Math.round,floor:Math.floor,trunc:function(e){return e<0?Math.ceil(e):Math.floor(e)}},Fo="trunc";!function(e,t){var r=ja.exports.default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,r){(0,o.default)(2,arguments);var i=(0,a.default)(e,t)/n.millisecondsInHour;return(0,s.getRoundingMethod)(null==r?void 0:r.roundingMethod)(i)};var n=go,a=r(Yo.exports),o=r(Ya.exports),s=Lo;e.exports=t.default}(Uo,Uo.exports);var Ho={exports:{}},Bo={exports:{}};!function(e,t){var r=ja.exports.default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){(0,a.default)(2,arguments);var r=(0,o.default)(t);return(0,n.default)(e,-r)};var n=r(Va.exports),a=r(Ya.exports),o=r(Aa.exports);e.exports=t.default}(Bo,Bo.exports),function(e,t){var r=ja.exports.default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){(0,i.default)(2,arguments);var r=(0,n.default)(e),u=(0,n.default)(t),l=(0,o.default)(r,u),c=Math.abs((0,a.default)(r,u));r=(0,s.default)(r,l*c);var d=Number((0,o.default)(r,u)===-l),f=l*(c-d);return 0===f?0:f};var n=r(Ua.exports),a=r(So.exports),o=r(ho.exports),s=r(Bo.exports),i=r(Ya.exports);e.exports=t.default}(Ho,Ho.exports);var qo={exports:{}};!function(e,t){var r=ja.exports.default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,r){(0,o.default)(2,arguments);var i=(0,a.default)(e,t)/n.millisecondsInMinute;return(0,s.getRoundingMethod)(null==r?void 0:r.roundingMethod)(i)};var n=go,a=r(Yo.exports),o=r(Ya.exports),s=Lo;e.exports=t.default}(qo,qo.exports);var zo={exports:{}},Vo={exports:{}},Qo={exports:{}};!function(e,t){var r=ja.exports.default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){(0,a.default)(1,arguments);var t=(0,n.default)(e);return t.setHours(23,59,59,999),t};var n=r(Ua.exports),a=r(Ya.exports);e.exports=t.default}(Qo,Qo.exports);var Jo={exports:{}};!function(e,t){var r=ja.exports.default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){(0,a.default)(1,arguments);var t=(0,n.default)(e),r=t.getMonth();return t.setFullYear(t.getFullYear(),r+1,0),t.setHours(23,59,59,999),t};var n=r(Ua.exports),a=r(Ya.exports);e.exports=t.default}(Jo,Jo.exports),function(e,t){var r=ja.exports.default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){(0,s.default)(1,arguments);var t=(0,n.default)(e);return(0,a.default)(t).getTime()===(0,o.default)(t).getTime()};var n=r(Ua.exports),a=r(Qo.exports),o=r(Jo.exports),s=r(Ya.exports);e.exports=t.default}(Vo,Vo.exports),function(e,t){var r=ja.exports.default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){(0,s.default)(2,arguments);var r,u=(0,n.default)(e),l=(0,n.default)(t),c=(0,o.default)(u,l),d=Math.abs((0,a.default)(u,l));if(d<1)r=0;else{1===u.getMonth()&&u.getDate()>27&&u.setDate(30),u.setMonth(u.getMonth()-c*d);var f=(0,o.default)(u,l)===-c;(0,i.default)((0,n.default)(e))&&1===d&&1===(0,o.default)(e,l)&&(f=!1),r=c*(d-Number(f))}return 0===r?0:r};var n=r(Ua.exports),a=r(No.exports),o=r(ho.exports),s=r(Ya.exports),i=r(Vo.exports);e.exports=t.default}(zo,zo.exports);var Xo={exports:{}};!function(e,t){var r=ja.exports.default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,r){(0,a.default)(2,arguments);var s=(0,n.default)(e,t)/3;return(0,o.getRoundingMethod)(null==r?void 0:r.roundingMethod)(s)};var n=r(zo.exports),a=r(Ya.exports),o=Lo;e.exports=t.default}(Xo,Xo.exports);var Go={exports:{}};!function(e,t){var r=ja.exports.default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,r){(0,a.default)(2,arguments);var s=(0,n.default)(e,t)/1e3;return(0,o.getRoundingMethod)(null==r?void 0:r.roundingMethod)(s)};var n=r(Yo.exports),a=r(Ya.exports),o=Lo;e.exports=t.default}(Go,Go.exports);var Ko={exports:{}};!function(e,t){var r=ja.exports.default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,r){(0,a.default)(2,arguments);var s=(0,n.default)(e,t)/7;return(0,o.getRoundingMethod)(null==r?void 0:r.roundingMethod)(s)};var n=r(Ao.exports),a=r(Ya.exports),o=Lo;e.exports=t.default}(Ko,Ko.exports);var $o={exports:{}};!function(e,t){var r=ja.exports.default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){(0,s.default)(2,arguments);var r=(0,n.default)(e),i=(0,n.default)(t),u=(0,o.default)(r,i),l=Math.abs((0,a.default)(r,i));r.setFullYear(1584),i.setFullYear(1584);var c=(0,o.default)(r,i)===-u,d=u*(l-Number(c));return 0===d?0:d};var n=r(Ua.exports),a=r(Ro.exports),o=r(ho.exports),s=r(Ya.exports);e.exports=t.default}($o,$o.exports);var Zo={exports:{}};!function(e,t){var r=ja.exports.default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var r;(0,a.default)(1,arguments);var o=e||{},s=(0,n.default)(o.start),i=(0,n.default)(o.end).getTime();if(!(s.getTime()<=i))throw new RangeError("Invalid interval");var u=[],l=s;l.setHours(0,0,0,0);var c=Number(null!==(r=null==t?void 0:t.step)&&void 0!==r?r:1);if(c<1||isNaN(c))throw new RangeError("`options.step` must be a number greater than 1");for(;l.getTime()<=i;)u.push((0,n.default)(l)),l.setDate(l.getDate()+c),l.setHours(0,0,0,0);return u};var n=r(Ua.exports),a=r(Ya.exports);e.exports=t.default}(Zo,Zo.exports);var es={exports:{}};!function(e,t){var r=ja.exports.default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var r;(0,o.default)(1,arguments);var s=e||{},i=(0,a.default)(s.start),u=(0,a.default)(s.end),l=i.getTime(),c=u.getTime();if(!(l<=c))throw new RangeError("Invalid interval");var d=[],f=i;f.setMinutes(0,0,0);var p=Number(null!==(r=null==t?void 0:t.step)&&void 0!==r?r:1);if(p<1||isNaN(p))throw new RangeError("`options.step` must be a number greater than 1");for(;f.getTime()<=c;)d.push((0,a.default)(f)),f=(0,n.default)(f,p);return d};var n=r(qa.exports),a=r(Ua.exports),o=r(Ya.exports);e.exports=t.default}(es,es.exports);var ts={exports:{}},rs={exports:{}};!function(e,t){var r=ja.exports.default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){(0,a.default)(1,arguments);var t=(0,n.default)(e);return t.setSeconds(0,0),t};var n=r(Ua.exports),a=r(Ya.exports);e.exports=t.default}(rs,rs.exports),function(e,t){var r=ja.exports.default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var r;(0,s.default)(1,arguments);var i=(0,o.default)((0,a.default)(e.start)),u=(0,a.default)(e.end),l=i.getTime(),c=u.getTime();if(l>=c)throw new RangeError("Invalid interval");var d=[],f=i,p=Number(null!==(r=null==t?void 0:t.step)&&void 0!==r?r:1);if(p<1||isNaN(p))throw new RangeError("`options.step` must be a number equal to or greater than 1");for(;f.getTime()<=c;)d.push((0,a.default)(f)),f=(0,n.default)(f,p);return d};var n=r(no.exports),a=r(Ua.exports),o=r(rs.exports),s=r(Ya.exports);e.exports=t.default}(ts,ts.exports);var ns={exports:{}};!function(e,t){var r=ja.exports.default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){(0,a.default)(1,arguments);var t=e||{},r=(0,n.default)(t.start),o=(0,n.default)(t.end).getTime(),s=[];if(!(r.getTime()<=o))throw new RangeError("Invalid interval");var i=r;i.setHours(0,0,0,0),i.setDate(1);for(;i.getTime()<=o;)s.push((0,n.default)(i)),i.setMonth(i.getMonth()+1);return s};var n=r(Ua.exports),a=r(Ya.exports);e.exports=t.default}(ns,ns.exports);var as={exports:{}},os={exports:{}};!function(e,t){var r=ja.exports.default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){(0,a.default)(1,arguments);var t=(0,n.default)(e),r=t.getMonth(),o=r-r%3;return t.setMonth(o,1),t.setHours(0,0,0,0),t};var n=r(Ua.exports),a=r(Ya.exports);e.exports=t.default}(os,os.exports),function(e,t){var r=ja.exports.default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){(0,s.default)(1,arguments);var t=e||{},r=(0,o.default)(t.start),i=(0,o.default)(t.end),u=i.getTime();if(!(r.getTime()<=u))throw new RangeError("Invalid interval");var l=(0,a.default)(r),c=(0,a.default)(i);u=c.getTime();var d=[],f=l;for(;f.getTime()<=u;)d.push((0,o.default)(f)),f=(0,n.default)(f,1);return d};var n=r(ao.exports),a=r(os.exports),o=r(Ua.exports),s=r(Ya.exports);e.exports=t.default}(as,as.exports);var ss={exports:{}};!function(e,t){var r=ja.exports.default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){(0,s.default)(1,arguments);var r=e||{},i=(0,o.default)(r.start),u=(0,o.default)(r.end),l=u.getTime();if(!(i.getTime()<=l))throw new RangeError("Invalid interval");var c=(0,a.default)(i,t),d=(0,a.default)(u,t);c.setHours(15),d.setHours(15),l=d.getTime();var f=[],p=c;for(;p.getTime()<=l;)p.setHours(0),f.push((0,o.default)(p)),(p=(0,n.default)(p,1)).setHours(15);return f};var n=r(so.exports),a=r(Xa.exports),o=r(Ua.exports),s=r(Ya.exports);e.exports=t.default}(ss,ss.exports);var is={exports:{}};!function(e,t){var r=ja.exports.default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){(0,s.default)(1,arguments);var t=(0,n.default)(e),r=[],i=0;for(;i<t.length;){var u=t[i++];(0,o.default)(u)&&(r.push(u),(0,a.default)(u)&&(i+=5))}return r};var n=r(Zo.exports),a=r(Ha.exports),o=r(Fa.exports),s=r(Ya.exports);e.exports=t.default}(is,is.exports);var us={exports:{}},ls={exports:{}};!function(e,t){var r=ja.exports.default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){(0,a.default)(1,arguments);var t=(0,n.default)(e);return t.setDate(1),t.setHours(0,0,0,0),t};var n=r(Ua.exports),a=r(Ya.exports);e.exports=t.default}(ls,ls.exports),function(e,t){var r=ja.exports.default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){(0,s.default)(1,arguments);var t=(0,a.default)(e);if(isNaN(t.getTime()))throw new RangeError("The passed date is invalid");var r=(0,o.default)(e);return(0,n.default)({start:t,end:r})};var n=r(is.exports),a=r(ls.exports),o=r(Jo.exports),s=r(Ya.exports);e.exports=t.default}(us,us.exports);var cs={exports:{}},ds={exports:{}};!function(e,t){var r=ja.exports.default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){(0,a.default)(1,arguments);var t=(0,n.default)(e),r=t.getFullYear();return t.setFullYear(r+1,0,0),t.setHours(23,59,59,999),t};var n=r(Ua.exports),a=r(Ya.exports);e.exports=t.default}(ds,ds.exports);var fs={exports:{}};!function(e,t){var r=ja.exports.default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){(0,a.default)(1,arguments);var t=(0,n.default)(e),r=new Date(0);return r.setFullYear(t.getFullYear(),0,1),r.setHours(0,0,0,0),r};var n=r(Ua.exports),a=r(Ya.exports);e.exports=t.default}(fs,fs.exports),function(e,t){var r=ja.exports.default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){(0,s.default)(1,arguments);var t=(0,o.default)(e),r=(0,a.default)(e);return(0,n.default)({start:t,end:r})};var n=r(is.exports),a=r(ds.exports),o=r(fs.exports),s=r(Ya.exports);e.exports=t.default}(cs,cs.exports);var ps={exports:{}};!function(e,t){var r=ja.exports.default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){(0,a.default)(1,arguments);var t=e||{},r=(0,n.default)(t.start),o=(0,n.default)(t.end).getTime();if(!(r.getTime()<=o))throw new RangeError("Invalid interval");var s=[],i=r;i.setHours(0,0,0,0),i.setMonth(0,1);for(;i.getTime()<=o;)s.push((0,n.default)(i)),i.setFullYear(i.getFullYear()+1);return s};var n=r(Ua.exports),a=r(Ya.exports);e.exports=t.default}(ps,ps.exports);var vs={exports:{}};!function(e,t){var r=ja.exports.default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){(0,a.default)(1,arguments);var t=(0,n.default)(e),r=t.getFullYear(),o=9+10*Math.floor(r/10);return t.setFullYear(o,11,31),t.setHours(23,59,59,999),t};var n=r(Ua.exports),a=r(Ya.exports);e.exports=t.default}(vs,vs.exports);var hs={exports:{}};!function(e,t){var r=ja.exports.default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){(0,a.default)(1,arguments);var t=(0,n.default)(e);return t.setMinutes(59,59,999),t};var n=r(Ua.exports),a=r(Ya.exports);e.exports=t.default}(hs,hs.exports);var ms={exports:{}},xs={exports:{}};!function(e,t){var r=ja.exports.default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var r,i,u,l,c,d,f,p;(0,s.default)(1,arguments);var v=(0,n.getDefaultOptions)(),h=(0,o.default)(null!==(r=null!==(i=null!==(u=null!==(l=null==t?void 0:t.weekStartsOn)&&void 0!==l?l:null==t||null===(c=t.locale)||void 0===c||null===(d=c.options)||void 0===d?void 0:d.weekStartsOn)&&void 0!==u?u:v.weekStartsOn)&&void 0!==i?i:null===(f=v.locale)||void 0===f||null===(p=f.options)||void 0===p?void 0:p.weekStartsOn)&&void 0!==r?r:0);if(!(h>=0&&h<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var m=(0,a.default)(e),x=m.getDay(),g=6+(x<h?-7:0)-(x-h);return m.setDate(m.getDate()+g),m.setHours(23,59,59,999),m};var n=Ga,a=r(Ua.exports),o=r(Aa.exports),s=r(Ya.exports);e.exports=t.default}(xs,xs.exports),function(e,t){var r=ja.exports.default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,a.default)(1,arguments),(0,n.default)(e,{weekStartsOn:1})};var n=r(xs.exports),a=r(Ya.exports);e.exports=t.default}(ms,ms.exports);var gs={exports:{}};!function(e,t){var r=ja.exports.default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){(0,o.default)(1,arguments);var t=(0,n.default)(e),r=new Date(0);r.setFullYear(t+1,0,4),r.setHours(0,0,0,0);var s=(0,a.default)(r);return s.setMilliseconds(s.getMilliseconds()-1),s};var n=r(Qa.exports),a=r(Ja.exports),o=r(Ya.exports);e.exports=t.default}(gs,gs.exports);var ys={exports:{}};!function(e,t){var r=ja.exports.default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){(0,a.default)(1,arguments);var t=(0,n.default)(e);return t.setSeconds(59,999),t};var n=r(Ua.exports),a=r(Ya.exports);e.exports=t.default}(ys,ys.exports);var bs={exports:{}};!function(e,t){var r=ja.exports.default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){(0,a.default)(1,arguments);var t=(0,n.default)(e),r=t.getMonth(),o=r-r%3+3;return t.setMonth(o,0),t.setHours(23,59,59,999),t};var n=r(Ua.exports),a=r(Ya.exports);e.exports=t.default}(bs,bs.exports);var ws={exports:{}};!function(e,t){var r=ja.exports.default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){(0,a.default)(1,arguments);var t=(0,n.default)(e);return t.setMilliseconds(999),t};var n=r(Ua.exports),a=r(Ya.exports);e.exports=t.default}(ws,ws.exports);var Os={exports:{}};!function(e,t){var r=ja.exports.default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){return(0,n.default)(Date.now())};var n=r(Qo.exports);e.exports=t.default}(Os,Os.exports);var _s={exports:{}};!function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var e=new Date,t=e.getFullYear(),r=e.getMonth(),n=e.getDate(),a=new Date(0);return a.setFullYear(t,r,n+1),a.setHours(23,59,59,999),a},e.exports=t.default}(_s,_s.exports);var ks={exports:{}};!function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var e=new Date,t=e.getFullYear(),r=e.getMonth(),n=e.getDate(),a=new Date(0);return a.setFullYear(t,r,n-1),a.setHours(23,59,59,999),a},e.exports=t.default}(ks,ks.exports);var Ms={exports:{}},Ps={exports:{}};!function(e,t){var r=ja.exports.default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){(0,a.default)(2,arguments);var r=(0,o.default)(t);return(0,n.default)(e,-r)};var n=r(za.exports),a=r(Ya.exports),o=r(Aa.exports);e.exports=t.default}(Ps,Ps.exports);var Es={exports:{}},Ts={exports:{}};!function(e,t){var r=ja.exports.default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){(0,a.default)(1,arguments);var t=(0,n.default)(e),r=t.getTime();t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0);var s=t.getTime(),i=r-s;return Math.floor(i/o)+1};var n=r(Ua.exports),a=r(Ya.exports),o=864e5;e.exports=t.default}(Ts,Ts.exports);var Ss={exports:{}},Cs={exports:{}};!function(e,t){var r=ja.exports.default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){(0,a.default)(1,arguments);var t=(0,n.default)(e),r=t.getUTCDay(),o=(r<1?7:0)+r-1;return t.setUTCDate(t.getUTCDate()-o),t.setUTCHours(0,0,0,0),t};var n=r(Ua.exports),a=r(Ya.exports);e.exports=t.default}(Cs,Cs.exports);var Ns={exports:{}},js={exports:{}};!function(e,t){var r=ja.exports.default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){(0,a.default)(1,arguments);var t=(0,n.default)(e),r=t.getUTCFullYear(),s=new Date(0);s.setUTCFullYear(r+1,0,4),s.setUTCHours(0,0,0,0);var i=(0,o.default)(s),u=new Date(0);u.setUTCFullYear(r,0,4),u.setUTCHours(0,0,0,0);var l=(0,o.default)(u);return t.getTime()>=i.getTime()?r+1:t.getTime()>=l.getTime()?r:r-1};var n=r(Ua.exports),a=r(Ya.exports),o=r(Cs.exports);e.exports=t.default}(js,js.exports),function(e,t){var r=ja.exports.default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){(0,o.default)(1,arguments);var t=(0,n.default)(e),r=new Date(0);return r.setUTCFullYear(t,0,4),r.setUTCHours(0,0,0,0),(0,a.default)(r)};var n=r(js.exports),a=r(Cs.exports),o=r(Ya.exports);e.exports=t.default}(Ns,Ns.exports),function(e,t){var r=ja.exports.default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){(0,s.default)(1,arguments);var t=(0,n.default)(e),r=(0,a.default)(t).getTime()-(0,o.default)(t).getTime();return Math.round(r/i)+1};var n=r(Ua.exports),a=r(Cs.exports),o=r(Ns.exports),s=r(Ya.exports),i=6048e5;e.exports=t.default}(Ss,Ss.exports);var Ds={exports:{}},Is={exports:{}};!function(e,t){var r=ja.exports.default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var r,i,u,l,c,d,f,p;(0,a.default)(1,arguments);var v=(0,s.getDefaultOptions)(),h=(0,o.default)(null!==(r=null!==(i=null!==(u=null!==(l=null==t?void 0:t.weekStartsOn)&&void 0!==l?l:null==t||null===(c=t.locale)||void 0===c||null===(d=c.options)||void 0===d?void 0:d.weekStartsOn)&&void 0!==u?u:v.weekStartsOn)&&void 0!==i?i:null===(f=v.locale)||void 0===f||null===(p=f.options)||void 0===p?void 0:p.weekStartsOn)&&void 0!==r?r:0);if(!(h>=0&&h<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var m=(0,n.default)(e),x=m.getUTCDay(),g=(x<h?7:0)+x-h;return m.setUTCDate(m.getUTCDate()-g),m.setUTCHours(0,0,0,0),m};var n=r(Ua.exports),a=r(Ya.exports),o=r(Aa.exports),s=Ga;e.exports=t.default}(Is,Is.exports);var Rs={exports:{}},As={exports:{}};!function(e,t){var r=ja.exports.default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var r,u,l,c,d,f,p,v;(0,a.default)(1,arguments);var h=(0,n.default)(e),m=h.getUTCFullYear(),x=(0,i.getDefaultOptions)(),g=(0,s.default)(null!==(r=null!==(u=null!==(l=null!==(c=null==t?void 0:t.firstWeekContainsDate)&&void 0!==c?c:null==t||null===(d=t.locale)||void 0===d||null===(f=d.options)||void 0===f?void 0:f.firstWeekContainsDate)&&void 0!==l?l:x.firstWeekContainsDate)&&void 0!==u?u:null===(p=x.locale)||void 0===p||null===(v=p.options)||void 0===v?void 0:v.firstWeekContainsDate)&&void 0!==r?r:1);if(!(g>=1&&g<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var y=new Date(0);y.setUTCFullYear(m+1,0,g),y.setUTCHours(0,0,0,0);var b=(0,o.default)(y,t),w=new Date(0);w.setUTCFullYear(m,0,g),w.setUTCHours(0,0,0,0);var O=(0,o.default)(w,t);return h.getTime()>=b.getTime()?m+1:h.getTime()>=O.getTime()?m:m-1};var n=r(Ua.exports),a=r(Ya.exports),o=r(Is.exports),s=r(Aa.exports),i=Ga;e.exports=t.default}(As,As.exports),function(e,t){var r=ja.exports.default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var r,u,l,c,d,f,p,v;(0,a.default)(1,arguments);var h=(0,i.getDefaultOptions)(),m=(0,s.default)(null!==(r=null!==(u=null!==(l=null!==(c=null==t?void 0:t.firstWeekContainsDate)&&void 0!==c?c:null==t||null===(d=t.locale)||void 0===d||null===(f=d.options)||void 0===f?void 0:f.firstWeekContainsDate)&&void 0!==l?l:h.firstWeekContainsDate)&&void 0!==u?u:null===(p=h.locale)||void 0===p||null===(v=p.options)||void 0===v?void 0:v.firstWeekContainsDate)&&void 0!==r?r:1),x=(0,n.default)(e,t),g=new Date(0);return g.setUTCFullYear(x,0,m),g.setUTCHours(0,0,0,0),(0,o.default)(g,t)};var n=r(As.exports),a=r(Ya.exports),o=r(Is.exports),s=r(Aa.exports),i=Ga;e.exports=t.default}(Rs,Rs.exports),function(e,t){var r=ja.exports.default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){(0,s.default)(1,arguments);var r=(0,n.default)(e),u=(0,a.default)(r,t).getTime()-(0,o.default)(r,t).getTime();return Math.round(u/i)+1};var n=r(Ua.exports),a=r(Is.exports),o=r(Rs.exports),s=r(Ya.exports),i=6048e5;e.exports=t.default}(Ds,Ds.exports);var Us={exports:{}};!function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var r=e<0?"-":"",n=Math.abs(e).toString();for(;n.length<t;)n="0"+n;return r+n},e.exports=t.default}(Us,Us.exports);var Ys={exports:{}};!function(e,t){var r=ja.exports.default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=r(Us.exports),a={y:function(e,t){var r=e.getUTCFullYear(),a=r>0?r:1-r;return(0,n.default)("yy"===t?a%100:a,t.length)},M:function(e,t){var r=e.getUTCMonth();return"M"===t?String(r+1):(0,n.default)(r+1,2)},d:function(e,t){return(0,n.default)(e.getUTCDate(),t.length)},a:function(e,t){var r=e.getUTCHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];default:return"am"===r?"a.m.":"p.m."}},h:function(e,t){return(0,n.default)(e.getUTCHours()%12||12,t.length)},H:function(e,t){return(0,n.default)(e.getUTCHours(),t.length)},m:function(e,t){return(0,n.default)(e.getUTCMinutes(),t.length)},s:function(e,t){return(0,n.default)(e.getUTCSeconds(),t.length)},S:function(e,t){var r=t.length,a=e.getUTCMilliseconds(),o=Math.floor(a*Math.pow(10,r-3));return(0,n.default)(o,t.length)}},o=a;t.default=o,e.exports=t.default}(Ys,Ys.exports),function(e,t){var r=ja.exports.default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=r(Ts.exports),a=r(Ss.exports),o=r(js.exports),s=r(Ds.exports),i=r(As.exports),u=r(Us.exports),l=r(Ys.exports),c="midnight",d="noon",f="morning",p="afternoon",v="evening",h="night",m={G:function(e,t,r){var n=e.getUTCFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return r.era(n,{width:"abbreviated"});case"GGGGG":return r.era(n,{width:"narrow"});default:return r.era(n,{width:"wide"})}},y:function(e,t,r){if("yo"===t){var n=e.getUTCFullYear(),a=n>0?n:1-n;return r.ordinalNumber(a,{unit:"year"})}return l.default.y(e,t)},Y:function(e,t,r,n){var a=(0,i.default)(e,n),o=a>0?a:1-a;if("YY"===t){var s=o%100;return(0,u.default)(s,2)}return"Yo"===t?r.ordinalNumber(o,{unit:"year"}):(0,u.default)(o,t.length)},R:function(e,t){var r=(0,o.default)(e);return(0,u.default)(r,t.length)},u:function(e,t){var r=e.getUTCFullYear();return(0,u.default)(r,t.length)},Q:function(e,t,r){var n=Math.ceil((e.getUTCMonth()+1)/3);switch(t){case"Q":return String(n);case"QQ":return(0,u.default)(n,2);case"Qo":return r.ordinalNumber(n,{unit:"quarter"});case"QQQ":return r.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(n,{width:"narrow",context:"formatting"});default:return r.quarter(n,{width:"wide",context:"formatting"})}},q:function(e,t,r){var n=Math.ceil((e.getUTCMonth()+1)/3);switch(t){case"q":return String(n);case"qq":return(0,u.default)(n,2);case"qo":return r.ordinalNumber(n,{unit:"quarter"});case"qqq":return r.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(n,{width:"narrow",context:"standalone"});default:return r.quarter(n,{width:"wide",context:"standalone"})}},M:function(e,t,r){var n=e.getUTCMonth();switch(t){case"M":case"MM":return l.default.M(e,t);case"Mo":return r.ordinalNumber(n+1,{unit:"month"});case"MMM":return r.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(n,{width:"narrow",context:"formatting"});default:return r.month(n,{width:"wide",context:"formatting"})}},L:function(e,t,r){var n=e.getUTCMonth();switch(t){case"L":return String(n+1);case"LL":return(0,u.default)(n+1,2);case"Lo":return r.ordinalNumber(n+1,{unit:"month"});case"LLL":return r.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(n,{width:"narrow",context:"standalone"});default:return r.month(n,{width:"wide",context:"standalone"})}},w:function(e,t,r,n){var a=(0,s.default)(e,n);return"wo"===t?r.ordinalNumber(a,{unit:"week"}):(0,u.default)(a,t.length)},I:function(e,t,r){var n=(0,a.default)(e);return"Io"===t?r.ordinalNumber(n,{unit:"week"}):(0,u.default)(n,t.length)},d:function(e,t,r){return"do"===t?r.ordinalNumber(e.getUTCDate(),{unit:"date"}):l.default.d(e,t)},D:function(e,t,r){var a=(0,n.default)(e);return"Do"===t?r.ordinalNumber(a,{unit:"dayOfYear"}):(0,u.default)(a,t.length)},E:function(e,t,r){var n=e.getUTCDay();switch(t){case"E":case"EE":case"EEE":return r.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(n,{width:"short",context:"formatting"});default:return r.day(n,{width:"wide",context:"formatting"})}},e:function(e,t,r,n){var a=e.getUTCDay(),o=(a-n.weekStartsOn+8)%7||7;switch(t){case"e":return String(o);case"ee":return(0,u.default)(o,2);case"eo":return r.ordinalNumber(o,{unit:"day"});case"eee":return r.day(a,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(a,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(a,{width:"short",context:"formatting"});default:return r.day(a,{width:"wide",context:"formatting"})}},c:function(e,t,r,n){var a=e.getUTCDay(),o=(a-n.weekStartsOn+8)%7||7;switch(t){case"c":return String(o);case"cc":return(0,u.default)(o,t.length);case"co":return r.ordinalNumber(o,{unit:"day"});case"ccc":return r.day(a,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(a,{width:"narrow",context:"standalone"});case"cccccc":return r.day(a,{width:"short",context:"standalone"});default:return r.day(a,{width:"wide",context:"standalone"})}},i:function(e,t,r){var n=e.getUTCDay(),a=0===n?7:n;switch(t){case"i":return String(a);case"ii":return(0,u.default)(a,t.length);case"io":return r.ordinalNumber(a,{unit:"day"});case"iii":return r.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(n,{width:"short",context:"formatting"});default:return r.day(n,{width:"wide",context:"formatting"})}},a:function(e,t,r){var n=e.getUTCHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.dayPeriod(n,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(n,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(n,{width:"narrow",context:"formatting"});default:return r.dayPeriod(n,{width:"wide",context:"formatting"})}},b:function(e,t,r){var n,a=e.getUTCHours();switch(n=12===a?d:0===a?c:a/12>=1?"pm":"am",t){case"b":case"bb":return r.dayPeriod(n,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(n,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(n,{width:"narrow",context:"formatting"});default:return r.dayPeriod(n,{width:"wide",context:"formatting"})}},B:function(e,t,r){var n,a=e.getUTCHours();switch(n=a>=17?v:a>=12?p:a>=4?f:h,t){case"B":case"BB":case"BBB":return r.dayPeriod(n,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(n,{width:"narrow",context:"formatting"});default:return r.dayPeriod(n,{width:"wide",context:"formatting"})}},h:function(e,t,r){if("ho"===t){var n=e.getUTCHours()%12;return 0===n&&(n=12),r.ordinalNumber(n,{unit:"hour"})}return l.default.h(e,t)},H:function(e,t,r){return"Ho"===t?r.ordinalNumber(e.getUTCHours(),{unit:"hour"}):l.default.H(e,t)},K:function(e,t,r){var n=e.getUTCHours()%12;return"Ko"===t?r.ordinalNumber(n,{unit:"hour"}):(0,u.default)(n,t.length)},k:function(e,t,r){var n=e.getUTCHours();return 0===n&&(n=24),"ko"===t?r.ordinalNumber(n,{unit:"hour"}):(0,u.default)(n,t.length)},m:function(e,t,r){return"mo"===t?r.ordinalNumber(e.getUTCMinutes(),{unit:"minute"}):l.default.m(e,t)},s:function(e,t,r){return"so"===t?r.ordinalNumber(e.getUTCSeconds(),{unit:"second"}):l.default.s(e,t)},S:function(e,t){return l.default.S(e,t)},X:function(e,t,r,n){var a=(n._originalDate||e).getTimezoneOffset();if(0===a)return"Z";switch(t){case"X":return g(a);case"XXXX":case"XX":return y(a);default:return y(a,":")}},x:function(e,t,r,n){var a=(n._originalDate||e).getTimezoneOffset();switch(t){case"x":return g(a);case"xxxx":case"xx":return y(a);default:return y(a,":")}},O:function(e,t,r,n){var a=(n._originalDate||e).getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+x(a,":");default:return"GMT"+y(a,":")}},z:function(e,t,r,n){var a=(n._originalDate||e).getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+x(a,":");default:return"GMT"+y(a,":")}},t:function(e,t,r,n){var a=n._originalDate||e,o=Math.floor(a.getTime()/1e3);return(0,u.default)(o,t.length)},T:function(e,t,r,n){var a=(n._originalDate||e).getTime();return(0,u.default)(a,t.length)}};function x(e,t){var r=e>0?"-":"+",n=Math.abs(e),a=Math.floor(n/60),o=n%60;if(0===o)return r+String(a);var s=t||"";return r+String(a)+s+(0,u.default)(o,2)}function g(e,t){return e%60==0?(e>0?"-":"+")+(0,u.default)(Math.abs(e)/60,2):y(e,t)}function y(e,t){var r=t||"",n=e>0?"-":"+",a=Math.abs(e);return n+(0,u.default)(Math.floor(a/60),2)+r+(0,u.default)(a%60,2)}var b=m;t.default=b,e.exports=t.default}(Es,Es.exports);var Ls={exports:{}};!function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=function(e,t){switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});default:return t.date({width:"full"})}},n=function(e,t){switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});default:return t.time({width:"full"})}},a={p:n,P:function(e,t){var a,o=e.match(/(P+)(p+)?/)||[],s=o[1],i=o[2];if(!i)return r(e,t);switch(s){case"P":a=t.dateTime({width:"short"});break;case"PP":a=t.dateTime({width:"medium"});break;case"PPP":a=t.dateTime({width:"long"});break;default:a=t.dateTime({width:"full"})}return a.replace("{{date}}",r(s,t)).replace("{{time}}",n(i,t))}},o=a;t.default=o,e.exports=t.default}(Ls,Ls.exports);var Ws={};Object.defineProperty(Ws,"__esModule",{value:!0}),Ws.isProtectedDayOfYearToken=function(e){return-1!==Fs.indexOf(e)},Ws.isProtectedWeekYearToken=function(e){return-1!==Hs.indexOf(e)},Ws.throwProtectedError=function(e,t,r){if("YYYY"===e)throw new RangeError("Use `yyyy` instead of `YYYY` (in `".concat(t,"`) for formatting years to the input `").concat(r,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if("YY"===e)throw new RangeError("Use `yy` instead of `YY` (in `".concat(t,"`) for formatting years to the input `").concat(r,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if("D"===e)throw new RangeError("Use `d` instead of `D` (in `".concat(t,"`) for formatting days of the month to the input `").concat(r,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if("DD"===e)throw new RangeError("Use `dd` instead of `DD` (in `".concat(t,"`) for formatting days of the month to the input `").concat(r,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"))};var Fs=["D","DD"],Hs=["YY","YYYY"];var Bs={exports:{}},qs={exports:{}},zs={exports:{}};!function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},n=function(e,t,n){var a,o=r[e];return a="string"==typeof o?o:1===t?o.one:o.other.replace("{{count}}",t.toString()),null!=n&&n.addSuffix?n.comparison&&n.comparison>0?"in "+a:a+" ago":a};t.default=n,e.exports=t.default}(zs,zs.exports);var Vs={exports:{}},Qs={exports:{}};!function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=t.width?String(t.width):e.defaultWidth;return e.formats[r]||e.formats[e.defaultWidth]}},e.exports=t.default}(Qs,Qs.exports),function(e,t){var r=ja.exports.default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=r(Qs.exports),a={date:(0,n.default)({formats:{full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},defaultWidth:"full"}),time:(0,n.default)({formats:{full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},defaultWidth:"full"}),dateTime:(0,n.default)({formats:{full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},defaultWidth:"full"})};t.default=a,e.exports=t.default}(Vs,Vs.exports);var Js={exports:{}};!function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},n=function(e,t,n,a){return r[e]};t.default=n,e.exports=t.default}(Js,Js.exports);var Xs={exports:{}},Gs={exports:{}};!function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return function(t,r){var n;if("formatting"===(null!=r&&r.context?String(r.context):"standalone")&&e.formattingValues){var a=e.defaultFormattingWidth||e.defaultWidth,o=null!=r&&r.width?String(r.width):a;n=e.formattingValues[o]||e.formattingValues[a]}else{var s=e.defaultWidth,i=null!=r&&r.width?String(r.width):e.defaultWidth;n=e.values[i]||e.values[s]}return n[e.argumentCallback?e.argumentCallback(t):t]}},e.exports=t.default}(Gs,Gs.exports),function(e,t){var r=ja.exports.default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=r(Gs.exports),a={ordinalNumber:function(e,t){var r=Number(e),n=r%100;if(n>20||n<10)switch(n%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},era:(0,n.default)({values:{narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},defaultWidth:"wide"}),quarter:(0,n.default)({values:{narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},defaultWidth:"wide",argumentCallback:function(e){return e-1}}),month:(0,n.default)({values:{narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},defaultWidth:"wide"}),day:(0,n.default)({values:{narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},defaultWidth:"wide"}),dayPeriod:(0,n.default)({values:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},defaultWidth:"wide",formattingValues:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},defaultFormattingWidth:"wide"})};t.default=a,e.exports=t.default}(Xs,Xs.exports);var Ks={exports:{}},$s={exports:{}};!function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return function(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=r.width,a=n&&e.matchPatterns[n]||e.matchPatterns[e.defaultMatchWidth],o=t.match(a);if(!o)return null;var s,i=o[0],u=n&&e.parsePatterns[n]||e.parsePatterns[e.defaultParseWidth],l=Array.isArray(u)?function(e,t){for(var r=0;r<e.length;r++)if(t(e[r]))return r;return}(u,(function(e){return e.test(i)})):function(e,t){for(var r in e)if(e.hasOwnProperty(r)&&t(e[r]))return r;return}(u,(function(e){return e.test(i)}));return s=e.valueCallback?e.valueCallback(l):l,{value:s=r.valueCallback?r.valueCallback(s):s,rest:t.slice(i.length)}}},e.exports=t.default}($s,$s.exports);var Zs={exports:{}};!function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return function(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.match(e.matchPattern);if(!n)return null;var a=n[0],o=t.match(e.parsePattern);if(!o)return null;var s=e.valueCallback?e.valueCallback(o[0]):o[0];return{value:s=r.valueCallback?r.valueCallback(s):s,rest:t.slice(a.length)}}},e.exports=t.default}(Zs,Zs.exports),function(e,t){var r=ja.exports.default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=r($s.exports),a={ordinalNumber:(0,r(Zs.exports).default)({matchPattern:/^(\d+)(th|st|nd|rd)?/i,parsePattern:/\d+/i,valueCallback:function(e){return parseInt(e,10)}}),era:(0,n.default)({matchPatterns:{narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},defaultMatchWidth:"wide",parsePatterns:{any:[/^b/i,/^(a|c)/i]},defaultParseWidth:"any"}),quarter:(0,n.default)({matchPatterns:{narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},defaultMatchWidth:"wide",parsePatterns:{any:[/1/i,/2/i,/3/i,/4/i]},defaultParseWidth:"any",valueCallback:function(e){return e+1}}),month:(0,n.default)({matchPatterns:{narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},defaultParseWidth:"any"}),day:(0,n.default)({matchPatterns:{narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},defaultParseWidth:"any"}),dayPeriod:(0,n.default)({matchPatterns:{narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},defaultMatchWidth:"any",parsePatterns:{any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},defaultParseWidth:"any"})},o=a;t.default=o,e.exports=t.default}(Ks,Ks.exports),function(e,t){var r=ja.exports.default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=r(zs.exports),a=r(Vs.exports),o=r(Js.exports),s=r(Xs.exports),i=r(Ks.exports),u={code:"en-US",formatDistance:n.default,formatLong:a.default,formatRelative:o.default,localize:s.default,match:i.default,options:{weekStartsOn:0,firstWeekContainsDate:1}};t.default=u,e.exports=t.default}(qs,qs.exports),function(e,t){var r=ja.exports.default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=r(qs.exports).default;t.default=n,e.exports=t.default}(Bs,Bs.exports),function(e,t){var r=ja.exports.default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,r){var y,b,w,O,_,k,M,P,E,T,S,C,N,j,D,I,R,A;(0,d.default)(2,arguments);var U=String(t),Y=(0,f.getDefaultOptions)(),L=null!==(y=null!==(b=null==r?void 0:r.locale)&&void 0!==b?b:Y.locale)&&void 0!==y?y:p.default,W=(0,c.default)(null!==(w=null!==(O=null!==(_=null!==(k=null==r?void 0:r.firstWeekContainsDate)&&void 0!==k?k:null==r||null===(M=r.locale)||void 0===M||null===(P=M.options)||void 0===P?void 0:P.firstWeekContainsDate)&&void 0!==_?_:Y.firstWeekContainsDate)&&void 0!==O?O:null===(E=Y.locale)||void 0===E||null===(T=E.options)||void 0===T?void 0:T.firstWeekContainsDate)&&void 0!==w?w:1);if(!(W>=1&&W<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var F=(0,c.default)(null!==(S=null!==(C=null!==(N=null!==(j=null==r?void 0:r.weekStartsOn)&&void 0!==j?j:null==r||null===(D=r.locale)||void 0===D||null===(I=D.options)||void 0===I?void 0:I.weekStartsOn)&&void 0!==N?N:Y.weekStartsOn)&&void 0!==C?C:null===(R=Y.locale)||void 0===R||null===(A=R.options)||void 0===A?void 0:A.weekStartsOn)&&void 0!==S?S:0);if(!(F>=0&&F<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(!L.localize)throw new RangeError("locale must contain localize property");if(!L.formatLong)throw new RangeError("locale must contain formatLong property");var H=(0,o.default)(e);if(!(0,n.default)(H))throw new RangeError("Invalid time value");var B=(0,u.default)(H),q=(0,a.default)(H,B),z={firstWeekContainsDate:W,weekStartsOn:F,locale:L,_originalDate:H};return U.match(h).map((function(e){var t=e[0];return"p"===t||"P"===t?(0,i.default[t])(e,L.formatLong):e})).join("").match(v).map((function(n){if("''"===n)return"'";var a=n[0];if("'"===a)return function(e){var t=e.match(m);if(!t)return e;return t[1].replace(x,"'")}(n);var o=s.default[a];if(o)return null!=r&&r.useAdditionalWeekYearTokens||!(0,l.isProtectedWeekYearToken)(n)||(0,l.throwProtectedError)(n,t,String(e)),null!=r&&r.useAdditionalDayOfYearTokens||!(0,l.isProtectedDayOfYearToken)(n)||(0,l.throwProtectedError)(n,t,String(e)),o(q,n,L.localize,z);if(a.match(g))throw new RangeError("Format string contains an unescaped latin alphabet character `"+a+"`");return n})).join("")};var n=r(Eo.exports),a=r(Ps.exports),o=r(Ua.exports),s=r(Es.exports),i=r(Ls.exports),u=r(to.exports),l=Ws,c=r(Aa.exports),d=r(Ya.exports),f=Ga,p=r(Bs.exports),v=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,h=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,m=/^'([^]*?)'?$/,x=/''/g,g=/[a-zA-Z]/;e.exports=t.default}(Ms,Ms.exports);var ei={exports:{}},ti={exports:{}},ri={exports:{}};!function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if(null==e)throw new TypeError("assign requires that input parameter not be null or undefined");for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},e.exports=t.default}(ri,ri.exports),function(e,t){var r=ja.exports.default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,n.default)({},e)};var n=r(ri.exports);e.exports=t.default}(ti,ti.exports),function(e,t){var r=ja.exports.default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,r){var x,g;(0,f.default)(2,arguments);var y=(0,n.getDefaultOptions)(),b=null!==(x=null!==(g=null==r?void 0:r.locale)&&void 0!==g?g:y.locale)&&void 0!==x?x:i.default;if(!b.formatDistance)throw new RangeError("locale must contain formatDistance property");var w=(0,a.default)(e,t);if(isNaN(w))throw new RangeError("Invalid time value");var O,_,k=(0,c.default)((0,l.default)(r),{addSuffix:Boolean(null==r?void 0:r.addSuffix),comparison:w});w>0?(O=(0,u.default)(t),_=(0,u.default)(e)):(O=(0,u.default)(e),_=(0,u.default)(t));var M,P=(0,s.default)(_,O),E=((0,d.default)(_)-(0,d.default)(O))/1e3,T=Math.round((P-E)/60);if(T<2)return null!=r&&r.includeSeconds?P<5?b.formatDistance("lessThanXSeconds",5,k):P<10?b.formatDistance("lessThanXSeconds",10,k):P<20?b.formatDistance("lessThanXSeconds",20,k):P<40?b.formatDistance("halfAMinute",0,k):P<60?b.formatDistance("lessThanXMinutes",1,k):b.formatDistance("xMinutes",1,k):0===T?b.formatDistance("lessThanXMinutes",1,k):b.formatDistance("xMinutes",T,k);if(T<45)return b.formatDistance("xMinutes",T,k);if(T<90)return b.formatDistance("aboutXHours",1,k);if(T<p){var S=Math.round(T/60);return b.formatDistance("aboutXHours",S,k)}if(T<v)return b.formatDistance("xDays",1,k);if(T<h){var C=Math.round(T/p);return b.formatDistance("xDays",C,k)}if(T<m)return M=Math.round(T/h),b.formatDistance("aboutXMonths",M,k);if((M=(0,o.default)(_,O))<12){var N=Math.round(T/h);return b.formatDistance("xMonths",N,k)}var j=M%12,D=Math.floor(M/12);return j<3?b.formatDistance("aboutXYears",D,k):j<9?b.formatDistance("overXYears",D,k):b.formatDistance("almostXYears",D+1,k)};var n=Ga,a=r(ho.exports),o=r(zo.exports),s=r(Go.exports),i=r(Bs.exports),u=r(Ua.exports),l=r(ti.exports),c=r(ri.exports),d=r(to.exports),f=r(Ya.exports),p=1440,v=2520,h=43200,m=86400;e.exports=t.default}(ei,ei.exports);var ni={exports:{}};!function(e,t){var r=ja.exports.default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,r){var h,m,x;(0,c.default)(2,arguments);var g=(0,n.getDefaultOptions)(),y=null!==(h=null!==(m=null==r?void 0:r.locale)&&void 0!==m?m:g.locale)&&void 0!==h?h:l.default;if(!y.formatDistance)throw new RangeError("locale must contain localize.formatDistance property");var b=(0,o.default)(e,t);if(isNaN(b))throw new RangeError("Invalid time value");var w,O,_=(0,u.default)((0,i.default)(r),{addSuffix:Boolean(null==r?void 0:r.addSuffix),comparison:b});b>0?(w=(0,s.default)(t),O=(0,s.default)(e)):(w=(0,s.default)(e),O=(0,s.default)(t));var k,M=String(null!==(x=null==r?void 0:r.roundingMethod)&&void 0!==x?x:"round");if("floor"===M)k=Math.floor;else if("ceil"===M)k=Math.ceil;else{if("round"!==M)throw new RangeError("roundingMethod must be 'floor', 'ceil' or 'round'");k=Math.round}var P,E=O.getTime()-w.getTime(),T=E/d,S=(0,a.default)(O)-(0,a.default)(w),C=(E-S)/d,N=null==r?void 0:r.unit;P=N?String(N):T<1?"second":T<60?"minute":T<f?"hour":C<p?"day":C<v?"month":"year";if("second"===P){var j=k(E/1e3);return y.formatDistance("xSeconds",j,_)}if("minute"===P){var D=k(T);return y.formatDistance("xMinutes",D,_)}if("hour"===P){var I=k(T/60);return y.formatDistance("xHours",I,_)}if("day"===P){var R=k(C/f);return y.formatDistance("xDays",R,_)}if("month"===P){var A=k(C/p);return 12===A&&"month"!==N?y.formatDistance("xYears",1,_):y.formatDistance("xMonths",A,_)}if("year"===P){var U=k(C/v);return y.formatDistance("xYears",U,_)}throw new RangeError("unit must be 'second', 'minute', 'hour', 'day', 'month' or 'year'")};var n=Ga,a=r(to.exports),o=r(ho.exports),s=r(Ua.exports),i=r(ti.exports),u=r(ri.exports),l=r(Bs.exports),c=r(Ya.exports),d=6e4,f=1440,p=30*f,v=365*f;e.exports=t.default}(ni,ni.exports);var ai={exports:{}};!function(e,t){var r=ja.exports.default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){return(0,a.default)(1,arguments),(0,n.default)(e,Date.now(),t)};var n=r(ei.exports),a=r(Ya.exports);e.exports=t.default}(ai,ai.exports);var oi={exports:{}};!function(e,t){var r=ja.exports.default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){return(0,a.default)(1,arguments),(0,n.default)(e,Date.now(),t)};var n=r(ni.exports),a=r(Ya.exports);e.exports=t.default}(oi,oi.exports);var si={exports:{}};!function(e,t){var r=ja.exports.default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var r,s,i,u,l;if(arguments.length<1)throw new TypeError("1 argument required, but only ".concat(arguments.length," present"));var c=(0,n.getDefaultOptions)(),d=null!==(r=null!==(s=null==t?void 0:t.locale)&&void 0!==s?s:c.locale)&&void 0!==r?r:a.default,f=null!==(i=null==t?void 0:t.format)&&void 0!==i?i:o,p=null!==(u=null==t?void 0:t.zero)&&void 0!==u&&u,v=null!==(l=null==t?void 0:t.delimiter)&&void 0!==l?l:" ";if(!d.formatDistance)return"";var h=f.reduce((function(t,r){var n="x".concat(r.replace(/(^.)/,(function(e){return e.toUpperCase()}))),a=e[r];return"number"==typeof a&&(p||e[r])?t.concat(d.formatDistance(n,a)):t}),[]).join(v);return h};var n=Ga,a=r(Bs.exports),o=["years","months","weeks","days","hours","minutes","seconds"];e.exports=t.default}(si,si.exports);var ii={exports:{}};!function(e,t){var r=ja.exports.default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var r,s;(0,o.default)(1,arguments);var i=(0,n.default)(e);if(isNaN(i.getTime()))throw new RangeError("Invalid time value");var u=String(null!==(r=null==t?void 0:t.format)&&void 0!==r?r:"extended"),l=String(null!==(s=null==t?void 0:t.representation)&&void 0!==s?s:"complete");if("extended"!==u&&"basic"!==u)throw new RangeError("format must be 'extended' or 'basic'");if("date"!==l&&"time"!==l&&"complete"!==l)throw new RangeError("representation must be 'date', 'time', or 'complete'");var c="",d="",f="extended"===u?"-":"",p="extended"===u?":":"";if("time"!==l){var v=(0,a.default)(i.getDate(),2),h=(0,a.default)(i.getMonth()+1,2),m=(0,a.default)(i.getFullYear(),4);c="".concat(m).concat(f).concat(h).concat(f).concat(v)}if("date"!==l){var x=i.getTimezoneOffset();if(0!==x){var g=Math.abs(x),y=(0,a.default)(Math.floor(g/60),2),b=(0,a.default)(g%60,2);d="".concat(x<0?"+":"-").concat(y,":").concat(b)}else d="Z";var w=""===c?"":"T",O=[(0,a.default)(i.getHours(),2),(0,a.default)(i.getMinutes(),2),(0,a.default)(i.getSeconds(),2)].join(p);c="".concat(c).concat(w).concat(O).concat(d)}return c};var n=r(Ua.exports),a=r(Us.exports),o=r(Ya.exports);e.exports=t.default}(ii,ii.exports);var ui={exports:{}};!function(e,t){var r=ja.exports.default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var r,s;if(arguments.length<1)throw new TypeError("1 argument required, but only ".concat(arguments.length," present"));var i=(0,n.default)(e);if(!(0,a.default)(i))throw new RangeError("Invalid time value");var u=String(null!==(r=null==t?void 0:t.format)&&void 0!==r?r:"extended"),l=String(null!==(s=null==t?void 0:t.representation)&&void 0!==s?s:"complete");if("extended"!==u&&"basic"!==u)throw new RangeError("format must be 'extended' or 'basic'");if("date"!==l&&"time"!==l&&"complete"!==l)throw new RangeError("representation must be 'date', 'time', or 'complete'");var c="",d="extended"===u?"-":"",f="extended"===u?":":"";if("time"!==l){var p=(0,o.default)(i.getDate(),2),v=(0,o.default)(i.getMonth()+1,2),h=(0,o.default)(i.getFullYear(),4);c="".concat(h).concat(d).concat(v).concat(d).concat(p)}if("date"!==l){var m=(0,o.default)(i.getHours(),2),x=(0,o.default)(i.getMinutes(),2),g=(0,o.default)(i.getSeconds(),2),y=""===c?"":" ";c="".concat(c).concat(y).concat(m).concat(f).concat(x).concat(f).concat(g)}return c};var n=r(Ua.exports),a=r(Eo.exports),o=r(Us.exports);e.exports=t.default}(ui,ui.exports);var li={exports:{}};!function(e,t){var r=ja.exports.default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){if((0,a.default)(1,arguments),"object"!==(0,n.default)(e))throw new Error("Duration must be an object");var t=e.years,r=void 0===t?0:t,o=e.months,s=void 0===o?0:o,i=e.days,u=void 0===i?0:i,l=e.hours,c=void 0===l?0:l,d=e.minutes,f=void 0===d?0:d,p=e.seconds,v=void 0===p?0:p;return"P".concat(r,"Y").concat(s,"M").concat(u,"DT").concat(c,"H").concat(f,"M").concat(v,"S")};var n=r(Ia.exports),a=r(Ya.exports);e.exports=t.default}(li,li.exports);var ci={exports:{}};!function(e,t){var r=ja.exports.default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var r;if(arguments.length<1)throw new TypeError("1 arguments required, but only ".concat(arguments.length," present"));var i=(0,n.default)(e);if(!(0,a.default)(i))throw new RangeError("Invalid time value");var u=Number(null!==(r=null==t?void 0:t.fractionDigits)&&void 0!==r?r:0);if(!(u>=0&&u<=3))throw new RangeError("fractionDigits must be between 0 and 3 inclusively");var l=(0,o.default)(i.getDate(),2),c=(0,o.default)(i.getMonth()+1,2),d=i.getFullYear(),f=(0,o.default)(i.getHours(),2),p=(0,o.default)(i.getMinutes(),2),v=(0,o.default)(i.getSeconds(),2),h="";if(u>0){var m=i.getMilliseconds(),x=Math.floor(m*Math.pow(10,u-3));h="."+(0,o.default)(x,u)}var g="",y=i.getTimezoneOffset();if(0!==y){var b=Math.abs(y),w=(0,o.default)((0,s.default)(b/60),2),O=(0,o.default)(b%60,2);g="".concat(y<0?"+":"-").concat(w,":").concat(O)}else g="Z";return"".concat(d,"-").concat(c,"-").concat(l,"T").concat(f,":").concat(p,":").concat(v).concat(h).concat(g)};var n=r(Ua.exports),a=r(Eo.exports),o=r(Us.exports),s=r(Aa.exports);e.exports=t.default}(ci,ci.exports);var di={exports:{}};!function(e,t){var r=ja.exports.default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){if(arguments.length<1)throw new TypeError("1 arguments required, but only ".concat(arguments.length," present"));var t=(0,n.default)(e);if(!(0,a.default)(t))throw new RangeError("Invalid time value");var r=s[t.getUTCDay()],u=(0,o.default)(t.getUTCDate(),2),l=i[t.getUTCMonth()],c=t.getUTCFullYear(),d=(0,o.default)(t.getUTCHours(),2),f=(0,o.default)(t.getUTCMinutes(),2),p=(0,o.default)(t.getUTCSeconds(),2);return"".concat(r,", ").concat(u," ").concat(l," ").concat(c," ").concat(d,":").concat(f,":").concat(p," GMT")};var n=r(Ua.exports),a=r(Eo.exports),o=r(Us.exports),s=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],i=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];e.exports=t.default}(di,di.exports);var fi={exports:{}};!function(e,t){var r=ja.exports.default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,r){var f,p,v,h,m,x,g,y,b,w;(0,c.default)(2,arguments);var O=(0,u.default)(e),_=(0,u.default)(t),k=(0,n.getDefaultOptions)(),M=null!==(f=null!==(p=null==r?void 0:r.locale)&&void 0!==p?p:k.locale)&&void 0!==f?f:s.default,P=(0,d.default)(null!==(v=null!==(h=null!==(m=null!==(x=null==r?void 0:r.weekStartsOn)&&void 0!==x?x:null==r||null===(g=r.locale)||void 0===g||null===(y=g.options)||void 0===y?void 0:y.weekStartsOn)&&void 0!==m?m:k.weekStartsOn)&&void 0!==h?h:null===(b=k.locale)||void 0===b||null===(w=b.options)||void 0===w?void 0:w.weekStartsOn)&&void 0!==v?v:0);if(!M.localize)throw new RangeError("locale must contain localize property");if(!M.formatLong)throw new RangeError("locale must contain formatLong property");if(!M.formatRelative)throw new RangeError("locale must contain formatRelative property");var E,T=(0,a.default)(O,_);if(isNaN(T))throw new RangeError("Invalid time value");E=T<-6?"other":T<-1?"lastWeek":T<0?"yesterday":T<1?"today":T<2?"tomorrow":T<7?"nextWeek":"other";var S=(0,i.default)(O,(0,l.default)(O)),C=(0,i.default)(_,(0,l.default)(_)),N=M.formatRelative(E,S,C,{locale:M,weekStartsOn:P});return(0,o.default)(O,N,{locale:M,weekStartsOn:P})};var n=Ga,a=r(eo.exports),o=r(Ms.exports),s=r(Bs.exports),i=r(Ps.exports),u=r(Ua.exports),l=r(to.exports),c=r(Ya.exports),d=r(Aa.exports);e.exports=t.default}(fi,fi.exports);var pi={exports:{}};!function(e,t){var r=ja.exports.default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){(0,o.default)(1,arguments);var t=(0,a.default)(e);return(0,n.default)(1e3*t)};var n=r(Ua.exports),a=r(Aa.exports),o=r(Ya.exports);e.exports=t.default}(pi,pi.exports);var vi={exports:{}};!function(e,t){var r=ja.exports.default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,a.default)(1,arguments),(0,n.default)(e).getDate()};var n=r(Ua.exports),a=r(Ya.exports);e.exports=t.default}(vi,vi.exports);var hi={exports:{}};!function(e,t){var r=ja.exports.default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,a.default)(1,arguments),(0,n.default)(e).getDay()};var n=r(Ua.exports),a=r(Ya.exports);e.exports=t.default}(hi,hi.exports);var mi={exports:{}};!function(e,t){var r=ja.exports.default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){(0,s.default)(1,arguments);var t=(0,n.default)(e);return(0,o.default)(t,(0,a.default)(t))+1};var n=r(Ua.exports),a=r(fs.exports),o=r(eo.exports),s=r(Ya.exports);e.exports=t.default}(mi,mi.exports);var xi={exports:{}};!function(e,t){var r=ja.exports.default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){(0,a.default)(1,arguments);var t=(0,n.default)(e),r=t.getFullYear(),o=t.getMonth(),s=new Date(0);return s.setFullYear(r,o+1,0),s.setHours(0,0,0,0),s.getDate()};var n=r(Ua.exports),a=r(Ya.exports);e.exports=t.default}(xi,xi.exports);var gi={exports:{}},yi={exports:{}};!function(e,t){var r=ja.exports.default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){(0,a.default)(1,arguments);var t=(0,n.default)(e).getFullYear();return t%400==0||t%4==0&&t%100!=0};var n=r(Ua.exports),a=r(Ya.exports);e.exports=t.default}(yi,yi.exports),function(e,t){var r=ja.exports.default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){(0,o.default)(1,arguments);var t=(0,n.default)(e);if("Invalid Date"===String(new Date(t)))return NaN;return(0,a.default)(t)?366:365};var n=r(Ua.exports),a=r(yi.exports),o=r(Ya.exports);e.exports=t.default}(gi,gi.exports);var bi={exports:{}};!function(e,t){var r=ja.exports.default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){(0,a.default)(1,arguments);var t=(0,n.default)(e).getFullYear();return 10*Math.floor(t/10)};var n=r(Ua.exports),a=r(Ya.exports);e.exports=t.default}(bi,bi.exports);var wi={exports:{}};!function(e,t){var r=ja.exports.default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){return(0,a.default)({},(0,n.getDefaultOptions)())};var n=Ga,a=r(ri.exports);e.exports=t.default}(wi,wi.exports);var Oi={exports:{}};!function(e,t){var r=ja.exports.default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,a.default)(1,arguments),(0,n.default)(e).getHours()};var n=r(Ua.exports),a=r(Ya.exports);e.exports=t.default}(Oi,Oi.exports);var _i={exports:{}};!function(e,t){var r=ja.exports.default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){(0,a.default)(1,arguments);var t=(0,n.default)(e).getDay();0===t&&(t=7);return t};var n=r(Ua.exports),a=r(Ya.exports);e.exports=t.default}(_i,_i.exports);var ki={exports:{}};!function(e,t){var r=ja.exports.default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){(0,s.default)(1,arguments);var t=(0,n.default)(e),r=(0,a.default)(t).getTime()-(0,o.default)(t).getTime();return Math.round(r/i)+1};var n=r(Ua.exports),a=r(Ja.exports),o=r(Za.exports),s=r(Ya.exports),i=6048e5;e.exports=t.default}(ki,ki.exports);var Mi={exports:{}};!function(e,t){var r=ja.exports.default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){(0,o.default)(1,arguments);var t=(0,n.default)(e),r=(0,n.default)((0,a.default)(t,60)).valueOf()-t.valueOf();return Math.round(r/s)};var n=r(Za.exports),a=r(so.exports),o=r(Ya.exports),s=6048e5;e.exports=t.default}(Mi,Mi.exports);var Pi={exports:{}};!function(e,t){var r=ja.exports.default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){(0,a.default)(1,arguments);var t=(0,n.default)(e).getMilliseconds();return t};var n=r(Ua.exports),a=r(Ya.exports);e.exports=t.default}(Pi,Pi.exports);var Ei={exports:{}};!function(e,t){var r=ja.exports.default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,a.default)(1,arguments),(0,n.default)(e).getMinutes()};var n=r(Ua.exports),a=r(Ya.exports);e.exports=t.default}(Ei,Ei.exports);var Ti={exports:{}};!function(e,t){var r=ja.exports.default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,a.default)(1,arguments),(0,n.default)(e).getMonth()};var n=r(Ua.exports),a=r(Ya.exports);e.exports=t.default}(Ti,Ti.exports);var Si={exports:{}};!function(e,t){var r=ja.exports.default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){(0,a.default)(2,arguments);var r=e||{},s=t||{},i=(0,n.default)(r.start).getTime(),u=(0,n.default)(r.end).getTime(),l=(0,n.default)(s.start).getTime(),c=(0,n.default)(s.end).getTime();if(!(i<=u&&l<=c))throw new RangeError("Invalid interval");if(!(i<c&&l<u))return 0;var d=(c>u?u:c)-(l<i?i:l);return Math.ceil(d/o)};var n=r(Ua.exports),a=r(Ya.exports),o=864e5;e.exports=t.default}(Si,Si.exports);var Ci={exports:{}};!function(e,t){var r=ja.exports.default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,a.default)(1,arguments),(0,n.default)(e).getSeconds()};var n=r(Ua.exports),a=r(Ya.exports);e.exports=t.default}(Ci,Ci.exports);var Ni={exports:{}};!function(e,t){var r=ja.exports.default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,a.default)(1,arguments),(0,n.default)(e).getTime()};var n=r(Ua.exports),a=r(Ya.exports);e.exports=t.default}(Ni,Ni.exports);var ji={exports:{}};!function(e,t){var r=ja.exports.default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,a.default)(1,arguments),Math.floor((0,n.default)(e)/1e3)};var n=r(Ni.exports),a=r(Ya.exports);e.exports=t.default}(ji,ji.exports);var Di={exports:{}},Ii={exports:{}},Ri={exports:{}};!function(e,t){var r=ja.exports.default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var r,u,l,c,d,f,p,v;(0,s.default)(1,arguments);var h=(0,a.default)(e),m=h.getFullYear(),x=(0,i.getDefaultOptions)(),g=(0,o.default)(null!==(r=null!==(u=null!==(l=null!==(c=null==t?void 0:t.firstWeekContainsDate)&&void 0!==c?c:null==t||null===(d=t.locale)||void 0===d||null===(f=d.options)||void 0===f?void 0:f.firstWeekContainsDate)&&void 0!==l?l:x.firstWeekContainsDate)&&void 0!==u?u:null===(p=x.locale)||void 0===p||null===(v=p.options)||void 0===v?void 0:v.firstWeekContainsDate)&&void 0!==r?r:1);if(!(g>=1&&g<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var y=new Date(0);y.setFullYear(m+1,0,g),y.setHours(0,0,0,0);var b=(0,n.default)(y,t),w=new Date(0);w.setFullYear(m,0,g),w.setHours(0,0,0,0);var O=(0,n.default)(w,t);return h.getTime()>=b.getTime()?m+1:h.getTime()>=O.getTime()?m:m-1};var n=r(Xa.exports),a=r(Ua.exports),o=r(Aa.exports),s=r(Ya.exports),i=Ga;e.exports=t.default}(Ri,Ri.exports),function(e,t){var r=ja.exports.default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var r,u,l,c,d,f,p,v;(0,s.default)(1,arguments);var h=(0,i.getDefaultOptions)(),m=(0,o.default)(null!==(r=null!==(u=null!==(l=null!==(c=null==t?void 0:t.firstWeekContainsDate)&&void 0!==c?c:null==t||null===(d=t.locale)||void 0===d||null===(f=d.options)||void 0===f?void 0:f.firstWeekContainsDate)&&void 0!==l?l:h.firstWeekContainsDate)&&void 0!==u?u:null===(p=h.locale)||void 0===p||null===(v=p.options)||void 0===v?void 0:v.firstWeekContainsDate)&&void 0!==r?r:1),x=(0,n.default)(e,t),g=new Date(0);return g.setFullYear(x,0,m),g.setHours(0,0,0,0),(0,a.default)(g,t)};var n=r(Ri.exports),a=r(Xa.exports),o=r(Aa.exports),s=r(Ya.exports),i=Ga;e.exports=t.default}(Ii,Ii.exports),function(e,t){var r=ja.exports.default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){(0,s.default)(1,arguments);var r=(0,o.default)(e),u=(0,n.default)(r,t).getTime()-(0,a.default)(r,t).getTime();return Math.round(u/i)+1};var n=r(Xa.exports),a=r(Ii.exports),o=r(Ua.exports),s=r(Ya.exports),i=6048e5;e.exports=t.default}(Di,Di.exports);var Ai={exports:{}};!function(e,t){var r=ja.exports.default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var r,l,c,d,f,p,v,h;(0,i.default)(1,arguments);var m=(0,n.getDefaultOptions)(),x=(0,u.default)(null!==(r=null!==(l=null!==(c=null!==(d=null==t?void 0:t.weekStartsOn)&&void 0!==d?d:null==t||null===(f=t.locale)||void 0===f||null===(p=f.options)||void 0===p?void 0:p.weekStartsOn)&&void 0!==c?c:m.weekStartsOn)&&void 0!==l?l:null===(v=m.locale)||void 0===v||null===(h=v.options)||void 0===h?void 0:h.weekStartsOn)&&void 0!==r?r:0);if(!(x>=0&&x<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var g=(0,a.default)(e);if(isNaN(g))return NaN;var y=(0,o.default)((0,s.default)(e)),b=x-y;b<=0&&(b+=7);var w=g-b;return Math.ceil(w/7)+1};var n=Ga,a=r(vi.exports),o=r(hi.exports),s=r(ls.exports),i=r(Ya.exports),u=r(Aa.exports);e.exports=t.default}(Ai,Ai.exports);var Ui={exports:{}},Yi={exports:{}};!function(e,t){var r=ja.exports.default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){(0,a.default)(1,arguments);var t=(0,n.default)(e),r=t.getMonth();return t.setFullYear(t.getFullYear(),r+1,0),t.setHours(0,0,0,0),t};var n=r(Ua.exports),a=r(Ya.exports);e.exports=t.default}(Yi,Yi.exports),function(e,t){var r=ja.exports.default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){return(0,s.default)(1,arguments),(0,n.default)((0,a.default)(e),(0,o.default)(e),t)+1};var n=r(Io.exports),a=r(Yi.exports),o=r(ls.exports),s=r(Ya.exports);e.exports=t.default}(Ui,Ui.exports);var Li={exports:{}};!function(e,t){var r=ja.exports.default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,a.default)(1,arguments),(0,n.default)(e).getFullYear()};var n=r(Ua.exports),a=r(Ya.exports);e.exports=t.default}(Li,Li.exports);var Wi={exports:{}};!function(e,t){var r=ja.exports.default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,n.default)(1,arguments),Math.floor(e*a.millisecondsInHour)};var n=r(Ya.exports),a=go;e.exports=t.default}(Wi,Wi.exports);var Fi={exports:{}};!function(e,t){var r=ja.exports.default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,n.default)(1,arguments),Math.floor(e*a.minutesInHour)};var n=r(Ya.exports),a=go;e.exports=t.default}(Fi,Fi.exports);var Hi={exports:{}};!function(e,t){var r=ja.exports.default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,n.default)(1,arguments),Math.floor(e*a.secondsInHour)};var n=r(Ya.exports),a=go;e.exports=t.default}(Hi,Hi.exports);var Bi={exports:{}};!function(e,t){var r=ja.exports.default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){(0,f.default)(1,arguments);var t=(0,d.default)(e.start),r=(0,d.default)(e.end);if(isNaN(t.getTime()))throw new RangeError("Start Date is invalid");if(isNaN(r.getTime()))throw new RangeError("End Date is invalid");var p={};p.years=Math.abs((0,c.default)(r,t));var v=(0,n.default)(r,t),h=(0,a.default)(t,{years:v*p.years});p.months=Math.abs((0,u.default)(r,h));var m=(0,a.default)(h,{months:v*p.months});p.days=Math.abs((0,o.default)(r,m));var x=(0,a.default)(m,{days:v*p.days});p.hours=Math.abs((0,s.default)(r,x));var g=(0,a.default)(x,{hours:v*p.hours});p.minutes=Math.abs((0,i.default)(r,g));var y=(0,a.default)(g,{minutes:v*p.minutes});return p.seconds=Math.abs((0,l.default)(r,y)),p};var n=r(ho.exports),a=r(Da.exports),o=r(Ao.exports),s=r(Uo.exports),i=r(qo.exports),u=r(zo.exports),l=r(Go.exports),c=r($o.exports),d=r(Ua.exports),f=r(Ya.exports);e.exports=t.default}(Bi,Bi.exports);var qi={exports:{}};!function(e,t){var r=ja.exports.default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,r){var a,o;(0,n.default)(1,arguments),function(e){return void 0!==e&&!("locale"in e)}(t)?o=t:r=t;return new Intl.DateTimeFormat(null===(a=r)||void 0===a?void 0:a.locale,o).format(e)};var n=r(Ya.exports);e.exports=t.default}(qi,qi.exports);var zi={exports:{}};!function(e,t){var r=ja.exports.default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,r){(0,p.default)(2,arguments);var v,h=0,m=(0,f.default)(e),x=(0,f.default)(t);if(null!=r&&r.unit)"second"===(v=null==r?void 0:r.unit)?h=(0,d.default)(m,x):"minute"===v?h=(0,c.default)(m,x):"hour"===v?h=(0,l.default)(m,x):"day"===v?h=(0,a.default)(m,x):"week"===v?h=(0,i.default)(m,x):"month"===v?h=(0,o.default)(m,x):"quarter"===v?h=(0,s.default)(m,x):"year"===v&&(h=(0,u.default)(m,x));else{var g=(0,d.default)(m,x);Math.abs(g)<n.secondsInMinute?(h=(0,d.default)(m,x),v="second"):Math.abs(g)<n.secondsInHour?(h=(0,c.default)(m,x),v="minute"):Math.abs(g)<n.secondsInDay&&Math.abs((0,a.default)(m,x))<1?(h=(0,l.default)(m,x),v="hour"):Math.abs(g)<n.secondsInWeek&&(h=(0,a.default)(m,x))&&Math.abs(h)<7?v="day":Math.abs(g)<n.secondsInMonth?(h=(0,i.default)(m,x),v="week"):Math.abs(g)<n.secondsInQuarter?(h=(0,o.default)(m,x),v="month"):Math.abs(g)<n.secondsInYear&&(0,s.default)(m,x)<4?(h=(0,s.default)(m,x),v="quarter"):(h=(0,u.default)(m,x),v="year")}return new Intl.RelativeTimeFormat(null==r?void 0:r.locale,{localeMatcher:null==r?void 0:r.localeMatcher,numeric:(null==r?void 0:r.numeric)||"auto",style:null==r?void 0:r.style}).format(h,v)};var n=go,a=r(eo.exports),o=r(No.exports),s=r(jo.exports),i=r(Io.exports),u=r(Ro.exports),l=r(Uo.exports),c=r(qo.exports),d=r(Go.exports),f=r(Ua.exports),p=r(Ya.exports);e.exports=t.default}(zi,zi.exports);var Vi={exports:{}};!function(e,t){var r=ja.exports.default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){(0,a.default)(2,arguments);var r=(0,n.default)(e),o=(0,n.default)(t);return r.getTime()>o.getTime()};var n=r(Ua.exports),a=r(Ya.exports);e.exports=t.default}(Vi,Vi.exports);var Qi={exports:{}};!function(e,t){var r=ja.exports.default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){(0,a.default)(2,arguments);var r=(0,n.default)(e),o=(0,n.default)(t);return r.getTime()<o.getTime()};var n=r(Ua.exports),a=r(Ya.exports);e.exports=t.default}(Qi,Qi.exports);var Ji={exports:{}};!function(e,t){var r=ja.exports.default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){(0,a.default)(2,arguments);var r=(0,n.default)(e),o=(0,n.default)(t);return r.getTime()===o.getTime()};var n=r(Ua.exports),a=r(Ya.exports);e.exports=t.default}(Ji,Ji.exports);var Xi={exports:{}};!function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,r){if(arguments.length<3)throw new TypeError("3 argument required, but only "+arguments.length+" present");var n=new Date(e,t,r);return n.getFullYear()===e&&n.getMonth()===t&&n.getDate()===r},e.exports=t.default}(Xi,Xi.exports);var Gi={exports:{}};!function(e,t){var r=ja.exports.default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,a.default)(1,arguments),1===(0,n.default)(e).getDate()};var n=r(Ua.exports),a=r(Ya.exports);e.exports=t.default}(Gi,Gi.exports);var Ki={exports:{}};!function(e,t){var r=ja.exports.default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,a.default)(1,arguments),5===(0,n.default)(e).getDay()};var n=r(Ua.exports),a=r(Ya.exports);e.exports=t.default}(Ki,Ki.exports);var $i={exports:{}};!function(e,t){var r=ja.exports.default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,a.default)(1,arguments),(0,n.default)(e).getTime()>Date.now()};var n=r(Ua.exports),a=r(Ya.exports);e.exports=t.default}($i,$i.exports);var Zi={exports:{}},eu={exports:{}},tu={exports:{}},ru={exports:{}},nu={exports:{}};!function(e){e.exports=function(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n},e.exports.__esModule=!0,e.exports.default=e.exports}(nu),function(e){var t=nu.exports;e.exports=function(e,r){if(e){if("string"==typeof e)return t(e,r);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?t(e,r):void 0}},e.exports.__esModule=!0,e.exports.default=e.exports}(ru),function(e){var t=ru.exports;e.exports=function(e,r){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=t(e))||r&&e&&"number"==typeof e.length){n&&(e=n);var a=0,o=function(){};return{s:o,n:function(){return a>=e.length?{done:!0}:{done:!1,value:e[a++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var s,i=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return i=e.done,e},e:function(e){u=!0,s=e},f:function(){try{i||null==n.return||n.return()}finally{if(u)throw s}}}},e.exports.__esModule=!0,e.exports.default=e.exports}(tu);var au={},ou={exports:{}};!function(e){e.exports=function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e},e.exports.__esModule=!0,e.exports.default=e.exports}(ou);var su={exports:{}},iu={exports:{}};!function(e){function t(r,n){return e.exports=t=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},e.exports.__esModule=!0,e.exports.default=e.exports,t(r,n)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports}(iu),function(e){var t=iu.exports;e.exports=function(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),r&&t(e,r)},e.exports.__esModule=!0,e.exports.default=e.exports}(su);var uu={exports:{}},lu={exports:{}};!function(e){function t(r){return e.exports=t=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},e.exports.__esModule=!0,e.exports.default=e.exports,t(r)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports}(lu);var cu={exports:{}};!function(e){function t(){try{var r=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(r){}return(e.exports=t=function(){return!!r},e.exports.__esModule=!0,e.exports.default=e.exports)()}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports}(cu);var du={exports:{}};!function(e){var t=Ia.exports.default,r=ou.exports;e.exports=function(e,n){if(n&&("object"===t(n)||"function"==typeof n))return n;if(void 0!==n)throw new TypeError("Derived constructors may only return object or undefined");return r(e)},e.exports.__esModule=!0,e.exports.default=e.exports}(du),function(e){var t=lu.exports,r=cu.exports,n=du.exports;e.exports=function(e){var a=r();return function(){var r,o=t(e);if(a){var s=t(this).constructor;r=Reflect.construct(o,arguments,s)}else r=o.apply(this,arguments);return n(this,r)}},e.exports.__esModule=!0,e.exports.default=e.exports}(uu);var fu={exports:{}};!function(e){e.exports=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},e.exports.__esModule=!0,e.exports.default=e.exports}(fu);var pu={exports:{}},vu={exports:{}},hu={exports:{}};!function(e){var t=Ia.exports.default;e.exports=function(e,r){if("object"!=t(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var a=n.call(e,r||"default");if("object"!=t(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(e)},e.exports.__esModule=!0,e.exports.default=e.exports}(hu),function(e){var t=Ia.exports.default,r=hu.exports;e.exports=function(e){var n=r(e,"string");return"symbol"==t(n)?n:String(n)},e.exports.__esModule=!0,e.exports.default=e.exports}(vu),function(e){var t=vu.exports;function r(e,r){for(var n=0;n<r.length;n++){var a=r[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,t(a.key),a)}}e.exports=function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e},e.exports.__esModule=!0,e.exports.default=e.exports}(pu);var mu={exports:{}};!function(e){var t=vu.exports;e.exports=function(e,r,n){return(r=t(r))in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,e},e.exports.__esModule=!0,e.exports.default=e.exports}(mu);var xu=ja.exports.default;Object.defineProperty(au,"__esModule",{value:!0}),au.ValueSetter=au.Setter=au.DateToSystemTimezoneSetter=void 0;var gu=xu(ou.exports),yu=xu(su.exports),bu=xu(uu.exports),wu=xu(fu.exports),Ou=xu(pu.exports),_u=xu(mu.exports),ku=function(){function e(){(0,wu.default)(this,e),(0,_u.default)(this,"priority",void 0),(0,_u.default)(this,"subPriority",0)}return(0,Ou.default)(e,[{key:"validate",value:function(e,t){return!0}}]),e}();au.Setter=ku;var Mu=function(e){(0,yu.default)(r,e);var t=(0,bu.default)(r);function r(e,n,a,o,s){var i;return(0,wu.default)(this,r),(i=t.call(this)).value=e,i.validateValue=n,i.setValue=a,i.priority=o,s&&(i.subPriority=s),i}return(0,Ou.default)(r,[{key:"validate",value:function(e,t){return this.validateValue(e,this.value,t)}},{key:"set",value:function(e,t,r){return this.setValue(e,t,this.value,r)}}]),r}(ku);au.ValueSetter=Mu;var Pu=function(e){(0,yu.default)(r,e);var t=(0,bu.default)(r);function r(){var e;(0,wu.default)(this,r);for(var n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return e=t.call.apply(t,[this].concat(a)),(0,_u.default)((0,gu.default)(e),"priority",10),(0,_u.default)((0,gu.default)(e),"subPriority",-1),e}return(0,Ou.default)(r,[{key:"set",value:function(e,t){if(t.timestampIsSet)return e;var r=new Date(0);return r.setFullYear(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate()),r.setHours(e.getUTCHours(),e.getUTCMinutes(),e.getUTCSeconds(),e.getUTCMilliseconds()),r}}]),r}(ku);au.DateToSystemTimezoneSetter=Pu;var Eu={},Tu={},Su={},Cu=ja.exports.default;Object.defineProperty(Su,"__esModule",{value:!0}),Su.Parser=void 0;var Nu=Cu(fu.exports),ju=Cu(pu.exports),Du=Cu(mu.exports),Iu=au,Ru=function(){function e(){(0,Nu.default)(this,e),(0,Du.default)(this,"incompatibleTokens",void 0),(0,Du.default)(this,"priority",void 0),(0,Du.default)(this,"subPriority",void 0)}return(0,ju.default)(e,[{key:"run",value:function(e,t,r,n){var a=this.parse(e,t,r,n);return a?{setter:new Iu.ValueSetter(a.value,this.validate,this.set,this.priority,this.subPriority),rest:a.rest}:null}},{key:"validate",value:function(e,t,r){return!0}}]),e}();Su.Parser=Ru;var Au=ja.exports.default;Object.defineProperty(Tu,"__esModule",{value:!0}),Tu.EraParser=void 0;var Uu=Au(fu.exports),Yu=Au(pu.exports),Lu=Au(ou.exports),Wu=Au(su.exports),Fu=Au(uu.exports),Hu=Au(mu.exports),Bu=function(e){(0,Wu.default)(r,e);var t=(0,Fu.default)(r);function r(){var e;(0,Uu.default)(this,r);for(var n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return e=t.call.apply(t,[this].concat(a)),(0,Hu.default)((0,Lu.default)(e),"priority",140),(0,Hu.default)((0,Lu.default)(e),"incompatibleTokens",["R","u","t","T"]),e}return(0,Yu.default)(r,[{key:"parse",value:function(e,t,r){switch(t){case"G":case"GG":case"GGG":return r.era(e,{width:"abbreviated"})||r.era(e,{width:"narrow"});case"GGGGG":return r.era(e,{width:"narrow"});default:return r.era(e,{width:"wide"})||r.era(e,{width:"abbreviated"})||r.era(e,{width:"narrow"})}}},{key:"set",value:function(e,t,r){return t.era=r,e.setUTCFullYear(r,0,1),e.setUTCHours(0,0,0,0),e}}]),r}(Su.Parser);Tu.EraParser=Bu;var qu={},zu={},Vu={};Object.defineProperty(Vu,"__esModule",{value:!0}),Vu.timezonePatterns=Vu.numericPatterns=void 0;Vu.numericPatterns={month:/^(1[0-2]|0?\d)/,date:/^(3[0-1]|[0-2]?\d)/,dayOfYear:/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,week:/^(5[0-3]|[0-4]?\d)/,hour23h:/^(2[0-3]|[0-1]?\d)/,hour24h:/^(2[0-4]|[0-1]?\d)/,hour11h:/^(1[0-1]|0?\d)/,hour12h:/^(1[0-2]|0?\d)/,minute:/^[0-5]?\d/,second:/^[0-5]?\d/,singleDigit:/^\d/,twoDigits:/^\d{1,2}/,threeDigits:/^\d{1,3}/,fourDigits:/^\d{1,4}/,anyDigitsSigned:/^-?\d+/,singleDigitSigned:/^-?\d/,twoDigitsSigned:/^-?\d{1,2}/,threeDigitsSigned:/^-?\d{1,3}/,fourDigitsSigned:/^-?\d{1,4}/};Vu.timezonePatterns={basicOptionalMinutes:/^([+-])(\d{2})(\d{2})?|Z/,basic:/^([+-])(\d{2})(\d{2})|Z/,basicOptionalSeconds:/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,extended:/^([+-])(\d{2}):(\d{2})|Z/,extendedOptionalSeconds:/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/},Object.defineProperty(zu,"__esModule",{value:!0}),zu.dayPeriodEnumToHours=function(e){switch(e){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;default:return 0}},zu.isLeapYearIndex=function(e){return e%400==0||e%4==0&&e%100!=0},zu.mapValue=function(e,t){if(!e)return e;return{value:t(e.value),rest:e.rest}},zu.normalizeTwoDigitYear=function(e,t){var r,n=t>0,a=n?t:1-t;if(a<=50)r=e||100;else{var o=a+50;r=e+100*Math.floor(o/100)-(e>=o%100?100:0)}return n?r:1-r},zu.parseAnyDigitsSigned=function(e){return Xu(Ju.numericPatterns.anyDigitsSigned,e)},zu.parseNDigits=function(e,t){switch(e){case 1:return Xu(Ju.numericPatterns.singleDigit,t);case 2:return Xu(Ju.numericPatterns.twoDigits,t);case 3:return Xu(Ju.numericPatterns.threeDigits,t);case 4:return Xu(Ju.numericPatterns.fourDigits,t);default:return Xu(new RegExp("^\\d{1,"+e+"}"),t)}},zu.parseNDigitsSigned=function(e,t){switch(e){case 1:return Xu(Ju.numericPatterns.singleDigitSigned,t);case 2:return Xu(Ju.numericPatterns.twoDigitsSigned,t);case 3:return Xu(Ju.numericPatterns.threeDigitsSigned,t);case 4:return Xu(Ju.numericPatterns.fourDigitsSigned,t);default:return Xu(new RegExp("^-?\\d{1,"+e+"}"),t)}},zu.parseNumericPattern=Xu,zu.parseTimezonePattern=function(e,t){var r=t.match(e);if(!r)return null;if("Z"===r[0])return{value:0,rest:t.slice(1)};var n="+"===r[1]?1:-1,a=r[2]?parseInt(r[2],10):0,o=r[3]?parseInt(r[3],10):0,s=r[5]?parseInt(r[5],10):0;return{value:n*(a*Qu.millisecondsInHour+o*Qu.millisecondsInMinute+s*Qu.millisecondsInSecond),rest:t.slice(r[0].length)}};var Qu=go,Ju=Vu;function Xu(e,t){var r=t.match(e);return r?{value:parseInt(r[0],10),rest:t.slice(r[0].length)}:null}var Gu=ja.exports.default;Object.defineProperty(qu,"__esModule",{value:!0}),qu.YearParser=void 0;var Ku=Gu(fu.exports),$u=Gu(pu.exports),Zu=Gu(ou.exports),el=Gu(su.exports),tl=Gu(uu.exports),rl=Gu(mu.exports),nl=zu,al=function(e){(0,el.default)(r,e);var t=(0,tl.default)(r);function r(){var e;(0,Ku.default)(this,r);for(var n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return e=t.call.apply(t,[this].concat(a)),(0,rl.default)((0,Zu.default)(e),"priority",130),(0,rl.default)((0,Zu.default)(e),"incompatibleTokens",["Y","R","u","w","I","i","e","c","t","T"]),e}return(0,$u.default)(r,[{key:"parse",value:function(e,t,r){var n=function(e){return{year:e,isTwoDigitYear:"yy"===t}};switch(t){case"y":return(0,nl.mapValue)((0,nl.parseNDigits)(4,e),n);case"yo":return(0,nl.mapValue)(r.ordinalNumber(e,{unit:"year"}),n);default:return(0,nl.mapValue)((0,nl.parseNDigits)(t.length,e),n)}}},{key:"validate",value:function(e,t){return t.isTwoDigitYear||t.year>0}},{key:"set",value:function(e,t,r){var n=e.getUTCFullYear();if(r.isTwoDigitYear){var a=(0,nl.normalizeTwoDigitYear)(r.year,n);return e.setUTCFullYear(a,0,1),e.setUTCHours(0,0,0,0),e}var o="era"in t&&1!==t.era?1-r.year:r.year;return e.setUTCFullYear(o,0,1),e.setUTCHours(0,0,0,0),e}}]),r}(Su.Parser);qu.YearParser=al;var ol={},sl=ja.exports.default;Object.defineProperty(ol,"__esModule",{value:!0}),ol.LocalWeekYearParser=void 0;var il=sl(fu.exports),ul=sl(pu.exports),ll=sl(ou.exports),cl=sl(su.exports),dl=sl(uu.exports),fl=sl(mu.exports),pl=Su,vl=zu,hl=sl(As.exports),ml=sl(Is.exports),xl=function(e){(0,cl.default)(r,e);var t=(0,dl.default)(r);function r(){var e;(0,il.default)(this,r);for(var n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return e=t.call.apply(t,[this].concat(a)),(0,fl.default)((0,ll.default)(e),"priority",130),(0,fl.default)((0,ll.default)(e),"incompatibleTokens",["y","R","u","Q","q","M","L","I","d","D","i","t","T"]),e}return(0,ul.default)(r,[{key:"parse",value:function(e,t,r){var n=function(e){return{year:e,isTwoDigitYear:"YY"===t}};switch(t){case"Y":return(0,vl.mapValue)((0,vl.parseNDigits)(4,e),n);case"Yo":return(0,vl.mapValue)(r.ordinalNumber(e,{unit:"year"}),n);default:return(0,vl.mapValue)((0,vl.parseNDigits)(t.length,e),n)}}},{key:"validate",value:function(e,t){return t.isTwoDigitYear||t.year>0}},{key:"set",value:function(e,t,r,n){var a=(0,hl.default)(e,n);if(r.isTwoDigitYear){var o=(0,vl.normalizeTwoDigitYear)(r.year,a);return e.setUTCFullYear(o,0,n.firstWeekContainsDate),e.setUTCHours(0,0,0,0),(0,ml.default)(e,n)}var s="era"in t&&1!==t.era?1-r.year:r.year;return e.setUTCFullYear(s,0,n.firstWeekContainsDate),e.setUTCHours(0,0,0,0),(0,ml.default)(e,n)}}]),r}(pl.Parser);ol.LocalWeekYearParser=xl;var gl={},yl=ja.exports.default;Object.defineProperty(gl,"__esModule",{value:!0}),gl.ISOWeekYearParser=void 0;var bl=yl(fu.exports),wl=yl(pu.exports),Ol=yl(ou.exports),_l=yl(su.exports),kl=yl(uu.exports),Ml=yl(mu.exports),Pl=Su,El=zu,Tl=yl(Cs.exports),Sl=function(e){(0,_l.default)(r,e);var t=(0,kl.default)(r);function r(){var e;(0,bl.default)(this,r);for(var n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return e=t.call.apply(t,[this].concat(a)),(0,Ml.default)((0,Ol.default)(e),"priority",130),(0,Ml.default)((0,Ol.default)(e),"incompatibleTokens",["G","y","Y","u","Q","q","M","L","w","d","D","e","c","t","T"]),e}return(0,wl.default)(r,[{key:"parse",value:function(e,t){return"R"===t?(0,El.parseNDigitsSigned)(4,e):(0,El.parseNDigitsSigned)(t.length,e)}},{key:"set",value:function(e,t,r){var n=new Date(0);return n.setUTCFullYear(r,0,4),n.setUTCHours(0,0,0,0),(0,Tl.default)(n)}}]),r}(Pl.Parser);gl.ISOWeekYearParser=Sl;var Cl={},Nl=ja.exports.default;Object.defineProperty(Cl,"__esModule",{value:!0}),Cl.ExtendedYearParser=void 0;var jl=Nl(fu.exports),Dl=Nl(pu.exports),Il=Nl(ou.exports),Rl=Nl(su.exports),Al=Nl(uu.exports),Ul=Nl(mu.exports),Yl=zu,Ll=function(e){(0,Rl.default)(r,e);var t=(0,Al.default)(r);function r(){var e;(0,jl.default)(this,r);for(var n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return e=t.call.apply(t,[this].concat(a)),(0,Ul.default)((0,Il.default)(e),"priority",130),(0,Ul.default)((0,Il.default)(e),"incompatibleTokens",["G","y","Y","R","w","I","i","e","c","t","T"]),e}return(0,Dl.default)(r,[{key:"parse",value:function(e,t){return"u"===t?(0,Yl.parseNDigitsSigned)(4,e):(0,Yl.parseNDigitsSigned)(t.length,e)}},{key:"set",value:function(e,t,r){return e.setUTCFullYear(r,0,1),e.setUTCHours(0,0,0,0),e}}]),r}(Su.Parser);Cl.ExtendedYearParser=Ll;var Wl={},Fl=ja.exports.default;Object.defineProperty(Wl,"__esModule",{value:!0}),Wl.QuarterParser=void 0;var Hl=Fl(fu.exports),Bl=Fl(pu.exports),ql=Fl(ou.exports),zl=Fl(su.exports),Vl=Fl(uu.exports),Ql=Fl(mu.exports),Jl=zu,Xl=function(e){(0,zl.default)(r,e);var t=(0,Vl.default)(r);function r(){var e;(0,Hl.default)(this,r);for(var n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return e=t.call.apply(t,[this].concat(a)),(0,Ql.default)((0,ql.default)(e),"priority",120),(0,Ql.default)((0,ql.default)(e),"incompatibleTokens",["Y","R","q","M","L","w","I","d","D","i","e","c","t","T"]),e}return(0,Bl.default)(r,[{key:"parse",value:function(e,t,r){switch(t){case"Q":case"QQ":return(0,Jl.parseNDigits)(t.length,e);case"Qo":return r.ordinalNumber(e,{unit:"quarter"});case"QQQ":return r.quarter(e,{width:"abbreviated",context:"formatting"})||r.quarter(e,{width:"narrow",context:"formatting"});case"QQQQQ":return r.quarter(e,{width:"narrow",context:"formatting"});default:return r.quarter(e,{width:"wide",context:"formatting"})||r.quarter(e,{width:"abbreviated",context:"formatting"})||r.quarter(e,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(e,t){return t>=1&&t<=4}},{key:"set",value:function(e,t,r){return e.setUTCMonth(3*(r-1),1),e.setUTCHours(0,0,0,0),e}}]),r}(Su.Parser);Wl.QuarterParser=Xl;var Gl={},Kl=ja.exports.default;Object.defineProperty(Gl,"__esModule",{value:!0}),Gl.StandAloneQuarterParser=void 0;var $l=Kl(fu.exports),Zl=Kl(pu.exports),ec=Kl(ou.exports),tc=Kl(su.exports),rc=Kl(uu.exports),nc=Kl(mu.exports),ac=zu,oc=function(e){(0,tc.default)(r,e);var t=(0,rc.default)(r);function r(){var e;(0,$l.default)(this,r);for(var n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return e=t.call.apply(t,[this].concat(a)),(0,nc.default)((0,ec.default)(e),"priority",120),(0,nc.default)((0,ec.default)(e),"incompatibleTokens",["Y","R","Q","M","L","w","I","d","D","i","e","c","t","T"]),e}return(0,Zl.default)(r,[{key:"parse",value:function(e,t,r){switch(t){case"q":case"qq":return(0,ac.parseNDigits)(t.length,e);case"qo":return r.ordinalNumber(e,{unit:"quarter"});case"qqq":return r.quarter(e,{width:"abbreviated",context:"standalone"})||r.quarter(e,{width:"narrow",context:"standalone"});case"qqqqq":return r.quarter(e,{width:"narrow",context:"standalone"});default:return r.quarter(e,{width:"wide",context:"standalone"})||r.quarter(e,{width:"abbreviated",context:"standalone"})||r.quarter(e,{width:"narrow",context:"standalone"})}}},{key:"validate",value:function(e,t){return t>=1&&t<=4}},{key:"set",value:function(e,t,r){return e.setUTCMonth(3*(r-1),1),e.setUTCHours(0,0,0,0),e}}]),r}(Su.Parser);Gl.StandAloneQuarterParser=oc;var sc={},ic=ja.exports.default;Object.defineProperty(sc,"__esModule",{value:!0}),sc.MonthParser=void 0;var uc=ic(fu.exports),lc=ic(pu.exports),cc=ic(ou.exports),dc=ic(su.exports),fc=ic(uu.exports),pc=ic(mu.exports),vc=zu,hc=Vu,mc=function(e){(0,dc.default)(r,e);var t=(0,fc.default)(r);function r(){var e;(0,uc.default)(this,r);for(var n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return e=t.call.apply(t,[this].concat(a)),(0,pc.default)((0,cc.default)(e),"incompatibleTokens",["Y","R","q","Q","L","w","I","D","i","e","c","t","T"]),(0,pc.default)((0,cc.default)(e),"priority",110),e}return(0,lc.default)(r,[{key:"parse",value:function(e,t,r){var n=function(e){return e-1};switch(t){case"M":return(0,vc.mapValue)((0,vc.parseNumericPattern)(hc.numericPatterns.month,e),n);case"MM":return(0,vc.mapValue)((0,vc.parseNDigits)(2,e),n);case"Mo":return(0,vc.mapValue)(r.ordinalNumber(e,{unit:"month"}),n);case"MMM":return r.month(e,{width:"abbreviated",context:"formatting"})||r.month(e,{width:"narrow",context:"formatting"});case"MMMMM":return r.month(e,{width:"narrow",context:"formatting"});default:return r.month(e,{width:"wide",context:"formatting"})||r.month(e,{width:"abbreviated",context:"formatting"})||r.month(e,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(e,t){return t>=0&&t<=11}},{key:"set",value:function(e,t,r){return e.setUTCMonth(r,1),e.setUTCHours(0,0,0,0),e}}]),r}(Su.Parser);sc.MonthParser=mc;var xc={},gc=ja.exports.default;Object.defineProperty(xc,"__esModule",{value:!0}),xc.StandAloneMonthParser=void 0;var yc=gc(fu.exports),bc=gc(pu.exports),wc=gc(ou.exports),Oc=gc(su.exports),_c=gc(uu.exports),kc=gc(mu.exports),Mc=Vu,Pc=zu,Ec=function(e){(0,Oc.default)(r,e);var t=(0,_c.default)(r);function r(){var e;(0,yc.default)(this,r);for(var n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return e=t.call.apply(t,[this].concat(a)),(0,kc.default)((0,wc.default)(e),"priority",110),(0,kc.default)((0,wc.default)(e),"incompatibleTokens",["Y","R","q","Q","M","w","I","D","i","e","c","t","T"]),e}return(0,bc.default)(r,[{key:"parse",value:function(e,t,r){var n=function(e){return e-1};switch(t){case"L":return(0,Pc.mapValue)((0,Pc.parseNumericPattern)(Mc.numericPatterns.month,e),n);case"LL":return(0,Pc.mapValue)((0,Pc.parseNDigits)(2,e),n);case"Lo":return(0,Pc.mapValue)(r.ordinalNumber(e,{unit:"month"}),n);case"LLL":return r.month(e,{width:"abbreviated",context:"standalone"})||r.month(e,{width:"narrow",context:"standalone"});case"LLLLL":return r.month(e,{width:"narrow",context:"standalone"});default:return r.month(e,{width:"wide",context:"standalone"})||r.month(e,{width:"abbreviated",context:"standalone"})||r.month(e,{width:"narrow",context:"standalone"})}}},{key:"validate",value:function(e,t){return t>=0&&t<=11}},{key:"set",value:function(e,t,r){return e.setUTCMonth(r,1),e.setUTCHours(0,0,0,0),e}}]),r}(Su.Parser);xc.StandAloneMonthParser=Ec;var Tc={},Sc={exports:{}};!function(e,t){var r=ja.exports.default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,r){(0,s.default)(2,arguments);var i=(0,a.default)(e),u=(0,n.default)(t),l=(0,o.default)(i,r)-u;return i.setUTCDate(i.getUTCDate()-7*l),i};var n=r(Aa.exports),a=r(Ua.exports),o=r(Ds.exports),s=r(Ya.exports);e.exports=t.default}(Sc,Sc.exports);var Cc=ja.exports.default;Object.defineProperty(Tc,"__esModule",{value:!0}),Tc.LocalWeekParser=void 0;var Nc=Cc(fu.exports),jc=Cc(pu.exports),Dc=Cc(ou.exports),Ic=Cc(su.exports),Rc=Cc(uu.exports),Ac=Cc(mu.exports),Uc=Su,Yc=Vu,Lc=zu,Wc=Cc(Sc.exports),Fc=Cc(Is.exports),Hc=function(e){(0,Ic.default)(r,e);var t=(0,Rc.default)(r);function r(){var e;(0,Nc.default)(this,r);for(var n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return e=t.call.apply(t,[this].concat(a)),(0,Ac.default)((0,Dc.default)(e),"priority",100),(0,Ac.default)((0,Dc.default)(e),"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","i","t","T"]),e}return(0,jc.default)(r,[{key:"parse",value:function(e,t,r){switch(t){case"w":return(0,Lc.parseNumericPattern)(Yc.numericPatterns.week,e);case"wo":return r.ordinalNumber(e,{unit:"week"});default:return(0,Lc.parseNDigits)(t.length,e)}}},{key:"validate",value:function(e,t){return t>=1&&t<=53}},{key:"set",value:function(e,t,r,n){return(0,Fc.default)((0,Wc.default)(e,r,n),n)}}]),r}(Uc.Parser);Tc.LocalWeekParser=Hc;var Bc={},qc={exports:{}};!function(e,t){var r=ja.exports.default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){(0,s.default)(2,arguments);var r=(0,a.default)(e),i=(0,n.default)(t),u=(0,o.default)(r)-i;return r.setUTCDate(r.getUTCDate()-7*u),r};var n=r(Aa.exports),a=r(Ua.exports),o=r(Ss.exports),s=r(Ya.exports);e.exports=t.default}(qc,qc.exports);var zc=ja.exports.default;Object.defineProperty(Bc,"__esModule",{value:!0}),Bc.ISOWeekParser=void 0;var Vc=zc(fu.exports),Qc=zc(pu.exports),Jc=zc(ou.exports),Xc=zc(su.exports),Gc=zc(uu.exports),Kc=zc(mu.exports),$c=Su,Zc=Vu,ed=zu,td=zc(qc.exports),rd=zc(Cs.exports),nd=function(e){(0,Xc.default)(r,e);var t=(0,Gc.default)(r);function r(){var e;(0,Vc.default)(this,r);for(var n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return e=t.call.apply(t,[this].concat(a)),(0,Kc.default)((0,Jc.default)(e),"priority",100),(0,Kc.default)((0,Jc.default)(e),"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","e","c","t","T"]),e}return(0,Qc.default)(r,[{key:"parse",value:function(e,t,r){switch(t){case"I":return(0,ed.parseNumericPattern)(Zc.numericPatterns.week,e);case"Io":return r.ordinalNumber(e,{unit:"week"});default:return(0,ed.parseNDigits)(t.length,e)}}},{key:"validate",value:function(e,t){return t>=1&&t<=53}},{key:"set",value:function(e,t,r){return(0,rd.default)((0,td.default)(e,r))}}]),r}($c.Parser);Bc.ISOWeekParser=nd;var ad={},od=ja.exports.default;Object.defineProperty(ad,"__esModule",{value:!0}),ad.DateParser=void 0;var sd=od(fu.exports),id=od(pu.exports),ud=od(ou.exports),ld=od(su.exports),cd=od(uu.exports),dd=od(mu.exports),fd=zu,pd=Vu,vd=[31,28,31,30,31,30,31,31,30,31,30,31],hd=[31,29,31,30,31,30,31,31,30,31,30,31],md=function(e){(0,ld.default)(r,e);var t=(0,cd.default)(r);function r(){var e;(0,sd.default)(this,r);for(var n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return e=t.call.apply(t,[this].concat(a)),(0,dd.default)((0,ud.default)(e),"priority",90),(0,dd.default)((0,ud.default)(e),"subPriority",1),(0,dd.default)((0,ud.default)(e),"incompatibleTokens",["Y","R","q","Q","w","I","D","i","e","c","t","T"]),e}return(0,id.default)(r,[{key:"parse",value:function(e,t,r){switch(t){case"d":return(0,fd.parseNumericPattern)(pd.numericPatterns.date,e);case"do":return r.ordinalNumber(e,{unit:"date"});default:return(0,fd.parseNDigits)(t.length,e)}}},{key:"validate",value:function(e,t){var r=e.getUTCFullYear(),n=(0,fd.isLeapYearIndex)(r),a=e.getUTCMonth();return n?t>=1&&t<=hd[a]:t>=1&&t<=vd[a]}},{key:"set",value:function(e,t,r){return e.setUTCDate(r),e.setUTCHours(0,0,0,0),e}}]),r}(Su.Parser);ad.DateParser=md;var xd={},gd=ja.exports.default;Object.defineProperty(xd,"__esModule",{value:!0}),xd.DayOfYearParser=void 0;var yd=gd(fu.exports),bd=gd(pu.exports),wd=gd(ou.exports),Od=gd(su.exports),_d=gd(uu.exports),kd=gd(mu.exports),Md=Vu,Pd=zu,Ed=function(e){(0,Od.default)(r,e);var t=(0,_d.default)(r);function r(){var e;(0,yd.default)(this,r);for(var n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return e=t.call.apply(t,[this].concat(a)),(0,kd.default)((0,wd.default)(e),"priority",90),(0,kd.default)((0,wd.default)(e),"subpriority",1),(0,kd.default)((0,wd.default)(e),"incompatibleTokens",["Y","R","q","Q","M","L","w","I","d","E","i","e","c","t","T"]),e}return(0,bd.default)(r,[{key:"parse",value:function(e,t,r){switch(t){case"D":case"DD":return(0,Pd.parseNumericPattern)(Md.numericPatterns.dayOfYear,e);case"Do":return r.ordinalNumber(e,{unit:"date"});default:return(0,Pd.parseNDigits)(t.length,e)}}},{key:"validate",value:function(e,t){var r=e.getUTCFullYear();return(0,Pd.isLeapYearIndex)(r)?t>=1&&t<=366:t>=1&&t<=365}},{key:"set",value:function(e,t,r){return e.setUTCMonth(0,r),e.setUTCHours(0,0,0,0),e}}]),r}(Su.Parser);xd.DayOfYearParser=Ed;var Td={},Sd={exports:{}};!function(e,t){var r=ja.exports.default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,r){var i,u,l,c,d,f,p,v;(0,a.default)(2,arguments);var h=(0,s.getDefaultOptions)(),m=(0,o.default)(null!==(i=null!==(u=null!==(l=null!==(c=null==r?void 0:r.weekStartsOn)&&void 0!==c?c:null==r||null===(d=r.locale)||void 0===d||null===(f=d.options)||void 0===f?void 0:f.weekStartsOn)&&void 0!==l?l:h.weekStartsOn)&&void 0!==u?u:null===(p=h.locale)||void 0===p||null===(v=p.options)||void 0===v?void 0:v.weekStartsOn)&&void 0!==i?i:0);if(!(m>=0&&m<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var x=(0,n.default)(e),g=(0,o.default)(t),y=x.getUTCDay(),b=((g%7+7)%7<m?7:0)+g-y;return x.setUTCDate(x.getUTCDate()+b),x};var n=r(Ua.exports),a=r(Ya.exports),o=r(Aa.exports),s=Ga;e.exports=t.default}(Sd,Sd.exports);var Cd=ja.exports.default;Object.defineProperty(Td,"__esModule",{value:!0}),Td.DayParser=void 0;var Nd=Cd(fu.exports),jd=Cd(pu.exports),Dd=Cd(ou.exports),Id=Cd(su.exports),Rd=Cd(uu.exports),Ad=Cd(mu.exports),Ud=Su,Yd=Cd(Sd.exports),Ld=function(e){(0,Id.default)(r,e);var t=(0,Rd.default)(r);function r(){var e;(0,Nd.default)(this,r);for(var n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return e=t.call.apply(t,[this].concat(a)),(0,Ad.default)((0,Dd.default)(e),"priority",90),(0,Ad.default)((0,Dd.default)(e),"incompatibleTokens",["D","i","e","c","t","T"]),e}return(0,jd.default)(r,[{key:"parse",value:function(e,t,r){switch(t){case"E":case"EE":case"EEE":return r.day(e,{width:"abbreviated",context:"formatting"})||r.day(e,{width:"short",context:"formatting"})||r.day(e,{width:"narrow",context:"formatting"});case"EEEEE":return r.day(e,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(e,{width:"short",context:"formatting"})||r.day(e,{width:"narrow",context:"formatting"});default:return r.day(e,{width:"wide",context:"formatting"})||r.day(e,{width:"abbreviated",context:"formatting"})||r.day(e,{width:"short",context:"formatting"})||r.day(e,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(e,t){return t>=0&&t<=6}},{key:"set",value:function(e,t,r,n){return(e=(0,Yd.default)(e,r,n)).setUTCHours(0,0,0,0),e}}]),r}(Ud.Parser);Td.DayParser=Ld;var Wd={},Fd=ja.exports.default;Object.defineProperty(Wd,"__esModule",{value:!0}),Wd.LocalDayParser=void 0;var Hd=Fd(fu.exports),Bd=Fd(pu.exports),qd=Fd(ou.exports),zd=Fd(su.exports),Vd=Fd(uu.exports),Qd=Fd(mu.exports),Jd=Su,Xd=zu,Gd=Fd(Sd.exports),Kd=function(e){(0,zd.default)(r,e);var t=(0,Vd.default)(r);function r(){var e;(0,Hd.default)(this,r);for(var n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return e=t.call.apply(t,[this].concat(a)),(0,Qd.default)((0,qd.default)(e),"priority",90),(0,Qd.default)((0,qd.default)(e),"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","c","t","T"]),e}return(0,Bd.default)(r,[{key:"parse",value:function(e,t,r,n){var a=function(e){var t=7*Math.floor((e-1)/7);return(e+n.weekStartsOn+6)%7+t};switch(t){case"e":case"ee":return(0,Xd.mapValue)((0,Xd.parseNDigits)(t.length,e),a);case"eo":return(0,Xd.mapValue)(r.ordinalNumber(e,{unit:"day"}),a);case"eee":return r.day(e,{width:"abbreviated",context:"formatting"})||r.day(e,{width:"short",context:"formatting"})||r.day(e,{width:"narrow",context:"formatting"});case"eeeee":return r.day(e,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(e,{width:"short",context:"formatting"})||r.day(e,{width:"narrow",context:"formatting"});default:return r.day(e,{width:"wide",context:"formatting"})||r.day(e,{width:"abbreviated",context:"formatting"})||r.day(e,{width:"short",context:"formatting"})||r.day(e,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(e,t){return t>=0&&t<=6}},{key:"set",value:function(e,t,r,n){return(e=(0,Gd.default)(e,r,n)).setUTCHours(0,0,0,0),e}}]),r}(Jd.Parser);Wd.LocalDayParser=Kd;var $d={},Zd=ja.exports.default;Object.defineProperty($d,"__esModule",{value:!0}),$d.StandAloneLocalDayParser=void 0;var ef=Zd(fu.exports),tf=Zd(pu.exports),rf=Zd(ou.exports),nf=Zd(su.exports),af=Zd(uu.exports),of=Zd(mu.exports),sf=Su,uf=zu,lf=Zd(Sd.exports),cf=function(e){(0,nf.default)(r,e);var t=(0,af.default)(r);function r(){var e;(0,ef.default)(this,r);for(var n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return e=t.call.apply(t,[this].concat(a)),(0,of.default)((0,rf.default)(e),"priority",90),(0,of.default)((0,rf.default)(e),"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","e","t","T"]),e}return(0,tf.default)(r,[{key:"parse",value:function(e,t,r,n){var a=function(e){var t=7*Math.floor((e-1)/7);return(e+n.weekStartsOn+6)%7+t};switch(t){case"c":case"cc":return(0,uf.mapValue)((0,uf.parseNDigits)(t.length,e),a);case"co":return(0,uf.mapValue)(r.ordinalNumber(e,{unit:"day"}),a);case"ccc":return r.day(e,{width:"abbreviated",context:"standalone"})||r.day(e,{width:"short",context:"standalone"})||r.day(e,{width:"narrow",context:"standalone"});case"ccccc":return r.day(e,{width:"narrow",context:"standalone"});case"cccccc":return r.day(e,{width:"short",context:"standalone"})||r.day(e,{width:"narrow",context:"standalone"});default:return r.day(e,{width:"wide",context:"standalone"})||r.day(e,{width:"abbreviated",context:"standalone"})||r.day(e,{width:"short",context:"standalone"})||r.day(e,{width:"narrow",context:"standalone"})}}},{key:"validate",value:function(e,t){return t>=0&&t<=6}},{key:"set",value:function(e,t,r,n){return(e=(0,lf.default)(e,r,n)).setUTCHours(0,0,0,0),e}}]),r}(sf.Parser);$d.StandAloneLocalDayParser=cf;var df={},ff={exports:{}};!function(e,t){var r=ja.exports.default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){(0,a.default)(2,arguments);var r=(0,o.default)(t);r%7==0&&(r-=7);var s=(0,n.default)(e),i=s.getUTCDay(),u=((r%7+7)%7<1?7:0)+r-i;return s.setUTCDate(s.getUTCDate()+u),s};var n=r(Ua.exports),a=r(Ya.exports),o=r(Aa.exports);e.exports=t.default}(ff,ff.exports);var pf=ja.exports.default;Object.defineProperty(df,"__esModule",{value:!0}),df.ISODayParser=void 0;var vf=pf(fu.exports),hf=pf(pu.exports),mf=pf(ou.exports),xf=pf(su.exports),gf=pf(uu.exports),yf=pf(mu.exports),bf=Su,wf=zu,Of=pf(ff.exports),_f=function(e){(0,xf.default)(r,e);var t=(0,gf.default)(r);function r(){var e;(0,vf.default)(this,r);for(var n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return e=t.call.apply(t,[this].concat(a)),(0,yf.default)((0,mf.default)(e),"priority",90),(0,yf.default)((0,mf.default)(e),"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","E","e","c","t","T"]),e}return(0,hf.default)(r,[{key:"parse",value:function(e,t,r){var n=function(e){return 0===e?7:e};switch(t){case"i":case"ii":return(0,wf.parseNDigits)(t.length,e);case"io":return r.ordinalNumber(e,{unit:"day"});case"iii":return(0,wf.mapValue)(r.day(e,{width:"abbreviated",context:"formatting"})||r.day(e,{width:"short",context:"formatting"})||r.day(e,{width:"narrow",context:"formatting"}),n);case"iiiii":return(0,wf.mapValue)(r.day(e,{width:"narrow",context:"formatting"}),n);case"iiiiii":return(0,wf.mapValue)(r.day(e,{width:"short",context:"formatting"})||r.day(e,{width:"narrow",context:"formatting"}),n);default:return(0,wf.mapValue)(r.day(e,{width:"wide",context:"formatting"})||r.day(e,{width:"abbreviated",context:"formatting"})||r.day(e,{width:"short",context:"formatting"})||r.day(e,{width:"narrow",context:"formatting"}),n)}}},{key:"validate",value:function(e,t){return t>=1&&t<=7}},{key:"set",value:function(e,t,r){return(e=(0,Of.default)(e,r)).setUTCHours(0,0,0,0),e}}]),r}(bf.Parser);df.ISODayParser=_f;var kf={},Mf=ja.exports.default;Object.defineProperty(kf,"__esModule",{value:!0}),kf.AMPMParser=void 0;var Pf=Mf(fu.exports),Ef=Mf(pu.exports),Tf=Mf(ou.exports),Sf=Mf(su.exports),Cf=Mf(uu.exports),Nf=Mf(mu.exports),jf=zu,Df=function(e){(0,Sf.default)(r,e);var t=(0,Cf.default)(r);function r(){var e;(0,Pf.default)(this,r);for(var n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return e=t.call.apply(t,[this].concat(a)),(0,Nf.default)((0,Tf.default)(e),"priority",80),(0,Nf.default)((0,Tf.default)(e),"incompatibleTokens",["b","B","H","k","t","T"]),e}return(0,Ef.default)(r,[{key:"parse",value:function(e,t,r){switch(t){case"a":case"aa":case"aaa":return r.dayPeriod(e,{width:"abbreviated",context:"formatting"})||r.dayPeriod(e,{width:"narrow",context:"formatting"});case"aaaaa":return r.dayPeriod(e,{width:"narrow",context:"formatting"});default:return r.dayPeriod(e,{width:"wide",context:"formatting"})||r.dayPeriod(e,{width:"abbreviated",context:"formatting"})||r.dayPeriod(e,{width:"narrow",context:"formatting"})}}},{key:"set",value:function(e,t,r){return e.setUTCHours((0,jf.dayPeriodEnumToHours)(r),0,0,0),e}}]),r}(Su.Parser);kf.AMPMParser=Df;var If={},Rf=ja.exports.default;Object.defineProperty(If,"__esModule",{value:!0}),If.AMPMMidnightParser=void 0;var Af=Rf(fu.exports),Uf=Rf(pu.exports),Yf=Rf(ou.exports),Lf=Rf(su.exports),Wf=Rf(uu.exports),Ff=Rf(mu.exports),Hf=zu,Bf=function(e){(0,Lf.default)(r,e);var t=(0,Wf.default)(r);function r(){var e;(0,Af.default)(this,r);for(var n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return e=t.call.apply(t,[this].concat(a)),(0,Ff.default)((0,Yf.default)(e),"priority",80),(0,Ff.default)((0,Yf.default)(e),"incompatibleTokens",["a","B","H","k","t","T"]),e}return(0,Uf.default)(r,[{key:"parse",value:function(e,t,r){switch(t){case"b":case"bb":case"bbb":return r.dayPeriod(e,{width:"abbreviated",context:"formatting"})||r.dayPeriod(e,{width:"narrow",context:"formatting"});case"bbbbb":return r.dayPeriod(e,{width:"narrow",context:"formatting"});default:return r.dayPeriod(e,{width:"wide",context:"formatting"})||r.dayPeriod(e,{width:"abbreviated",context:"formatting"})||r.dayPeriod(e,{width:"narrow",context:"formatting"})}}},{key:"set",value:function(e,t,r){return e.setUTCHours((0,Hf.dayPeriodEnumToHours)(r),0,0,0),e}}]),r}(Su.Parser);If.AMPMMidnightParser=Bf;var qf={},zf=ja.exports.default;Object.defineProperty(qf,"__esModule",{value:!0}),qf.DayPeriodParser=void 0;var Vf=zf(fu.exports),Qf=zf(pu.exports),Jf=zf(ou.exports),Xf=zf(su.exports),Gf=zf(uu.exports),Kf=zf(mu.exports),$f=zu,Zf=function(e){(0,Xf.default)(r,e);var t=(0,Gf.default)(r);function r(){var e;(0,Vf.default)(this,r);for(var n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return e=t.call.apply(t,[this].concat(a)),(0,Kf.default)((0,Jf.default)(e),"priority",80),(0,Kf.default)((0,Jf.default)(e),"incompatibleTokens",["a","b","t","T"]),e}return(0,Qf.default)(r,[{key:"parse",value:function(e,t,r){switch(t){case"B":case"BB":case"BBB":return r.dayPeriod(e,{width:"abbreviated",context:"formatting"})||r.dayPeriod(e,{width:"narrow",context:"formatting"});case"BBBBB":return r.dayPeriod(e,{width:"narrow",context:"formatting"});default:return r.dayPeriod(e,{width:"wide",context:"formatting"})||r.dayPeriod(e,{width:"abbreviated",context:"formatting"})||r.dayPeriod(e,{width:"narrow",context:"formatting"})}}},{key:"set",value:function(e,t,r){return e.setUTCHours((0,$f.dayPeriodEnumToHours)(r),0,0,0),e}}]),r}(Su.Parser);qf.DayPeriodParser=Zf;var ep={},tp=ja.exports.default;Object.defineProperty(ep,"__esModule",{value:!0}),ep.Hour1to12Parser=void 0;var rp=tp(fu.exports),np=tp(pu.exports),ap=tp(ou.exports),op=tp(su.exports),sp=tp(uu.exports),ip=tp(mu.exports),up=Vu,lp=zu,cp=function(e){(0,op.default)(r,e);var t=(0,sp.default)(r);function r(){var e;(0,rp.default)(this,r);for(var n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return e=t.call.apply(t,[this].concat(a)),(0,ip.default)((0,ap.default)(e),"priority",70),(0,ip.default)((0,ap.default)(e),"incompatibleTokens",["H","K","k","t","T"]),e}return(0,np.default)(r,[{key:"parse",value:function(e,t,r){switch(t){case"h":return(0,lp.parseNumericPattern)(up.numericPatterns.hour12h,e);case"ho":return r.ordinalNumber(e,{unit:"hour"});default:return(0,lp.parseNDigits)(t.length,e)}}},{key:"validate",value:function(e,t){return t>=1&&t<=12}},{key:"set",value:function(e,t,r){var n=e.getUTCHours()>=12;return n&&r<12?e.setUTCHours(r+12,0,0,0):n||12!==r?e.setUTCHours(r,0,0,0):e.setUTCHours(0,0,0,0),e}}]),r}(Su.Parser);ep.Hour1to12Parser=cp;var dp={},fp=ja.exports.default;Object.defineProperty(dp,"__esModule",{value:!0}),dp.Hour0to23Parser=void 0;var pp=fp(fu.exports),vp=fp(pu.exports),hp=fp(ou.exports),mp=fp(su.exports),xp=fp(uu.exports),gp=fp(mu.exports),yp=Vu,bp=zu,wp=function(e){(0,mp.default)(r,e);var t=(0,xp.default)(r);function r(){var e;(0,pp.default)(this,r);for(var n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return e=t.call.apply(t,[this].concat(a)),(0,gp.default)((0,hp.default)(e),"priority",70),(0,gp.default)((0,hp.default)(e),"incompatibleTokens",["a","b","h","K","k","t","T"]),e}return(0,vp.default)(r,[{key:"parse",value:function(e,t,r){switch(t){case"H":return(0,bp.parseNumericPattern)(yp.numericPatterns.hour23h,e);case"Ho":return r.ordinalNumber(e,{unit:"hour"});default:return(0,bp.parseNDigits)(t.length,e)}}},{key:"validate",value:function(e,t){return t>=0&&t<=23}},{key:"set",value:function(e,t,r){return e.setUTCHours(r,0,0,0),e}}]),r}(Su.Parser);dp.Hour0to23Parser=wp;var Op={},_p=ja.exports.default;Object.defineProperty(Op,"__esModule",{value:!0}),Op.Hour0To11Parser=void 0;var kp=_p(fu.exports),Mp=_p(pu.exports),Pp=_p(ou.exports),Ep=_p(su.exports),Tp=_p(uu.exports),Sp=_p(mu.exports),Cp=Vu,Np=zu,jp=function(e){(0,Ep.default)(r,e);var t=(0,Tp.default)(r);function r(){var e;(0,kp.default)(this,r);for(var n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return e=t.call.apply(t,[this].concat(a)),(0,Sp.default)((0,Pp.default)(e),"priority",70),(0,Sp.default)((0,Pp.default)(e),"incompatibleTokens",["h","H","k","t","T"]),e}return(0,Mp.default)(r,[{key:"parse",value:function(e,t,r){switch(t){case"K":return(0,Np.parseNumericPattern)(Cp.numericPatterns.hour11h,e);case"Ko":return r.ordinalNumber(e,{unit:"hour"});default:return(0,Np.parseNDigits)(t.length,e)}}},{key:"validate",value:function(e,t){return t>=0&&t<=11}},{key:"set",value:function(e,t,r){return e.getUTCHours()>=12&&r<12?e.setUTCHours(r+12,0,0,0):e.setUTCHours(r,0,0,0),e}}]),r}(Su.Parser);Op.Hour0To11Parser=jp;var Dp={},Ip=ja.exports.default;Object.defineProperty(Dp,"__esModule",{value:!0}),Dp.Hour1To24Parser=void 0;var Rp=Ip(fu.exports),Ap=Ip(pu.exports),Up=Ip(ou.exports),Yp=Ip(su.exports),Lp=Ip(uu.exports),Wp=Ip(mu.exports),Fp=Vu,Hp=zu,Bp=function(e){(0,Yp.default)(r,e);var t=(0,Lp.default)(r);function r(){var e;(0,Rp.default)(this,r);for(var n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return e=t.call.apply(t,[this].concat(a)),(0,Wp.default)((0,Up.default)(e),"priority",70),(0,Wp.default)((0,Up.default)(e),"incompatibleTokens",["a","b","h","H","K","t","T"]),e}return(0,Ap.default)(r,[{key:"parse",value:function(e,t,r){switch(t){case"k":return(0,Hp.parseNumericPattern)(Fp.numericPatterns.hour24h,e);case"ko":return r.ordinalNumber(e,{unit:"hour"});default:return(0,Hp.parseNDigits)(t.length,e)}}},{key:"validate",value:function(e,t){return t>=1&&t<=24}},{key:"set",value:function(e,t,r){var n=r<=24?r%24:r;return e.setUTCHours(n,0,0,0),e}}]),r}(Su.Parser);Dp.Hour1To24Parser=Bp;var qp={},zp=ja.exports.default;Object.defineProperty(qp,"__esModule",{value:!0}),qp.MinuteParser=void 0;var Vp=zp(fu.exports),Qp=zp(pu.exports),Jp=zp(ou.exports),Xp=zp(su.exports),Gp=zp(uu.exports),Kp=zp(mu.exports),$p=Vu,Zp=zu,ev=function(e){(0,Xp.default)(r,e);var t=(0,Gp.default)(r);function r(){var e;(0,Vp.default)(this,r);for(var n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return e=t.call.apply(t,[this].concat(a)),(0,Kp.default)((0,Jp.default)(e),"priority",60),(0,Kp.default)((0,Jp.default)(e),"incompatibleTokens",["t","T"]),e}return(0,Qp.default)(r,[{key:"parse",value:function(e,t,r){switch(t){case"m":return(0,Zp.parseNumericPattern)($p.numericPatterns.minute,e);case"mo":return r.ordinalNumber(e,{unit:"minute"});default:return(0,Zp.parseNDigits)(t.length,e)}}},{key:"validate",value:function(e,t){return t>=0&&t<=59}},{key:"set",value:function(e,t,r){return e.setUTCMinutes(r,0,0),e}}]),r}(Su.Parser);qp.MinuteParser=ev;var tv={},rv=ja.exports.default;Object.defineProperty(tv,"__esModule",{value:!0}),tv.SecondParser=void 0;var nv=rv(fu.exports),av=rv(pu.exports),ov=rv(ou.exports),sv=rv(su.exports),iv=rv(uu.exports),uv=rv(mu.exports),lv=Vu,cv=zu,dv=function(e){(0,sv.default)(r,e);var t=(0,iv.default)(r);function r(){var e;(0,nv.default)(this,r);for(var n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return e=t.call.apply(t,[this].concat(a)),(0,uv.default)((0,ov.default)(e),"priority",50),(0,uv.default)((0,ov.default)(e),"incompatibleTokens",["t","T"]),e}return(0,av.default)(r,[{key:"parse",value:function(e,t,r){switch(t){case"s":return(0,cv.parseNumericPattern)(lv.numericPatterns.second,e);case"so":return r.ordinalNumber(e,{unit:"second"});default:return(0,cv.parseNDigits)(t.length,e)}}},{key:"validate",value:function(e,t){return t>=0&&t<=59}},{key:"set",value:function(e,t,r){return e.setUTCSeconds(r,0),e}}]),r}(Su.Parser);tv.SecondParser=dv;var fv={},pv=ja.exports.default;Object.defineProperty(fv,"__esModule",{value:!0}),fv.FractionOfSecondParser=void 0;var vv=pv(fu.exports),hv=pv(pu.exports),mv=pv(ou.exports),xv=pv(su.exports),gv=pv(uu.exports),yv=pv(mu.exports),bv=zu,wv=function(e){(0,xv.default)(r,e);var t=(0,gv.default)(r);function r(){var e;(0,vv.default)(this,r);for(var n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return e=t.call.apply(t,[this].concat(a)),(0,yv.default)((0,mv.default)(e),"priority",30),(0,yv.default)((0,mv.default)(e),"incompatibleTokens",["t","T"]),e}return(0,hv.default)(r,[{key:"parse",value:function(e,t){return(0,bv.mapValue)((0,bv.parseNDigits)(t.length,e),(function(e){return Math.floor(e*Math.pow(10,3-t.length))}))}},{key:"set",value:function(e,t,r){return e.setUTCMilliseconds(r),e}}]),r}(Su.Parser);fv.FractionOfSecondParser=wv;var Ov={},_v=ja.exports.default;Object.defineProperty(Ov,"__esModule",{value:!0}),Ov.ISOTimezoneWithZParser=void 0;var kv=_v(fu.exports),Mv=_v(pu.exports),Pv=_v(ou.exports),Ev=_v(su.exports),Tv=_v(uu.exports),Sv=_v(mu.exports),Cv=Vu,Nv=zu,jv=function(e){(0,Ev.default)(r,e);var t=(0,Tv.default)(r);function r(){var e;(0,kv.default)(this,r);for(var n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return e=t.call.apply(t,[this].concat(a)),(0,Sv.default)((0,Pv.default)(e),"priority",10),(0,Sv.default)((0,Pv.default)(e),"incompatibleTokens",["t","T","x"]),e}return(0,Mv.default)(r,[{key:"parse",value:function(e,t){switch(t){case"X":return(0,Nv.parseTimezonePattern)(Cv.timezonePatterns.basicOptionalMinutes,e);case"XX":return(0,Nv.parseTimezonePattern)(Cv.timezonePatterns.basic,e);case"XXXX":return(0,Nv.parseTimezonePattern)(Cv.timezonePatterns.basicOptionalSeconds,e);case"XXXXX":return(0,Nv.parseTimezonePattern)(Cv.timezonePatterns.extendedOptionalSeconds,e);default:return(0,Nv.parseTimezonePattern)(Cv.timezonePatterns.extended,e)}}},{key:"set",value:function(e,t,r){return t.timestampIsSet?e:new Date(e.getTime()-r)}}]),r}(Su.Parser);Ov.ISOTimezoneWithZParser=jv;var Dv={},Iv=ja.exports.default;Object.defineProperty(Dv,"__esModule",{value:!0}),Dv.ISOTimezoneParser=void 0;var Rv=Iv(fu.exports),Av=Iv(pu.exports),Uv=Iv(ou.exports),Yv=Iv(su.exports),Lv=Iv(uu.exports),Wv=Iv(mu.exports),Fv=Vu,Hv=zu,Bv=function(e){(0,Yv.default)(r,e);var t=(0,Lv.default)(r);function r(){var e;(0,Rv.default)(this,r);for(var n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return e=t.call.apply(t,[this].concat(a)),(0,Wv.default)((0,Uv.default)(e),"priority",10),(0,Wv.default)((0,Uv.default)(e),"incompatibleTokens",["t","T","X"]),e}return(0,Av.default)(r,[{key:"parse",value:function(e,t){switch(t){case"x":return(0,Hv.parseTimezonePattern)(Fv.timezonePatterns.basicOptionalMinutes,e);case"xx":return(0,Hv.parseTimezonePattern)(Fv.timezonePatterns.basic,e);case"xxxx":return(0,Hv.parseTimezonePattern)(Fv.timezonePatterns.basicOptionalSeconds,e);case"xxxxx":return(0,Hv.parseTimezonePattern)(Fv.timezonePatterns.extendedOptionalSeconds,e);default:return(0,Hv.parseTimezonePattern)(Fv.timezonePatterns.extended,e)}}},{key:"set",value:function(e,t,r){return t.timestampIsSet?e:new Date(e.getTime()-r)}}]),r}(Su.Parser);Dv.ISOTimezoneParser=Bv;var qv={},zv=ja.exports.default;Object.defineProperty(qv,"__esModule",{value:!0}),qv.TimestampSecondsParser=void 0;var Vv=zv(fu.exports),Qv=zv(pu.exports),Jv=zv(ou.exports),Xv=zv(su.exports),Gv=zv(uu.exports),Kv=zv(mu.exports),$v=zu,Zv=function(e){(0,Xv.default)(r,e);var t=(0,Gv.default)(r);function r(){var e;(0,Vv.default)(this,r);for(var n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return e=t.call.apply(t,[this].concat(a)),(0,Kv.default)((0,Jv.default)(e),"priority",40),(0,Kv.default)((0,Jv.default)(e),"incompatibleTokens","*"),e}return(0,Qv.default)(r,[{key:"parse",value:function(e){return(0,$v.parseAnyDigitsSigned)(e)}},{key:"set",value:function(e,t,r){return[new Date(1e3*r),{timestampIsSet:!0}]}}]),r}(Su.Parser);qv.TimestampSecondsParser=Zv;var eh={},th=ja.exports.default;Object.defineProperty(eh,"__esModule",{value:!0}),eh.TimestampMillisecondsParser=void 0;var rh=th(fu.exports),nh=th(pu.exports),ah=th(ou.exports),oh=th(su.exports),sh=th(uu.exports),ih=th(mu.exports),uh=zu,lh=function(e){(0,oh.default)(r,e);var t=(0,sh.default)(r);function r(){var e;(0,rh.default)(this,r);for(var n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return e=t.call.apply(t,[this].concat(a)),(0,ih.default)((0,ah.default)(e),"priority",20),(0,ih.default)((0,ah.default)(e),"incompatibleTokens","*"),e}return(0,nh.default)(r,[{key:"parse",value:function(e){return(0,uh.parseAnyDigitsSigned)(e)}},{key:"set",value:function(e,t,r){return[new Date(r),{timestampIsSet:!0}]}}]),r}(Su.Parser);eh.TimestampMillisecondsParser=lh,Object.defineProperty(Eu,"__esModule",{value:!0}),Eu.parsers=void 0;var ch=qu,dh=ol,fh=gl,ph=Cl,vh=Wl,hh=Gl,mh=sc,xh=xc,gh=Tc,yh=Bc,bh=ad,wh=xd,Oh=Td,_h=Wd,kh=$d,Mh=df,Ph=kf,Eh=If,Th=qf,Sh=ep,Ch=dp,Nh=Op,jh=Dp,Dh=qp,Ih=tv,Rh=fv,Ah=Ov,Uh=Dv,Yh=qv,Lh=eh,Wh={G:new Tu.EraParser,y:new ch.YearParser,Y:new dh.LocalWeekYearParser,R:new fh.ISOWeekYearParser,u:new ph.ExtendedYearParser,Q:new vh.QuarterParser,q:new hh.StandAloneQuarterParser,M:new mh.MonthParser,L:new xh.StandAloneMonthParser,w:new gh.LocalWeekParser,I:new yh.ISOWeekParser,d:new bh.DateParser,D:new wh.DayOfYearParser,E:new Oh.DayParser,e:new _h.LocalDayParser,c:new kh.StandAloneLocalDayParser,i:new Mh.ISODayParser,a:new Ph.AMPMParser,b:new Eh.AMPMMidnightParser,B:new Th.DayPeriodParser,h:new Sh.Hour1to12Parser,H:new Ch.Hour0to23Parser,K:new Nh.Hour0To11Parser,k:new jh.Hour1To24Parser,m:new Dh.MinuteParser,s:new Ih.SecondParser,S:new Rh.FractionOfSecondParser,X:new Ah.ISOTimezoneWithZParser,x:new Uh.ISOTimezoneParser,t:new Yh.TimestampSecondsParser,T:new Lh.TimestampMillisecondsParser};Eu.parsers=Wh,function(e,t){var r=ja.exports.default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,r,_){var k,M,P,E,T,S,C,N,j,D,I,R,A,U,Y,L,W,F;(0,p.default)(3,arguments);var H=String(e),B=String(t),q=(0,m.getDefaultOptions)(),z=null!==(k=null!==(M=null==_?void 0:_.locale)&&void 0!==M?M:q.locale)&&void 0!==k?k:o.default;if(!z.match)throw new RangeError("locale must contain match property");var V=(0,f.default)(null!==(P=null!==(E=null!==(T=null!==(S=null==_?void 0:_.firstWeekContainsDate)&&void 0!==S?S:null==_||null===(C=_.locale)||void 0===C||null===(N=C.options)||void 0===N?void 0:N.firstWeekContainsDate)&&void 0!==T?T:q.firstWeekContainsDate)&&void 0!==E?E:null===(j=q.locale)||void 0===j||null===(D=j.options)||void 0===D?void 0:D.firstWeekContainsDate)&&void 0!==P?P:1);if(!(V>=1&&V<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var Q=(0,f.default)(null!==(I=null!==(R=null!==(A=null!==(U=null==_?void 0:_.weekStartsOn)&&void 0!==U?U:null==_||null===(Y=_.locale)||void 0===Y||null===(L=Y.options)||void 0===L?void 0:L.weekStartsOn)&&void 0!==A?A:q.weekStartsOn)&&void 0!==R?R:null===(W=q.locale)||void 0===W||null===(F=W.options)||void 0===F?void 0:F.weekStartsOn)&&void 0!==I?I:0);if(!(Q>=0&&Q<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(""===B)return""===H?(0,i.default)(r):new Date(NaN);var J,X={firstWeekContainsDate:V,weekStartsOn:Q,locale:z},G=[new v.DateToSystemTimezoneSetter],K=B.match(g).map((function(e){var t=e[0];return t in l.default?(0,l.default[t])(e,z.formatLong):e})).join("").match(x),$=[],Z=(0,a.default)(K);try{var te=function(){var t=J.value;null!=_&&_.useAdditionalWeekYearTokens||!(0,d.isProtectedWeekYearToken)(t)||(0,d.throwProtectedError)(t,B,e),null!=_&&_.useAdditionalDayOfYearTokens||!(0,d.isProtectedDayOfYearToken)(t)||(0,d.throwProtectedError)(t,B,e);var r=t[0],n=h.parsers[r];if(n){var a=n.incompatibleTokens;if(Array.isArray(a)){var o=$.find((function(e){return a.includes(e.token)||e.token===r}));if(o)throw new RangeError("The format string mustn't contain `".concat(o.fullToken,"` and `").concat(t,"` at the same time"))}else if("*"===n.incompatibleTokens&&$.length>0)throw new RangeError("The format string mustn't contain `".concat(t,"` and any other token at the same time"));$.push({token:r,fullToken:t});var s=n.run(H,t,z.match,X);if(!s)return{v:new Date(NaN)};G.push(s.setter),H=s.rest}else{if(r.match(O))throw new RangeError("Format string contains an unescaped latin alphabet character `"+r+"`");if("''"===t?t="'":"'"===r&&(t=t.match(y)[1].replace(b,"'")),0!==H.indexOf(t))return{v:new Date(NaN)};H=H.slice(t.length)}};for(Z.s();!(J=Z.n()).done;){var re=te();if("object"===(0,n.default)(re))return re.v}}catch(ee){Z.e(ee)}finally{Z.f()}if(H.length>0&&w.test(H))return new Date(NaN);var ne=G.map((function(e){return e.priority})).sort((function(e,t){return t-e})).filter((function(e,t,r){return r.indexOf(e)===t})).map((function(e){return G.filter((function(t){return t.priority===e})).sort((function(e,t){return t.subPriority-e.subPriority}))})).map((function(e){return e[0]})),ae=(0,i.default)(r);if(isNaN(ae.getTime()))return new Date(NaN);var oe,se=(0,s.default)(ae,(0,c.default)(ae)),ie={},ue=(0,a.default)(ne);try{for(ue.s();!(oe=ue.n()).done;){var le=oe.value;if(!le.validate(se,X))return new Date(NaN);var ce=le.set(se,ie,X);Array.isArray(ce)?(se=ce[0],(0,u.default)(ie,ce[1])):se=ce}}catch(ee){ue.e(ee)}finally{ue.f()}return se};var n=r(Ia.exports),a=r(tu.exports),o=r(Bs.exports),s=r(Ps.exports),i=r(Ua.exports),u=r(ri.exports),l=r(Ls.exports),c=r(to.exports),d=Ws,f=r(Aa.exports),p=r(Ya.exports),v=au,h=Eu,m=Ga,x=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,g=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,y=/^'([^]*?)'?$/,b=/''/g,w=/\S/,O=/[a-zA-Z]/;e.exports=t.default}(eu,eu.exports),function(e,t){var r=ja.exports.default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,r){return(0,o.default)(2,arguments),(0,a.default)((0,n.default)(e,t,new Date,r))};var n=r(eu.exports),a=r(Eo.exports),o=r(Ya.exports);e.exports=t.default}(Zi,Zi.exports);var Fh={exports:{}};!function(e,t){var r=ja.exports.default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,a.default)(1,arguments),1===(0,n.default)(e).getDay()};var n=r(Ua.exports),a=r(Ya.exports);e.exports=t.default}(Fh,Fh.exports);var Hh={exports:{}};!function(e,t){var r=ja.exports.default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,a.default)(1,arguments),(0,n.default)(e).getTime()<Date.now()};var n=r(Ua.exports),a=r(Ya.exports);e.exports=t.default}(Hh,Hh.exports);var Bh={exports:{}},qh={exports:{}};!function(e,t){var r=ja.exports.default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){(0,a.default)(1,arguments);var t=(0,n.default)(e);return t.setMinutes(0,0,0),t};var n=r(Ua.exports),a=r(Ya.exports);e.exports=t.default}(qh,qh.exports),function(e,t){var r=ja.exports.default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){(0,a.default)(2,arguments);var r=(0,n.default)(e),o=(0,n.default)(t);return r.getTime()===o.getTime()};var n=r(qh.exports),a=r(Ya.exports);e.exports=t.default}(Bh,Bh.exports);var zh={exports:{}},Vh={exports:{}};!function(e,t){var r=ja.exports.default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,r){(0,a.default)(2,arguments);var o=(0,n.default)(e,r),s=(0,n.default)(t,r);return o.getTime()===s.getTime()};var n=r(Xa.exports),a=r(Ya.exports);e.exports=t.default}(Vh,Vh.exports),function(e,t){var r=ja.exports.default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){return(0,a.default)(2,arguments),(0,n.default)(e,t,{weekStartsOn:1})};var n=r(Vh.exports),a=r(Ya.exports);e.exports=t.default}(zh,zh.exports);var Qh={exports:{}};!function(e,t){var r=ja.exports.default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){(0,a.default)(2,arguments);var r=(0,n.default)(e),o=(0,n.default)(t);return r.getTime()===o.getTime()};var n=r(Za.exports),a=r(Ya.exports);e.exports=t.default}(Qh,Qh.exports);var Jh={exports:{}};!function(e,t){var r=ja.exports.default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){(0,a.default)(2,arguments);var r=(0,n.default)(e),o=(0,n.default)(t);return r.getTime()===o.getTime()};var n=r(rs.exports),a=r(Ya.exports);e.exports=t.default}(Jh,Jh.exports);var Xh={exports:{}};!function(e,t){var r=ja.exports.default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){(0,a.default)(2,arguments);var r=(0,n.default)(e),o=(0,n.default)(t);return r.getFullYear()===o.getFullYear()&&r.getMonth()===o.getMonth()};var n=r(Ua.exports),a=r(Ya.exports);e.exports=t.default}(Xh,Xh.exports);var Gh={exports:{}};!function(e,t){var r=ja.exports.default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){(0,a.default)(2,arguments);var r=(0,n.default)(e),o=(0,n.default)(t);return r.getTime()===o.getTime()};var n=r(os.exports),a=r(Ya.exports);e.exports=t.default}(Gh,Gh.exports);var Kh={exports:{}},$h={exports:{}};!function(e,t){var r=ja.exports.default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){(0,a.default)(1,arguments);var t=(0,n.default)(e);return t.setMilliseconds(0),t};var n=r(Ua.exports),a=r(Ya.exports);e.exports=t.default}($h,$h.exports),function(e,t){var r=ja.exports.default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){(0,a.default)(2,arguments);var r=(0,n.default)(e),o=(0,n.default)(t);return r.getTime()===o.getTime()};var n=r($h.exports),a=r(Ya.exports);e.exports=t.default}(Kh,Kh.exports);var Zh={exports:{}};!function(e,t){var r=ja.exports.default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){(0,a.default)(2,arguments);var r=(0,n.default)(e),o=(0,n.default)(t);return r.getFullYear()===o.getFullYear()};var n=r(Ua.exports),a=r(Ya.exports);e.exports=t.default}(Zh,Zh.exports);var em={exports:{}};!function(e,t){var r=ja.exports.default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,a.default)(1,arguments),(0,n.default)(Date.now(),e)};var n=r(Bh.exports),a=r(Ya.exports);e.exports=t.default}(em,em.exports);var tm={exports:{}};!function(e,t){var r=ja.exports.default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,a.default)(1,arguments),(0,n.default)(e,Date.now())};var n=r(zh.exports),a=r(Ya.exports);e.exports=t.default}(tm,tm.exports);var rm={exports:{}};!function(e,t){var r=ja.exports.default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,a.default)(1,arguments),(0,n.default)(Date.now(),e)};var n=r(Jh.exports),a=r(Ya.exports);e.exports=t.default}(rm,rm.exports);var nm={exports:{}};!function(e,t){var r=ja.exports.default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,a.default)(1,arguments),(0,n.default)(Date.now(),e)};var n=r(Xh.exports),a=r(Ya.exports);e.exports=t.default}(nm,nm.exports);var am={exports:{}};!function(e,t){var r=ja.exports.default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,a.default)(1,arguments),(0,n.default)(Date.now(),e)};var n=r(Gh.exports),a=r(Ya.exports);e.exports=t.default}(am,am.exports);var om={exports:{}};!function(e,t){var r=ja.exports.default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,a.default)(1,arguments),(0,n.default)(Date.now(),e)};var n=r(Kh.exports),a=r(Ya.exports);e.exports=t.default}(om,om.exports);var sm={exports:{}};!function(e,t){var r=ja.exports.default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){return(0,a.default)(1,arguments),(0,n.default)(e,Date.now(),t)};var n=r(Vh.exports),a=r(Ya.exports);e.exports=t.default}(sm,sm.exports);var im={exports:{}};!function(e,t){var r=ja.exports.default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,a.default)(1,arguments),(0,n.default)(e,Date.now())};var n=r(Zh.exports),a=r(Ya.exports);e.exports=t.default}(im,im.exports);var um={exports:{}};!function(e,t){var r=ja.exports.default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,a.default)(1,arguments),4===(0,n.default)(e).getDay()};var n=r(Ua.exports),a=r(Ya.exports);e.exports=t.default}(um,um.exports);var lm={exports:{}};!function(e,t){var r=ja.exports.default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,a.default)(1,arguments),(0,n.default)(e,Date.now())};var n=r(Po.exports),a=r(Ya.exports);e.exports=t.default}(lm,lm.exports);var cm={exports:{}};!function(e,t){var r=ja.exports.default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,o.default)(1,arguments),(0,a.default)(e,(0,n.default)(Date.now(),1))};var n=r(Ra.exports),a=r(Po.exports),o=r(Ya.exports);e.exports=t.default}(cm,cm.exports);var dm={exports:{}};!function(e,t){var r=ja.exports.default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,a.default)(1,arguments),2===(0,n.default)(e).getDay()};var n=r(Ua.exports),a=r(Ya.exports);e.exports=t.default}(dm,dm.exports);var fm={exports:{}};!function(e,t){var r=ja.exports.default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,a.default)(1,arguments),3===(0,n.default)(e).getDay()};var n=r(Ua.exports),a=r(Ya.exports);e.exports=t.default}(fm,fm.exports);var pm={exports:{}};!function(e,t){var r=ja.exports.default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){(0,a.default)(2,arguments);var r=(0,n.default)(e).getTime(),o=(0,n.default)(t.start).getTime(),s=(0,n.default)(t.end).getTime();if(!(o<=s))throw new RangeError("Invalid interval");return r>=o&&r<=s};var n=r(Ua.exports),a=r(Ya.exports);e.exports=t.default}(pm,pm.exports);var vm={exports:{}},hm={exports:{}};!function(e,t){var r=ja.exports.default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){(0,a.default)(2,arguments);var r=(0,o.default)(t);return(0,n.default)(e,-r)};var n=r(Ra.exports),a=r(Ya.exports),o=r(Aa.exports);e.exports=t.default}(hm,hm.exports),function(e,t){var r=ja.exports.default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,o.default)(1,arguments),(0,n.default)(e,(0,a.default)(Date.now(),1))};var n=r(Po.exports),a=r(hm.exports),o=r(Ya.exports);e.exports=t.default}(vm,vm.exports);var mm={exports:{}};!function(e,t){var r=ja.exports.default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){(0,a.default)(1,arguments);var t=(0,n.default)(e),r=t.getFullYear(),o=9+10*Math.floor(r/10);return t.setFullYear(o+1,0,0),t.setHours(0,0,0,0),t};var n=r(Ua.exports),a=r(Ya.exports);e.exports=t.default}(mm,mm.exports);var xm={exports:{}},gm={exports:{}};!function(e,t){var r=ja.exports.default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var r,i,u,l,c,d,f,p;(0,o.default)(1,arguments);var v=(0,s.getDefaultOptions)(),h=(0,a.default)(null!==(r=null!==(i=null!==(u=null!==(l=null==t?void 0:t.weekStartsOn)&&void 0!==l?l:null==t||null===(c=t.locale)||void 0===c||null===(d=c.options)||void 0===d?void 0:d.weekStartsOn)&&void 0!==u?u:v.weekStartsOn)&&void 0!==i?i:null===(f=v.locale)||void 0===f||null===(p=f.options)||void 0===p?void 0:p.weekStartsOn)&&void 0!==r?r:0);if(!(h>=0&&h<=6))throw new RangeError("weekStartsOn must be between 0 and 6");var m=(0,n.default)(e),x=m.getDay(),g=6+(x<h?-7:0)-(x-h);return m.setHours(0,0,0,0),m.setDate(m.getDate()+g),m};var n=r(Ua.exports),a=r(Aa.exports),o=r(Ya.exports),s=Ga;e.exports=t.default}(gm,gm.exports),function(e,t){var r=ja.exports.default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,a.default)(1,arguments),(0,n.default)(e,{weekStartsOn:1})};var n=r(gm.exports),a=r(Ya.exports);e.exports=t.default}(xm,xm.exports);var ym={exports:{}};!function(e,t){var r=ja.exports.default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){(0,o.default)(1,arguments);var t=(0,n.default)(e),r=new Date(0);r.setFullYear(t+1,0,4),r.setHours(0,0,0,0);var s=(0,a.default)(r);return s.setDate(s.getDate()-1),s};var n=r(Qa.exports),a=r(Ja.exports),o=r(Ya.exports);e.exports=t.default}(ym,ym.exports);var bm={exports:{}};!function(e,t){var r=ja.exports.default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){(0,a.default)(1,arguments);var t=(0,n.default)(e),r=t.getMonth(),o=r-r%3+3;return t.setMonth(o,0),t.setHours(0,0,0,0),t};var n=r(Ua.exports),a=r(Ya.exports);e.exports=t.default}(bm,bm.exports);var wm={exports:{}};!function(e,t){var r=ja.exports.default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){(0,a.default)(1,arguments);var t=(0,n.default)(e),r=t.getFullYear();return t.setFullYear(r+1,0,0),t.setHours(0,0,0,0),t};var n=r(Ua.exports),a=r(Ya.exports);e.exports=t.default}(wm,wm.exports);var Om={exports:{}};!function(e,t){var r=ja.exports.default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){(0,u.default)(2,arguments);var r=(0,n.default)(e);if(!(0,s.default)(r))throw new RangeError("Invalid time value");var p=(0,o.default)(r),v=(0,i.default)(r,p),h=t.match(l);return h?h.map((function(e){if("''"===e)return"'";var t=e[0];if("'"===t)return function(e){var t=e.match(c);if(!t)return e;return t[1].replace(d,"'")}(e);var r=a.default[t];if(r)return r(v,e);if(t.match(f))throw new RangeError("Format string contains an unescaped latin alphabet character `"+t+"`");return e})).join(""):""};var n=r(Ua.exports),a=r(Ys.exports),o=r(to.exports),s=r(Eo.exports),i=r(Ps.exports),u=r(Ya.exports),l=/(\w)\1*|''|'(''|[^'])+('|$)|./g,c=/^'([^]*?)'?$/,d=/''/g,f=/[a-zA-Z]/;e.exports=t.default}(Om,Om.exports);var _m={exports:{}};!function(e,t){var r=ja.exports.default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.years,r=e.months,o=e.weeks,s=e.days,i=e.hours,u=e.minutes,l=e.seconds;(0,n.default)(1,arguments);var c=0;t&&(c+=t*a);r&&(c+=r*(a/12));o&&(c+=7*o);s&&(c+=s);var d=24*c*60*60;i&&(d+=60*i*60);u&&(d+=60*u);l&&(d+=l);return Math.round(1e3*d)};var n=r(Ya.exports),a=365.2425;e.exports=t.default}(_m,_m.exports);var km={exports:{}};!function(e,t){var r=ja.exports.default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){(0,n.default)(1,arguments);var t=e/a.millisecondsInHour;return Math.floor(t)};var n=r(Ya.exports),a=go;e.exports=t.default}(km,km.exports);var Mm={exports:{}};!function(e,t){var r=ja.exports.default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){(0,n.default)(1,arguments);var t=e/a.millisecondsInMinute;return Math.floor(t)};var n=r(Ya.exports),a=go;e.exports=t.default}(Mm,Mm.exports);var Pm={exports:{}};!function(e,t){var r=ja.exports.default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){(0,n.default)(1,arguments);var t=e/a.millisecondsInSecond;return Math.floor(t)};var n=r(Ya.exports),a=go;e.exports=t.default}(Pm,Pm.exports);var Em={exports:{}};!function(e,t){var r=ja.exports.default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){(0,n.default)(1,arguments);var t=e/a.minutesInHour;return Math.floor(t)};var n=r(Ya.exports),a=go;e.exports=t.default}(Em,Em.exports);var Tm={exports:{}};!function(e,t){var r=ja.exports.default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,n.default)(1,arguments),Math.floor(e*a.millisecondsInMinute)};var n=r(Ya.exports),a=go;e.exports=t.default}(Tm,Tm.exports);var Sm={exports:{}};!function(e,t){var r=ja.exports.default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,n.default)(1,arguments),Math.floor(e*a.secondsInMinute)};var n=r(Ya.exports),a=go;e.exports=t.default}(Sm,Sm.exports);var Cm={exports:{}};!function(e,t){var r=ja.exports.default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){(0,n.default)(1,arguments);var t=e/a.monthsInQuarter;return Math.floor(t)};var n=r(Ya.exports),a=go;e.exports=t.default}(Cm,Cm.exports);var Nm={exports:{}};!function(e,t){var r=ja.exports.default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){(0,n.default)(1,arguments);var t=e/a.monthsInYear;return Math.floor(t)};var n=r(Ya.exports),a=go;e.exports=t.default}(Nm,Nm.exports);var jm={exports:{}};!function(e,t){var r=ja.exports.default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){(0,o.default)(2,arguments);var r=t-(0,a.default)(e);r<=0&&(r+=7);return(0,n.default)(e,r)};var n=r(Ra.exports),a=r(hi.exports),o=r(Ya.exports);e.exports=t.default}(jm,jm.exports);var Dm={exports:{}};!function(e,t){var r=ja.exports.default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,a.default)(1,arguments),(0,n.default)(e,5)};var n=r(jm.exports),a=r(Ya.exports);e.exports=t.default}(Dm,Dm.exports);var Im={exports:{}};!function(e,t){var r=ja.exports.default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,a.default)(1,arguments),(0,n.default)(e,1)};var n=r(jm.exports),a=r(Ya.exports);e.exports=t.default}(Im,Im.exports);var Rm={exports:{}};!function(e,t){var r=ja.exports.default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,a.default)(1,arguments),(0,n.default)(e,6)};var n=r(jm.exports),a=r(Ya.exports);e.exports=t.default}(Rm,Rm.exports);var Am={exports:{}};!function(e,t){var r=ja.exports.default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,a.default)(1,arguments),(0,n.default)(e,0)};var n=r(jm.exports),a=r(Ya.exports);e.exports=t.default}(Am,Am.exports);var Um={exports:{}};!function(e,t){var r=ja.exports.default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,a.default)(1,arguments),(0,n.default)(e,4)};var n=r(jm.exports),a=r(Ya.exports);e.exports=t.default}(Um,Um.exports);var Ym={exports:{}};!function(e,t){var r=ja.exports.default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,a.default)(1,arguments),(0,n.default)(e,2)};var n=r(jm.exports),a=r(Ya.exports);e.exports=t.default}(Ym,Ym.exports);var Lm={exports:{}};!function(e,t){var r=ja.exports.default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,a.default)(1,arguments),(0,n.default)(e,3)};var n=r(jm.exports),a=r(Ya.exports);e.exports=t.default}(Lm,Lm.exports);var Wm={exports:{}};!function(e,t){var r=ja.exports.default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var r;(0,a.default)(1,arguments);var v=(0,o.default)(null!==(r=null==t?void 0:t.additionalDigits)&&void 0!==r?r:2);if(2!==v&&1!==v&&0!==v)throw new RangeError("additionalDigits must be 0, 1 or 2");if("string"!=typeof e&&"[object String]"!==Object.prototype.toString.call(e))return new Date(NaN);var h,m=function(e){var t,r={},n=e.split(s.dateTimeDelimiter);if(n.length>2)return r;/:/.test(n[0])?t=n[0]:(r.date=n[0],t=n[1],s.timeZoneDelimiter.test(r.date)&&(r.date=e.split(s.timeZoneDelimiter)[0],t=e.substr(r.date.length,e.length)));if(t){var a=s.timezone.exec(t);a?(r.time=t.replace(a[1],""),r.timezone=a[1]):r.time=t}return r}(e);if(m.date){var x=function(e,t){var r=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+t)+"})|(\\d{2}|[+-]\\d{"+(2+t)+"})$)"),n=e.match(r);if(!n)return{year:NaN,restDateString:""};var a=n[1]?parseInt(n[1]):null,o=n[2]?parseInt(n[2]):null;return{year:null===o?a:100*o,restDateString:e.slice((n[1]||n[2]).length)}}(m.date,v);h=function(e,t){if(null===t)return new Date(NaN);var r=e.match(i);if(!r)return new Date(NaN);var n=!!r[4],a=c(r[1]),o=c(r[2])-1,s=c(r[3]),u=c(r[4]),l=c(r[5])-1;if(n)return function(e,t,r){return t>=1&&t<=53&&r>=0&&r<=6}(0,u,l)?function(e,t,r){var n=new Date(0);n.setUTCFullYear(e,0,4);var a=n.getUTCDay()||7,o=7*(t-1)+r+1-a;return n.setUTCDate(n.getUTCDate()+o),n}(t,u,l):new Date(NaN);var d=new Date(0);return function(e,t,r){return t>=0&&t<=11&&r>=1&&r<=(f[t]||(p(e)?29:28))}(t,o,s)&&function(e,t){return t>=1&&t<=(p(e)?366:365)}(t,a)?(d.setUTCFullYear(t,o,Math.max(a,s)),d):new Date(NaN)}(x.restDateString,x.year)}if(!h||isNaN(h.getTime()))return new Date(NaN);var g,y=h.getTime(),b=0;if(m.time&&(b=function(e){var t=e.match(u);if(!t)return NaN;var r=d(t[1]),a=d(t[2]),o=d(t[3]);if(!function(e,t,r){if(24===e)return 0===t&&0===r;return r>=0&&r<60&&t>=0&&t<60&&e>=0&&e<25}(r,a,o))return NaN;return r*n.millisecondsInHour+a*n.millisecondsInMinute+1e3*o}(m.time),isNaN(b)))return new Date(NaN);if(!m.timezone){var w=new Date(y+b),O=new Date(0);return O.setFullYear(w.getUTCFullYear(),w.getUTCMonth(),w.getUTCDate()),O.setHours(w.getUTCHours(),w.getUTCMinutes(),w.getUTCSeconds(),w.getUTCMilliseconds()),O}if(g=function(e){if("Z"===e)return 0;var t=e.match(l);if(!t)return 0;var r="+"===t[1]?-1:1,a=parseInt(t[2]),o=t[3]&&parseInt(t[3])||0;if(!function(e,t){return t>=0&&t<=59}(0,o))return NaN;return r*(a*n.millisecondsInHour+o*n.millisecondsInMinute)}(m.timezone),isNaN(g))return new Date(NaN);return new Date(y+b+g)};var n=go,a=r(Ya.exports),o=r(Aa.exports);var s={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},i=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,u=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,l=/^([+-])(\d{2})(?::?(\d{2}))?$/;function c(e){return e?parseInt(e):1}function d(e){return e&&parseFloat(e.replace(",","."))||0}var f=[31,null,31,30,31,30,31,31,30,31,30,31];function p(e){return e%400==0||e%4==0&&e%100!=0}e.exports=t.default}(Wm,Wm.exports);var Fm={exports:{}};!function(e,t){var r=ja.exports.default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){if((0,a.default)(1,arguments),"string"==typeof e){var t=e.match(/(\d{4})-(\d{2})-(\d{2})[T ](\d{2}):(\d{2}):(\d{2})(?:\.(\d{0,7}))?(?:Z|(.)(\d{2}):?(\d{2})?)?/);return t?new Date(Date.UTC(+t[1],+t[2]-1,+t[3],+t[4]-(+t[9]||0)*("-"==t[8]?-1:1),+t[5]-(+t[10]||0)*("-"==t[8]?-1:1),+t[6],+((t[7]||"0")+"00").substring(0,3))):new Date(NaN)}return(0,n.default)(e)};var n=r(Ua.exports),a=r(Ya.exports);e.exports=t.default}(Fm,Fm.exports);var Hm={exports:{}};!function(e,t){var r=ja.exports.default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){(0,n.default)(2,arguments);var r=(0,a.default)(e)-t;r<=0&&(r+=7);return(0,o.default)(e,r)};var n=r(Ya.exports),a=r(hi.exports),o=r(hm.exports);e.exports=t.default}(Hm,Hm.exports);var Bm={exports:{}};!function(e,t){var r=ja.exports.default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,n.default)(1,arguments),(0,a.default)(e,5)};var n=r(Ya.exports),a=r(Hm.exports);e.exports=t.default}(Bm,Bm.exports);var qm={exports:{}};!function(e,t){var r=ja.exports.default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,n.default)(1,arguments),(0,a.default)(e,1)};var n=r(Ya.exports),a=r(Hm.exports);e.exports=t.default}(qm,qm.exports);var zm={exports:{}};!function(e,t){var r=ja.exports.default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,n.default)(1,arguments),(0,a.default)(e,6)};var n=r(Ya.exports),a=r(Hm.exports);e.exports=t.default}(zm,zm.exports);var Vm={exports:{}};!function(e,t){var r=ja.exports.default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,n.default)(1,arguments),(0,a.default)(e,0)};var n=r(Ya.exports),a=r(Hm.exports);e.exports=t.default}(Vm,Vm.exports);var Qm={exports:{}};!function(e,t){var r=ja.exports.default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,n.default)(1,arguments),(0,a.default)(e,4)};var n=r(Ya.exports),a=r(Hm.exports);e.exports=t.default}(Qm,Qm.exports);var Jm={exports:{}};!function(e,t){var r=ja.exports.default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,n.default)(1,arguments),(0,a.default)(e,2)};var n=r(Ya.exports),a=r(Hm.exports);e.exports=t.default}(Jm,Jm.exports);var Xm={exports:{}};!function(e,t){var r=ja.exports.default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,n.default)(1,arguments),(0,a.default)(e,3)};var n=r(Ya.exports),a=r(Hm.exports);e.exports=t.default}(Xm,Xm.exports);var Gm={exports:{}};!function(e,t){var r=ja.exports.default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,n.default)(1,arguments),Math.floor(e*a.monthsInQuarter)};var n=r(Ya.exports),a=go;e.exports=t.default}(Gm,Gm.exports);var Km={exports:{}};!function(e,t){var r=ja.exports.default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){(0,n.default)(1,arguments);var t=e/a.quartersInYear;return Math.floor(t)};var n=r(Ya.exports),a=go;e.exports=t.default}(Km,Km.exports);var $m={exports:{}};!function(e,t){var r=ja.exports.default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var r;if(arguments.length<1)throw new TypeError("1 argument required, but only none provided present");var s=(0,o.default)(null!==(r=null==t?void 0:t.nearestTo)&&void 0!==r?r:1);if(s<1||s>30)throw new RangeError("`options.nearestTo` must be between 1 and 30");var i=(0,n.default)(e),u=i.getSeconds(),l=i.getMinutes()+u/60,c=(0,a.getRoundingMethod)(null==t?void 0:t.roundingMethod)(l/s)*s,d=l%s,f=Math.round(d/s)*s;return new Date(i.getFullYear(),i.getMonth(),i.getDate(),i.getHours(),c+f)};var n=r(Ua.exports),a=Lo,o=r(Aa.exports);e.exports=t.default}($m,$m.exports);var Zm={exports:{}};!function(e,t){var r=ja.exports.default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){(0,n.default)(1,arguments);var t=e/a.secondsInHour;return Math.floor(t)};var n=r(Ya.exports),a=go;e.exports=t.default}(Zm,Zm.exports);var ex={exports:{}};!function(e,t){var r=ja.exports.default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,n.default)(1,arguments),e*a.millisecondsInSecond};var n=r(Ya.exports),a=go;e.exports=t.default}(ex,ex.exports);var tx={exports:{}};!function(e,t){var r=ja.exports.default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){(0,n.default)(1,arguments);var t=e/a.secondsInMinute;return Math.floor(t)};var n=r(Ya.exports),a=go;e.exports=t.default}(tx,tx.exports);var rx={exports:{}},nx={exports:{}};!function(e,t){var r=ja.exports.default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){(0,s.default)(2,arguments);var r=(0,a.default)(e),i=(0,n.default)(t),u=r.getFullYear(),l=r.getDate(),c=new Date(0);c.setFullYear(u,i,15),c.setHours(0,0,0,0);var d=(0,o.default)(c);return r.setMonth(i,Math.min(l,d)),r};var n=r(Aa.exports),a=r(Ua.exports),o=r(xi.exports),s=r(Ya.exports);e.exports=t.default}(nx,nx.exports),function(e,t){var r=ja.exports.default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if((0,i.default)(2,arguments),"object"!==(0,n.default)(t)||null===t)throw new RangeError("values parameter must be an object");var r=(0,a.default)(e);if(isNaN(r.getTime()))return new Date(NaN);null!=t.year&&r.setFullYear(t.year);null!=t.month&&(r=(0,o.default)(r,t.month));null!=t.date&&r.setDate((0,s.default)(t.date));null!=t.hours&&r.setHours((0,s.default)(t.hours));null!=t.minutes&&r.setMinutes((0,s.default)(t.minutes));null!=t.seconds&&r.setSeconds((0,s.default)(t.seconds));null!=t.milliseconds&&r.setMilliseconds((0,s.default)(t.milliseconds));return r};var n=r(Ia.exports),a=r(Ua.exports),o=r(nx.exports),s=r(Aa.exports),i=r(Ya.exports);e.exports=t.default}(rx,rx.exports);var ax={exports:{}};!function(e,t){var r=ja.exports.default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){(0,o.default)(2,arguments);var r=(0,a.default)(e),s=(0,n.default)(t);return r.setDate(s),r};var n=r(Aa.exports),a=r(Ua.exports),o=r(Ya.exports);e.exports=t.default}(ax,ax.exports);var ox={exports:{}};!function(e,t){var r=ja.exports.default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,r){var u,l,c,d,f,p,v,h;(0,s.default)(2,arguments);var m=(0,i.getDefaultOptions)(),x=(0,o.default)(null!==(u=null!==(l=null!==(c=null!==(d=null==r?void 0:r.weekStartsOn)&&void 0!==d?d:null==r||null===(f=r.locale)||void 0===f||null===(p=f.options)||void 0===p?void 0:p.weekStartsOn)&&void 0!==c?c:m.weekStartsOn)&&void 0!==l?l:null===(v=m.locale)||void 0===v||null===(h=v.options)||void 0===h?void 0:h.weekStartsOn)&&void 0!==u?u:0);if(!(x>=0&&x<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var g=(0,a.default)(e),y=(0,o.default)(t),b=g.getDay(),w=(y%7+7)%7,O=7-x,_=y<0||y>6?y-(b+O)%7:(w+O)%7-(b+O)%7;return(0,n.default)(g,_)};var n=r(Ra.exports),a=r(Ua.exports),o=r(Aa.exports),s=r(Ya.exports),i=Ga;e.exports=t.default}(ox,ox.exports);var sx={exports:{}};!function(e,t){var r=ja.exports.default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){(0,o.default)(2,arguments);var r=(0,a.default)(e),s=(0,n.default)(t);return r.setMonth(0),r.setDate(s),r};var n=r(Aa.exports),a=r(Ua.exports),o=r(Ya.exports);e.exports=t.default}(sx,sx.exports);var ix={exports:{}};!function(e,t){var r=ja.exports.default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){(0,a.default)(1,arguments);var t={},r=(0,n.getDefaultOptions)();for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o]);for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&(void 0===e[s]?delete t[s]:t[s]=e[s]);(0,n.setDefaultOptions)(t)};var n=Ga,a=r(Ya.exports);e.exports=t.default}(ix,ix.exports);var ux={exports:{}};!function(e,t){var r=ja.exports.default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){(0,o.default)(2,arguments);var r=(0,a.default)(e),s=(0,n.default)(t);return r.setHours(s),r};var n=r(Aa.exports),a=r(Ua.exports),o=r(Ya.exports);e.exports=t.default}(ux,ux.exports);var lx={exports:{}};!function(e,t){var r=ja.exports.default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){(0,i.default)(2,arguments);var r=(0,a.default)(e),u=(0,n.default)(t),l=(0,s.default)(r),c=u-l;return(0,o.default)(r,c)};var n=r(Aa.exports),a=r(Ua.exports),o=r(Ra.exports),s=r(_i.exports),i=r(Ya.exports);e.exports=t.default}(lx,lx.exports);var cx={exports:{}};!function(e,t){var r=ja.exports.default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){(0,s.default)(2,arguments);var r=(0,a.default)(e),i=(0,n.default)(t),u=(0,o.default)(r)-i;return r.setDate(r.getDate()-7*u),r};var n=r(Aa.exports),a=r(Ua.exports),o=r(ki.exports),s=r(Ya.exports);e.exports=t.default}(cx,cx.exports);var dx={exports:{}};!function(e,t){var r=ja.exports.default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){(0,o.default)(2,arguments);var r=(0,a.default)(e),s=(0,n.default)(t);return r.setMilliseconds(s),r};var n=r(Aa.exports),a=r(Ua.exports),o=r(Ya.exports);e.exports=t.default}(dx,dx.exports);var fx={exports:{}};!function(e,t){var r=ja.exports.default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){(0,o.default)(2,arguments);var r=(0,a.default)(e),s=(0,n.default)(t);return r.setMinutes(s),r};var n=r(Aa.exports),a=r(Ua.exports),o=r(Ya.exports);e.exports=t.default}(fx,fx.exports);var px={exports:{}};!function(e,t){var r=ja.exports.default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){(0,s.default)(2,arguments);var r=(0,a.default)(e),i=(0,n.default)(t),u=Math.floor(r.getMonth()/3)+1,l=i-u;return(0,o.default)(r,r.getMonth()+3*l)};var n=r(Aa.exports),a=r(Ua.exports),o=r(nx.exports),s=r(Ya.exports);e.exports=t.default}(px,px.exports);var vx={exports:{}};!function(e,t){var r=ja.exports.default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){(0,o.default)(2,arguments);var r=(0,a.default)(e),s=(0,n.default)(t);return r.setSeconds(s),r};var n=r(Aa.exports),a=r(Ua.exports),o=r(Ya.exports);e.exports=t.default}(vx,vx.exports);var hx={exports:{}};!function(e,t){var r=ja.exports.default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,r){(0,o.default)(2,arguments);var i=(0,a.default)(e),u=(0,s.default)(t),l=(0,n.default)(i,r)-u;return i.setDate(i.getDate()-7*l),i};var n=r(Di.exports),a=r(Ua.exports),o=r(Ya.exports),s=r(Aa.exports);e.exports=t.default}(hx,hx.exports);var mx={exports:{}};!function(e,t){var r=ja.exports.default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,r){var l,c,d,f,p,v,h,m;(0,i.default)(2,arguments);var x=(0,u.getDefaultOptions)(),g=(0,s.default)(null!==(l=null!==(c=null!==(d=null!==(f=null==r?void 0:r.firstWeekContainsDate)&&void 0!==f?f:null==r||null===(p=r.locale)||void 0===p||null===(v=p.options)||void 0===v?void 0:v.firstWeekContainsDate)&&void 0!==d?d:x.firstWeekContainsDate)&&void 0!==c?c:null===(h=x.locale)||void 0===h||null===(m=h.options)||void 0===m?void 0:m.firstWeekContainsDate)&&void 0!==l?l:1),y=(0,o.default)(e),b=(0,s.default)(t),w=(0,n.default)(y,(0,a.default)(y,r)),O=new Date(0);return O.setFullYear(b,0,g),O.setHours(0,0,0,0),(y=(0,a.default)(O,r)).setDate(y.getDate()+w),y};var n=r(eo.exports),a=r(Ii.exports),o=r(Ua.exports),s=r(Aa.exports),i=r(Ya.exports),u=Ga;e.exports=t.default}(mx,mx.exports);var xx={exports:{}};!function(e,t){var r=ja.exports.default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){(0,o.default)(2,arguments);var r=(0,a.default)(e),s=(0,n.default)(t);if(isNaN(r.getTime()))return new Date(NaN);return r.setFullYear(s),r};var n=r(Aa.exports),a=r(Ua.exports),o=r(Ya.exports);e.exports=t.default}(xx,xx.exports);var gx={exports:{}};!function(e,t){var r=ja.exports.default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){(0,a.default)(1,arguments);var t=(0,n.default)(e),r=t.getFullYear(),o=10*Math.floor(r/10);return t.setFullYear(o,0,1),t.setHours(0,0,0,0),t};var n=r(Ua.exports),a=r(Ya.exports);e.exports=t.default}(gx,gx.exports);var yx={exports:{}};!function(e,t){var r=ja.exports.default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){return(0,n.default)(Date.now())};var n=r(ro.exports);e.exports=t.default}(yx,yx.exports);var bx={exports:{}};!function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var e=new Date,t=e.getFullYear(),r=e.getMonth(),n=e.getDate(),a=new Date(0);return a.setFullYear(t,r,n+1),a.setHours(0,0,0,0),a},e.exports=t.default}(bx,bx.exports);var wx={exports:{}};!function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var e=new Date,t=e.getFullYear(),r=e.getMonth(),n=e.getDate(),a=new Date(0);return a.setFullYear(t,r,n-1),a.setHours(0,0,0,0),a},e.exports=t.default}(wx,wx.exports);var Ox={exports:{}},_x={exports:{}};!function(e,t){var r=ja.exports.default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){(0,o.default)(2,arguments);var r=(0,n.default)(t);return(0,a.default)(e,-r)};var n=r(Aa.exports),a=r(La.exports),o=r(Ya.exports);e.exports=t.default}(_x,_x.exports),function(e,t){var r=ja.exports.default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if((0,s.default)(2,arguments),!t||"object"!==(0,n.default)(t))return new Date(NaN);var r=t.years?(0,i.default)(t.years):0,u=t.months?(0,i.default)(t.months):0,l=t.weeks?(0,i.default)(t.weeks):0,c=t.days?(0,i.default)(t.days):0,d=t.hours?(0,i.default)(t.hours):0,f=t.minutes?(0,i.default)(t.minutes):0,p=t.seconds?(0,i.default)(t.seconds):0,v=(0,o.default)(e,u+12*r),h=(0,a.default)(v,c+7*l),m=1e3*(p+60*(f+60*d));return new Date(h.getTime()-m)};var n=r(Ia.exports),a=r(hm.exports),o=r(_x.exports),s=r(Ya.exports),i=r(Aa.exports);e.exports=t.default}(Ox,Ox.exports);var kx={exports:{}};!function(e,t){var r=ja.exports.default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){(0,a.default)(2,arguments);var r=(0,o.default)(t);return(0,n.default)(e,-r)};var n=r(Wa.exports),a=r(Ya.exports),o=r(Aa.exports);e.exports=t.default}(kx,kx.exports);var Mx={exports:{}};!function(e,t){var r=ja.exports.default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){(0,a.default)(2,arguments);var r=(0,o.default)(t);return(0,n.default)(e,-r)};var n=r(qa.exports),a=r(Ya.exports),o=r(Aa.exports);e.exports=t.default}(Mx,Mx.exports);var Px={exports:{}};!function(e,t){var r=ja.exports.default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){(0,a.default)(2,arguments);var r=(0,o.default)(t);return(0,n.default)(e,-r)};var n=r(no.exports),a=r(Ya.exports),o=r(Aa.exports);e.exports=t.default}(Px,Px.exports);var Ex={exports:{}};!function(e,t){var r=ja.exports.default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){(0,o.default)(2,arguments);var r=(0,n.default)(t);return(0,a.default)(e,-r)};var n=r(Aa.exports),a=r(ao.exports),o=r(Ya.exports);e.exports=t.default}(Ex,Ex.exports);var Tx={exports:{}};!function(e,t){var r=ja.exports.default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){(0,o.default)(2,arguments);var r=(0,n.default)(t);return(0,a.default)(e,-r)};var n=r(Aa.exports),a=r(oo.exports),o=r(Ya.exports);e.exports=t.default}(Tx,Tx.exports);var Sx={exports:{}};!function(e,t){var r=ja.exports.default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){(0,o.default)(2,arguments);var r=(0,n.default)(t);return(0,a.default)(e,-r)};var n=r(Aa.exports),a=r(so.exports),o=r(Ya.exports);e.exports=t.default}(Sx,Sx.exports);var Cx={exports:{}};!function(e,t){var r=ja.exports.default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){(0,o.default)(2,arguments);var r=(0,n.default)(t);return(0,a.default)(e,-r)};var n=r(Aa.exports),a=r(io.exports),o=r(Ya.exports);e.exports=t.default}(Cx,Cx.exports);var Nx={exports:{}};!function(e,t){var r=ja.exports.default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,n.default)(1,arguments),Math.floor(e*a.daysInWeek)};var n=r(Ya.exports),a=go;e.exports=t.default}(Nx,Nx.exports);var jx={exports:{}};!function(e,t){var r=ja.exports.default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,n.default)(1,arguments),Math.floor(e*a.monthsInYear)};var n=r(Ya.exports),a=go;e.exports=t.default}(jx,jx.exports);var Dx,Ix={exports:{}};function Rx(e,t){var r,n;switch(void 0===t&&(t="ssml"),typeof e){case"string":r=e;break;case"number":r="".concat(e)}return Ax(e)&&(r=Ux(e,t)),(n=e)&&(n.start||n.end)&&(r=function(e,t){void 0===t&&(t="ssml");if(!e)return"";var r=e.start,n=e.end,a=new Date,o="".concat(Ux(r,t)," to ").concat(Ux(n,t));Na.isSameDay(Na.parse(r.date,"y-M-d",a),Na.parse(n.date,"y-M-d",a))&&(o="on ".concat(Ux({date:r.date},t)," from ").concat(Ux({time:r.time},t)," to ").concat(Ux({time:n.time},t)));return o}(e,t)),function(e){return!!e&&"object"==typeof e&&"number"==typeof e.amount&&"string"==typeof e.format}(e)&&(r=function(e,t){void 0===t&&(t="ssml");if(!e)return"";var r=e.amount>1,n="ssml"===t?'<say-as interpret-as="cardinal">'.concat(e.amount,"</say-as>"):e.amount,a=Yx[e.format],o=e.format;Object.keys(Yx).forEach((function(e){Yx[e]===a&&e.length>o.length&&!e.endsWith("s")&&(o=e)}));var s=r?"".concat(o,"s"):o;return"".concat(n," ").concat(s)}(e,t)),Array.isArray(e)&&(r=function(e,t){void 0===t&&(t=Dx.or);var r=Dx[t];if(!e||0===e.length)return"";if(1===e.length)return e[0];if(e.length>=2){var n=e.length-2;return e.reduce((function(e,t,a){return e+=t,a<n?e+=", ":a===n&&(e+=" ".concat(r," ")),e}),"")}}(e,Dx.and)),r}function Ax(e){return!(!e||!e.date&&!e.time)}function Ux(e,t){if(void 0===t&&(t="ssml"),!e)return"";var r=z({},e);r.date||(r.date="yyyy-MM-dd");var n=Date.parse(function(e){if("object"!=typeof e)return"";var t="";try{if(Ax(e)){var r=e.date?Na.format(Na.parse(e.date,"y-M-d",new Date),"yyyy-MM-dd"):void 0,n=e.time;t="".concat(r||"").concat(r&&n?"T":"").concat(n||"")}else{var a=e.start,o=e.end;if(a){r=a.date?Na.format(Na.parse(a.date,"y-M-d",new Date),"yyyy-MM-dd"):void 0,n=a.time;t="".concat(r||"").concat(r&&n?"T":"").concat(n||"")}if(a&&o&&(t+=" --\x3e "),o){r=o.date?Na.format(Na.parse(o.date,"y-M-d",new Date),"yyyy-MM-dd"):void 0,n=o.time;t+="".concat(r||"").concat(r&&n?"T":"").concat(n||"")}}}catch(s){console.error(s)}return t}(r)),a="";return e.date&&(a+="ssml"===t?'<say-as interpret-as="date" format="ymd">'.concat(Na.format(n,"yyyy-MM-dd"),"</say-as>"):"".concat(Na.format(n,"M-d-yyyy"))),e.time&&("ssml"===t?a+='<say-as interpret-as="time">'.concat(Na.format(n,"h:mm aa"),"</say-as>"):(a.length>0&&(a+=" "),a+="".concat(Na.format(n,"h:mm aa")))),a}!function(e,t){var r=ja.exports.default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,n.default)(1,arguments),Math.floor(e*a.quartersInYear)};var n=r(Ya.exports),a=go;e.exports=t.default}(Ix,Ix.exports),function(e){var t=ja.exports.default;Object.defineProperty(e,"__esModule",{value:!0});var r={add:!0,addBusinessDays:!0,addDays:!0,addHours:!0,addISOWeekYears:!0,addMilliseconds:!0,addMinutes:!0,addMonths:!0,addQuarters:!0,addSeconds:!0,addWeeks:!0,addYears:!0,areIntervalsOverlapping:!0,clamp:!0,closestIndexTo:!0,closestTo:!0,compareAsc:!0,compareDesc:!0,daysToWeeks:!0,differenceInBusinessDays:!0,differenceInCalendarDays:!0,differenceInCalendarISOWeekYears:!0,differenceInCalendarISOWeeks:!0,differenceInCalendarMonths:!0,differenceInCalendarQuarters:!0,differenceInCalendarWeeks:!0,differenceInCalendarYears:!0,differenceInDays:!0,differenceInHours:!0,differenceInISOWeekYears:!0,differenceInMilliseconds:!0,differenceInMinutes:!0,differenceInMonths:!0,differenceInQuarters:!0,differenceInSeconds:!0,differenceInWeeks:!0,differenceInYears:!0,eachDayOfInterval:!0,eachHourOfInterval:!0,eachMinuteOfInterval:!0,eachMonthOfInterval:!0,eachQuarterOfInterval:!0,eachWeekOfInterval:!0,eachWeekendOfInterval:!0,eachWeekendOfMonth:!0,eachWeekendOfYear:!0,eachYearOfInterval:!0,endOfDay:!0,endOfDecade:!0,endOfHour:!0,endOfISOWeek:!0,endOfISOWeekYear:!0,endOfMinute:!0,endOfMonth:!0,endOfQuarter:!0,endOfSecond:!0,endOfToday:!0,endOfTomorrow:!0,endOfWeek:!0,endOfYear:!0,endOfYesterday:!0,format:!0,formatDistance:!0,formatDistanceStrict:!0,formatDistanceToNow:!0,formatDistanceToNowStrict:!0,formatDuration:!0,formatISO:!0,formatISO9075:!0,formatISODuration:!0,formatRFC3339:!0,formatRFC7231:!0,formatRelative:!0,fromUnixTime:!0,getDate:!0,getDay:!0,getDayOfYear:!0,getDaysInMonth:!0,getDaysInYear:!0,getDecade:!0,getDefaultOptions:!0,getHours:!0,getISODay:!0,getISOWeek:!0,getISOWeekYear:!0,getISOWeeksInYear:!0,getMilliseconds:!0,getMinutes:!0,getMonth:!0,getOverlappingDaysInIntervals:!0,getQuarter:!0,getSeconds:!0,getTime:!0,getUnixTime:!0,getWeek:!0,getWeekOfMonth:!0,getWeekYear:!0,getWeeksInMonth:!0,getYear:!0,hoursToMilliseconds:!0,hoursToMinutes:!0,hoursToSeconds:!0,intervalToDuration:!0,intlFormat:!0,intlFormatDistance:!0,isAfter:!0,isBefore:!0,isDate:!0,isEqual:!0,isExists:!0,isFirstDayOfMonth:!0,isFriday:!0,isFuture:!0,isLastDayOfMonth:!0,isLeapYear:!0,isMatch:!0,isMonday:!0,isPast:!0,isSameDay:!0,isSameHour:!0,isSameISOWeek:!0,isSameISOWeekYear:!0,isSameMinute:!0,isSameMonth:!0,isSameQuarter:!0,isSameSecond:!0,isSameWeek:!0,isSameYear:!0,isSaturday:!0,isSunday:!0,isThisHour:!0,isThisISOWeek:!0,isThisMinute:!0,isThisMonth:!0,isThisQuarter:!0,isThisSecond:!0,isThisWeek:!0,isThisYear:!0,isThursday:!0,isToday:!0,isTomorrow:!0,isTuesday:!0,isValid:!0,isWednesday:!0,isWeekend:!0,isWithinInterval:!0,isYesterday:!0,lastDayOfDecade:!0,lastDayOfISOWeek:!0,lastDayOfISOWeekYear:!0,lastDayOfMonth:!0,lastDayOfQuarter:!0,lastDayOfWeek:!0,lastDayOfYear:!0,lightFormat:!0,max:!0,milliseconds:!0,millisecondsToHours:!0,millisecondsToMinutes:!0,millisecondsToSeconds:!0,min:!0,minutesToHours:!0,minutesToMilliseconds:!0,minutesToSeconds:!0,monthsToQuarters:!0,monthsToYears:!0,nextDay:!0,nextFriday:!0,nextMonday:!0,nextSaturday:!0,nextSunday:!0,nextThursday:!0,nextTuesday:!0,nextWednesday:!0,parse:!0,parseISO:!0,parseJSON:!0,previousDay:!0,previousFriday:!0,previousMonday:!0,previousSaturday:!0,previousSunday:!0,previousThursday:!0,previousTuesday:!0,previousWednesday:!0,quartersToMonths:!0,quartersToYears:!0,roundToNearestMinutes:!0,secondsToHours:!0,secondsToMilliseconds:!0,secondsToMinutes:!0,set:!0,setDate:!0,setDay:!0,setDayOfYear:!0,setDefaultOptions:!0,setHours:!0,setISODay:!0,setISOWeek:!0,setISOWeekYear:!0,setMilliseconds:!0,setMinutes:!0,setMonth:!0,setQuarter:!0,setSeconds:!0,setWeek:!0,setWeekYear:!0,setYear:!0,startOfDay:!0,startOfDecade:!0,startOfHour:!0,startOfISOWeek:!0,startOfISOWeekYear:!0,startOfMinute:!0,startOfMonth:!0,startOfQuarter:!0,startOfSecond:!0,startOfToday:!0,startOfTomorrow:!0,startOfWeek:!0,startOfWeekYear:!0,startOfYear:!0,startOfYesterday:!0,sub:!0,subBusinessDays:!0,subDays:!0,subHours:!0,subISOWeekYears:!0,subMilliseconds:!0,subMinutes:!0,subMonths:!0,subQuarters:!0,subSeconds:!0,subWeeks:!0,subYears:!0,toDate:!0,weeksToDays:!0,yearsToMonths:!0,yearsToQuarters:!0};Object.defineProperty(e,"add",{enumerable:!0,get:function(){return n.default}}),Object.defineProperty(e,"addBusinessDays",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(e,"addDays",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(e,"addHours",{enumerable:!0,get:function(){return s.default}}),Object.defineProperty(e,"addISOWeekYears",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(e,"addMilliseconds",{enumerable:!0,get:function(){return u.default}}),Object.defineProperty(e,"addMinutes",{enumerable:!0,get:function(){return l.default}}),Object.defineProperty(e,"addMonths",{enumerable:!0,get:function(){return c.default}}),Object.defineProperty(e,"addQuarters",{enumerable:!0,get:function(){return d.default}}),Object.defineProperty(e,"addSeconds",{enumerable:!0,get:function(){return f.default}}),Object.defineProperty(e,"addWeeks",{enumerable:!0,get:function(){return p.default}}),Object.defineProperty(e,"addYears",{enumerable:!0,get:function(){return v.default}}),Object.defineProperty(e,"areIntervalsOverlapping",{enumerable:!0,get:function(){return h.default}}),Object.defineProperty(e,"clamp",{enumerable:!0,get:function(){return m.default}}),Object.defineProperty(e,"closestIndexTo",{enumerable:!0,get:function(){return x.default}}),Object.defineProperty(e,"closestTo",{enumerable:!0,get:function(){return g.default}}),Object.defineProperty(e,"compareAsc",{enumerable:!0,get:function(){return y.default}}),Object.defineProperty(e,"compareDesc",{enumerable:!0,get:function(){return b.default}}),Object.defineProperty(e,"daysToWeeks",{enumerable:!0,get:function(){return w.default}}),Object.defineProperty(e,"differenceInBusinessDays",{enumerable:!0,get:function(){return O.default}}),Object.defineProperty(e,"differenceInCalendarDays",{enumerable:!0,get:function(){return _.default}}),Object.defineProperty(e,"differenceInCalendarISOWeekYears",{enumerable:!0,get:function(){return k.default}}),Object.defineProperty(e,"differenceInCalendarISOWeeks",{enumerable:!0,get:function(){return M.default}}),Object.defineProperty(e,"differenceInCalendarMonths",{enumerable:!0,get:function(){return P.default}}),Object.defineProperty(e,"differenceInCalendarQuarters",{enumerable:!0,get:function(){return E.default}}),Object.defineProperty(e,"differenceInCalendarWeeks",{enumerable:!0,get:function(){return T.default}}),Object.defineProperty(e,"differenceInCalendarYears",{enumerable:!0,get:function(){return S.default}}),Object.defineProperty(e,"differenceInDays",{enumerable:!0,get:function(){return C.default}}),Object.defineProperty(e,"differenceInHours",{enumerable:!0,get:function(){return N.default}}),Object.defineProperty(e,"differenceInISOWeekYears",{enumerable:!0,get:function(){return j.default}}),Object.defineProperty(e,"differenceInMilliseconds",{enumerable:!0,get:function(){return D.default}}),Object.defineProperty(e,"differenceInMinutes",{enumerable:!0,get:function(){return I.default}}),Object.defineProperty(e,"differenceInMonths",{enumerable:!0,get:function(){return R.default}}),Object.defineProperty(e,"differenceInQuarters",{enumerable:!0,get:function(){return A.default}}),Object.defineProperty(e,"differenceInSeconds",{enumerable:!0,get:function(){return U.default}}),Object.defineProperty(e,"differenceInWeeks",{enumerable:!0,get:function(){return Y.default}}),Object.defineProperty(e,"differenceInYears",{enumerable:!0,get:function(){return L.default}}),Object.defineProperty(e,"eachDayOfInterval",{enumerable:!0,get:function(){return W.default}}),Object.defineProperty(e,"eachHourOfInterval",{enumerable:!0,get:function(){return F.default}}),Object.defineProperty(e,"eachMinuteOfInterval",{enumerable:!0,get:function(){return H.default}}),Object.defineProperty(e,"eachMonthOfInterval",{enumerable:!0,get:function(){return B.default}}),Object.defineProperty(e,"eachQuarterOfInterval",{enumerable:!0,get:function(){return q.default}}),Object.defineProperty(e,"eachWeekOfInterval",{enumerable:!0,get:function(){return z.default}}),Object.defineProperty(e,"eachWeekendOfInterval",{enumerable:!0,get:function(){return V.default}}),Object.defineProperty(e,"eachWeekendOfMonth",{enumerable:!0,get:function(){return Q.default}}),Object.defineProperty(e,"eachWeekendOfYear",{enumerable:!0,get:function(){return J.default}}),Object.defineProperty(e,"eachYearOfInterval",{enumerable:!0,get:function(){return X.default}}),Object.defineProperty(e,"endOfDay",{enumerable:!0,get:function(){return G.default}}),Object.defineProperty(e,"endOfDecade",{enumerable:!0,get:function(){return K.default}}),Object.defineProperty(e,"endOfHour",{enumerable:!0,get:function(){return $.default}}),Object.defineProperty(e,"endOfISOWeek",{enumerable:!0,get:function(){return Z.default}}),Object.defineProperty(e,"endOfISOWeekYear",{enumerable:!0,get:function(){return ee.default}}),Object.defineProperty(e,"endOfMinute",{enumerable:!0,get:function(){return te.default}}),Object.defineProperty(e,"endOfMonth",{enumerable:!0,get:function(){return re.default}}),Object.defineProperty(e,"endOfQuarter",{enumerable:!0,get:function(){return ne.default}}),Object.defineProperty(e,"endOfSecond",{enumerable:!0,get:function(){return ae.default}}),Object.defineProperty(e,"endOfToday",{enumerable:!0,get:function(){return oe.default}}),Object.defineProperty(e,"endOfTomorrow",{enumerable:!0,get:function(){return se.default}}),Object.defineProperty(e,"endOfWeek",{enumerable:!0,get:function(){return ie.default}}),Object.defineProperty(e,"endOfYear",{enumerable:!0,get:function(){return ue.default}}),Object.defineProperty(e,"endOfYesterday",{enumerable:!0,get:function(){return le.default}}),Object.defineProperty(e,"format",{enumerable:!0,get:function(){return ce.default}}),Object.defineProperty(e,"formatDistance",{enumerable:!0,get:function(){return de.default}}),Object.defineProperty(e,"formatDistanceStrict",{enumerable:!0,get:function(){return fe.default}}),Object.defineProperty(e,"formatDistanceToNow",{enumerable:!0,get:function(){return pe.default}}),Object.defineProperty(e,"formatDistanceToNowStrict",{enumerable:!0,get:function(){return ve.default}}),Object.defineProperty(e,"formatDuration",{enumerable:!0,get:function(){return he.default}}),Object.defineProperty(e,"formatISO",{enumerable:!0,get:function(){return me.default}}),Object.defineProperty(e,"formatISO9075",{enumerable:!0,get:function(){return xe.default}}),Object.defineProperty(e,"formatISODuration",{enumerable:!0,get:function(){return ge.default}}),Object.defineProperty(e,"formatRFC3339",{enumerable:!0,get:function(){return ye.default}}),Object.defineProperty(e,"formatRFC7231",{enumerable:!0,get:function(){return be.default}}),Object.defineProperty(e,"formatRelative",{enumerable:!0,get:function(){return we.default}}),Object.defineProperty(e,"fromUnixTime",{enumerable:!0,get:function(){return Oe.default}}),Object.defineProperty(e,"getDate",{enumerable:!0,get:function(){return _e.default}}),Object.defineProperty(e,"getDay",{enumerable:!0,get:function(){return ke.default}}),Object.defineProperty(e,"getDayOfYear",{enumerable:!0,get:function(){return Me.default}}),Object.defineProperty(e,"getDaysInMonth",{enumerable:!0,get:function(){return Pe.default}}),Object.defineProperty(e,"getDaysInYear",{enumerable:!0,get:function(){return Ee.default}}),Object.defineProperty(e,"getDecade",{enumerable:!0,get:function(){return Te.default}}),Object.defineProperty(e,"getDefaultOptions",{enumerable:!0,get:function(){return Se.default}}),Object.defineProperty(e,"getHours",{enumerable:!0,get:function(){return Ce.default}}),Object.defineProperty(e,"getISODay",{enumerable:!0,get:function(){return Ne.default}}),Object.defineProperty(e,"getISOWeek",{enumerable:!0,get:function(){return je.default}}),Object.defineProperty(e,"getISOWeekYear",{enumerable:!0,get:function(){return De.default}}),Object.defineProperty(e,"getISOWeeksInYear",{enumerable:!0,get:function(){return Ie.default}}),Object.defineProperty(e,"getMilliseconds",{enumerable:!0,get:function(){return Re.default}}),Object.defineProperty(e,"getMinutes",{enumerable:!0,get:function(){return Ae.default}}),Object.defineProperty(e,"getMonth",{enumerable:!0,get:function(){return Ue.default}}),Object.defineProperty(e,"getOverlappingDaysInIntervals",{enumerable:!0,get:function(){return Ye.default}}),Object.defineProperty(e,"getQuarter",{enumerable:!0,get:function(){return Le.default}}),Object.defineProperty(e,"getSeconds",{enumerable:!0,get:function(){return We.default}}),Object.defineProperty(e,"getTime",{enumerable:!0,get:function(){return Fe.default}}),Object.defineProperty(e,"getUnixTime",{enumerable:!0,get:function(){return He.default}}),Object.defineProperty(e,"getWeek",{enumerable:!0,get:function(){return Be.default}}),Object.defineProperty(e,"getWeekOfMonth",{enumerable:!0,get:function(){return qe.default}}),Object.defineProperty(e,"getWeekYear",{enumerable:!0,get:function(){return ze.default}}),Object.defineProperty(e,"getWeeksInMonth",{enumerable:!0,get:function(){return Ve.default}}),Object.defineProperty(e,"getYear",{enumerable:!0,get:function(){return Qe.default}}),Object.defineProperty(e,"hoursToMilliseconds",{enumerable:!0,get:function(){return Je.default}}),Object.defineProperty(e,"hoursToMinutes",{enumerable:!0,get:function(){return Xe.default}}),Object.defineProperty(e,"hoursToSeconds",{enumerable:!0,get:function(){return Ge.default}}),Object.defineProperty(e,"intervalToDuration",{enumerable:!0,get:function(){return Ke.default}}),Object.defineProperty(e,"intlFormat",{enumerable:!0,get:function(){return $e.default}}),Object.defineProperty(e,"intlFormatDistance",{enumerable:!0,get:function(){return Ze.default}}),Object.defineProperty(e,"isAfter",{enumerable:!0,get:function(){return et.default}}),Object.defineProperty(e,"isBefore",{enumerable:!0,get:function(){return tt.default}}),Object.defineProperty(e,"isDate",{enumerable:!0,get:function(){return rt.default}}),Object.defineProperty(e,"isEqual",{enumerable:!0,get:function(){return nt.default}}),Object.defineProperty(e,"isExists",{enumerable:!0,get:function(){return at.default}}),Object.defineProperty(e,"isFirstDayOfMonth",{enumerable:!0,get:function(){return ot.default}}),Object.defineProperty(e,"isFriday",{enumerable:!0,get:function(){return st.default}}),Object.defineProperty(e,"isFuture",{enumerable:!0,get:function(){return it.default}}),Object.defineProperty(e,"isLastDayOfMonth",{enumerable:!0,get:function(){return ut.default}}),Object.defineProperty(e,"isLeapYear",{enumerable:!0,get:function(){return lt.default}}),Object.defineProperty(e,"isMatch",{enumerable:!0,get:function(){return ct.default}}),Object.defineProperty(e,"isMonday",{enumerable:!0,get:function(){return dt.default}}),Object.defineProperty(e,"isPast",{enumerable:!0,get:function(){return ft.default}}),Object.defineProperty(e,"isSameDay",{enumerable:!0,get:function(){return pt.default}}),Object.defineProperty(e,"isSameHour",{enumerable:!0,get:function(){return vt.default}}),Object.defineProperty(e,"isSameISOWeek",{enumerable:!0,get:function(){return ht.default}}),Object.defineProperty(e,"isSameISOWeekYear",{enumerable:!0,get:function(){return mt.default}}),Object.defineProperty(e,"isSameMinute",{enumerable:!0,get:function(){return xt.default}}),Object.defineProperty(e,"isSameMonth",{enumerable:!0,get:function(){return gt.default}}),Object.defineProperty(e,"isSameQuarter",{enumerable:!0,get:function(){return yt.default}}),Object.defineProperty(e,"isSameSecond",{enumerable:!0,get:function(){return bt.default}}),Object.defineProperty(e,"isSameWeek",{enumerable:!0,get:function(){return wt.default}}),Object.defineProperty(e,"isSameYear",{enumerable:!0,get:function(){return Ot.default}}),Object.defineProperty(e,"isSaturday",{enumerable:!0,get:function(){return _t.default}}),Object.defineProperty(e,"isSunday",{enumerable:!0,get:function(){return kt.default}}),Object.defineProperty(e,"isThisHour",{enumerable:!0,get:function(){return Mt.default}}),Object.defineProperty(e,"isThisISOWeek",{enumerable:!0,get:function(){return Pt.default}}),Object.defineProperty(e,"isThisMinute",{enumerable:!0,get:function(){return Et.default}}),Object.defineProperty(e,"isThisMonth",{enumerable:!0,get:function(){return Tt.default}}),Object.defineProperty(e,"isThisQuarter",{enumerable:!0,get:function(){return St.default}}),Object.defineProperty(e,"isThisSecond",{enumerable:!0,get:function(){return Ct.default}}),Object.defineProperty(e,"isThisWeek",{enumerable:!0,get:function(){return Nt.default}}),Object.defineProperty(e,"isThisYear",{enumerable:!0,get:function(){return jt.default}}),Object.defineProperty(e,"isThursday",{enumerable:!0,get:function(){return Dt.default}}),Object.defineProperty(e,"isToday",{enumerable:!0,get:function(){return It.default}}),Object.defineProperty(e,"isTomorrow",{enumerable:!0,get:function(){return Rt.default}}),Object.defineProperty(e,"isTuesday",{enumerable:!0,get:function(){return At.default}}),Object.defineProperty(e,"isValid",{enumerable:!0,get:function(){return Ut.default}}),Object.defineProperty(e,"isWednesday",{enumerable:!0,get:function(){return Yt.default}}),Object.defineProperty(e,"isWeekend",{enumerable:!0,get:function(){return Lt.default}}),Object.defineProperty(e,"isWithinInterval",{enumerable:!0,get:function(){return Wt.default}}),Object.defineProperty(e,"isYesterday",{enumerable:!0,get:function(){return Ft.default}}),Object.defineProperty(e,"lastDayOfDecade",{enumerable:!0,get:function(){return Ht.default}}),Object.defineProperty(e,"lastDayOfISOWeek",{enumerable:!0,get:function(){return Bt.default}}),Object.defineProperty(e,"lastDayOfISOWeekYear",{enumerable:!0,get:function(){return qt.default}}),Object.defineProperty(e,"lastDayOfMonth",{enumerable:!0,get:function(){return zt.default}}),Object.defineProperty(e,"lastDayOfQuarter",{enumerable:!0,get:function(){return Vt.default}}),Object.defineProperty(e,"lastDayOfWeek",{enumerable:!0,get:function(){return Qt.default}}),Object.defineProperty(e,"lastDayOfYear",{enumerable:!0,get:function(){return Jt.default}}),Object.defineProperty(e,"lightFormat",{enumerable:!0,get:function(){return Xt.default}}),Object.defineProperty(e,"max",{enumerable:!0,get:function(){return Gt.default}}),Object.defineProperty(e,"milliseconds",{enumerable:!0,get:function(){return Kt.default}}),Object.defineProperty(e,"millisecondsToHours",{enumerable:!0,get:function(){return $t.default}}),Object.defineProperty(e,"millisecondsToMinutes",{enumerable:!0,get:function(){return Zt.default}}),Object.defineProperty(e,"millisecondsToSeconds",{enumerable:!0,get:function(){return er.default}}),Object.defineProperty(e,"min",{enumerable:!0,get:function(){return tr.default}}),Object.defineProperty(e,"minutesToHours",{enumerable:!0,get:function(){return rr.default}}),Object.defineProperty(e,"minutesToMilliseconds",{enumerable:!0,get:function(){return nr.default}}),Object.defineProperty(e,"minutesToSeconds",{enumerable:!0,get:function(){return ar.default}}),Object.defineProperty(e,"monthsToQuarters",{enumerable:!0,get:function(){return or.default}}),Object.defineProperty(e,"monthsToYears",{enumerable:!0,get:function(){return sr.default}}),Object.defineProperty(e,"nextDay",{enumerable:!0,get:function(){return ir.default}}),Object.defineProperty(e,"nextFriday",{enumerable:!0,get:function(){return ur.default}}),Object.defineProperty(e,"nextMonday",{enumerable:!0,get:function(){return lr.default}}),Object.defineProperty(e,"nextSaturday",{enumerable:!0,get:function(){return cr.default}}),Object.defineProperty(e,"nextSunday",{enumerable:!0,get:function(){return dr.default}}),Object.defineProperty(e,"nextThursday",{enumerable:!0,get:function(){return fr.default}}),Object.defineProperty(e,"nextTuesday",{enumerable:!0,get:function(){return pr.default}}),Object.defineProperty(e,"nextWednesday",{enumerable:!0,get:function(){return vr.default}}),Object.defineProperty(e,"parse",{enumerable:!0,get:function(){return hr.default}}),Object.defineProperty(e,"parseISO",{enumerable:!0,get:function(){return mr.default}}),Object.defineProperty(e,"parseJSON",{enumerable:!0,get:function(){return xr.default}}),Object.defineProperty(e,"previousDay",{enumerable:!0,get:function(){return gr.default}}),Object.defineProperty(e,"previousFriday",{enumerable:!0,get:function(){return yr.default}}),Object.defineProperty(e,"previousMonday",{enumerable:!0,get:function(){return br.default}}),Object.defineProperty(e,"previousSaturday",{enumerable:!0,get:function(){return wr.default}}),Object.defineProperty(e,"previousSunday",{enumerable:!0,get:function(){return Or.default}}),Object.defineProperty(e,"previousThursday",{enumerable:!0,get:function(){return _r.default}}),Object.defineProperty(e,"previousTuesday",{enumerable:!0,get:function(){return kr.default}}),Object.defineProperty(e,"previousWednesday",{enumerable:!0,get:function(){return Mr.default}}),Object.defineProperty(e,"quartersToMonths",{enumerable:!0,get:function(){return Pr.default}}),Object.defineProperty(e,"quartersToYears",{enumerable:!0,get:function(){return Er.default}}),Object.defineProperty(e,"roundToNearestMinutes",{enumerable:!0,get:function(){return Tr.default}}),Object.defineProperty(e,"secondsToHours",{enumerable:!0,get:function(){return Sr.default}}),Object.defineProperty(e,"secondsToMilliseconds",{enumerable:!0,get:function(){return Cr.default}}),Object.defineProperty(e,"secondsToMinutes",{enumerable:!0,get:function(){return Nr.default}}),Object.defineProperty(e,"set",{enumerable:!0,get:function(){return jr.default}}),Object.defineProperty(e,"setDate",{enumerable:!0,get:function(){return Dr.default}}),Object.defineProperty(e,"setDay",{enumerable:!0,get:function(){return Ir.default}}),Object.defineProperty(e,"setDayOfYear",{enumerable:!0,get:function(){return Rr.default}}),Object.defineProperty(e,"setDefaultOptions",{enumerable:!0,get:function(){return Ar.default}}),Object.defineProperty(e,"setHours",{enumerable:!0,get:function(){return Ur.default}}),Object.defineProperty(e,"setISODay",{enumerable:!0,get:function(){return Yr.default}}),Object.defineProperty(e,"setISOWeek",{enumerable:!0,get:function(){return Lr.default}}),Object.defineProperty(e,"setISOWeekYear",{enumerable:!0,get:function(){return Wr.default}}),Object.defineProperty(e,"setMilliseconds",{enumerable:!0,get:function(){return Fr.default}}),Object.defineProperty(e,"setMinutes",{enumerable:!0,get:function(){return Hr.default}}),Object.defineProperty(e,"setMonth",{enumerable:!0,get:function(){return Br.default}}),Object.defineProperty(e,"setQuarter",{enumerable:!0,get:function(){return qr.default}}),Object.defineProperty(e,"setSeconds",{enumerable:!0,get:function(){return zr.default}}),Object.defineProperty(e,"setWeek",{enumerable:!0,get:function(){return Vr.default}}),Object.defineProperty(e,"setWeekYear",{enumerable:!0,get:function(){return Qr.default}}),Object.defineProperty(e,"setYear",{enumerable:!0,get:function(){return Jr.default}}),Object.defineProperty(e,"startOfDay",{enumerable:!0,get:function(){return Xr.default}}),Object.defineProperty(e,"startOfDecade",{enumerable:!0,get:function(){return Gr.default}}),Object.defineProperty(e,"startOfHour",{enumerable:!0,get:function(){return Kr.default}}),Object.defineProperty(e,"startOfISOWeek",{enumerable:!0,get:function(){return $r.default}}),Object.defineProperty(e,"startOfISOWeekYear",{enumerable:!0,get:function(){return Zr.default}}),Object.defineProperty(e,"startOfMinute",{enumerable:!0,get:function(){return en.default}}),Object.defineProperty(e,"startOfMonth",{enumerable:!0,get:function(){return tn.default}}),Object.defineProperty(e,"startOfQuarter",{enumerable:!0,get:function(){return rn.default}}),Object.defineProperty(e,"startOfSecond",{enumerable:!0,get:function(){return nn.default}}),Object.defineProperty(e,"startOfToday",{enumerable:!0,get:function(){return an.default}}),Object.defineProperty(e,"startOfTomorrow",{enumerable:!0,get:function(){return on.default}}),Object.defineProperty(e,"startOfWeek",{enumerable:!0,get:function(){return sn.default}}),Object.defineProperty(e,"startOfWeekYear",{enumerable:!0,get:function(){return un.default}}),Object.defineProperty(e,"startOfYear",{enumerable:!0,get:function(){return ln.default}}),Object.defineProperty(e,"startOfYesterday",{enumerable:!0,get:function(){return cn.default}}),Object.defineProperty(e,"sub",{enumerable:!0,get:function(){return dn.default}}),Object.defineProperty(e,"subBusinessDays",{enumerable:!0,get:function(){return fn.default}}),Object.defineProperty(e,"subDays",{enumerable:!0,get:function(){return pn.default}}),Object.defineProperty(e,"subHours",{enumerable:!0,get:function(){return vn.default}}),Object.defineProperty(e,"subISOWeekYears",{enumerable:!0,get:function(){return hn.default}}),Object.defineProperty(e,"subMilliseconds",{enumerable:!0,get:function(){return mn.default}}),Object.defineProperty(e,"subMinutes",{enumerable:!0,get:function(){return xn.default}}),Object.defineProperty(e,"subMonths",{enumerable:!0,get:function(){return gn.default}}),Object.defineProperty(e,"subQuarters",{enumerable:!0,get:function(){return yn.default}}),Object.defineProperty(e,"subSeconds",{enumerable:!0,get:function(){return bn.default}}),Object.defineProperty(e,"subWeeks",{enumerable:!0,get:function(){return wn.default}}),Object.defineProperty(e,"subYears",{enumerable:!0,get:function(){return On.default}}),Object.defineProperty(e,"toDate",{enumerable:!0,get:function(){return _n.default}}),Object.defineProperty(e,"weeksToDays",{enumerable:!0,get:function(){return kn.default}}),Object.defineProperty(e,"yearsToMonths",{enumerable:!0,get:function(){return Mn.default}}),Object.defineProperty(e,"yearsToQuarters",{enumerable:!0,get:function(){return Pn.default}});var n=t(Da.exports),a=t(Wa.exports),o=t(Ra.exports),s=t(qa.exports),i=t(Va.exports),u=t(za.exports),l=t(no.exports),c=t(La.exports),d=t(ao.exports),f=t(oo.exports),p=t(so.exports),v=t(io.exports),h=t(uo.exports),m=t(lo.exports),x=t(po.exports),g=t(vo.exports),y=t(ho.exports),b=t(mo.exports),w=t(xo.exports),O=t(Mo.exports),_=t(eo.exports),k=t(So.exports),M=t(Co.exports),P=t(No.exports),E=t(jo.exports),T=t(Io.exports),S=t(Ro.exports),C=t(Ao.exports),N=t(Uo.exports),j=t(Ho.exports),D=t(Yo.exports),I=t(qo.exports),R=t(zo.exports),A=t(Xo.exports),U=t(Go.exports),Y=t(Ko.exports),L=t($o.exports),W=t(Zo.exports),F=t(es.exports),H=t(ts.exports),B=t(ns.exports),q=t(as.exports),z=t(ss.exports),V=t(is.exports),Q=t(us.exports),J=t(cs.exports),X=t(ps.exports),G=t(Qo.exports),K=t(vs.exports),$=t(hs.exports),Z=t(ms.exports),ee=t(gs.exports),te=t(ys.exports),re=t(Jo.exports),ne=t(bs.exports),ae=t(ws.exports),oe=t(Os.exports),se=t(_s.exports),ie=t(xs.exports),ue=t(ds.exports),le=t(ks.exports),ce=t(Ms.exports),de=t(ei.exports),fe=t(ni.exports),pe=t(ai.exports),ve=t(oi.exports),he=t(si.exports),me=t(ii.exports),xe=t(ui.exports),ge=t(li.exports),ye=t(ci.exports),be=t(di.exports),we=t(fi.exports),Oe=t(pi.exports),_e=t(vi.exports),ke=t(hi.exports),Me=t(mi.exports),Pe=t(xi.exports),Ee=t(gi.exports),Te=t(bi.exports),Se=t(wi.exports),Ce=t(Oi.exports),Ne=t(_i.exports),je=t(ki.exports),De=t(Qa.exports),Ie=t(Mi.exports),Re=t(Pi.exports),Ae=t(Ei.exports),Ue=t(Ti.exports),Ye=t(Si.exports),Le=t(Do.exports),We=t(Ci.exports),Fe=t(Ni.exports),He=t(ji.exports),Be=t(Di.exports),qe=t(Ai.exports),ze=t(Ri.exports),Ve=t(Ui.exports),Qe=t(Li.exports),Je=t(Wi.exports),Xe=t(Fi.exports),Ge=t(Hi.exports),Ke=t(Bi.exports),$e=t(qi.exports),Ze=t(zi.exports),et=t(Vi.exports),tt=t(Qi.exports),rt=t(To.exports),nt=t(Ji.exports),at=t(Xi.exports),ot=t(Gi.exports),st=t(Ki.exports),it=t($i.exports),ut=t(Vo.exports),lt=t(yi.exports),ct=t(Zi.exports),dt=t(Fh.exports),ft=t(Hh.exports),pt=t(Po.exports),vt=t(Bh.exports),ht=t(zh.exports),mt=t(Qh.exports),xt=t(Jh.exports),gt=t(Xh.exports),yt=t(Gh.exports),bt=t(Kh.exports),wt=t(Vh.exports),Ot=t(Zh.exports),_t=t(Ba.exports),kt=t(Ha.exports),Mt=t(em.exports),Pt=t(tm.exports),Et=t(rm.exports),Tt=t(nm.exports),St=t(am.exports),Ct=t(om.exports),Nt=t(sm.exports),jt=t(im.exports),Dt=t(um.exports),It=t(lm.exports),Rt=t(cm.exports),At=t(dm.exports),Ut=t(Eo.exports),Yt=t(fm.exports),Lt=t(Fa.exports),Wt=t(pm.exports),Ft=t(vm.exports),Ht=t(mm.exports),Bt=t(xm.exports),qt=t(ym.exports),zt=t(Yi.exports),Vt=t(bm.exports),Qt=t(gm.exports),Jt=t(wm.exports),Xt=t(Om.exports),Gt=t(co.exports),Kt=t(_m.exports),$t=t(km.exports),Zt=t(Mm.exports),er=t(Pm.exports),tr=t(fo.exports),rr=t(Em.exports),nr=t(Tm.exports),ar=t(Sm.exports),or=t(Cm.exports),sr=t(Nm.exports),ir=t(jm.exports),ur=t(Dm.exports),lr=t(Im.exports),cr=t(Rm.exports),dr=t(Am.exports),fr=t(Um.exports),pr=t(Ym.exports),vr=t(Lm.exports),hr=t(eu.exports),mr=t(Wm.exports),xr=t(Fm.exports),gr=t(Hm.exports),yr=t(Bm.exports),br=t(qm.exports),wr=t(zm.exports),Or=t(Vm.exports),_r=t(Qm.exports),kr=t(Jm.exports),Mr=t(Xm.exports),Pr=t(Gm.exports),Er=t(Km.exports),Tr=t($m.exports),Sr=t(Zm.exports),Cr=t(ex.exports),Nr=t(tx.exports),jr=t(rx.exports),Dr=t(ax.exports),Ir=t(ox.exports),Rr=t(sx.exports),Ar=t(ix.exports),Ur=t(ux.exports),Yr=t(lx.exports),Lr=t(cx.exports),Wr=t($a.exports),Fr=t(dx.exports),Hr=t(fx.exports),Br=t(nx.exports),qr=t(px.exports),zr=t(vx.exports),Vr=t(hx.exports),Qr=t(mx.exports),Jr=t(xx.exports),Xr=t(ro.exports),Gr=t(gx.exports),Kr=t(qh.exports),$r=t(Ja.exports),Zr=t(Za.exports),en=t(rs.exports),tn=t(ls.exports),rn=t(os.exports),nn=t($h.exports),an=t(yx.exports),on=t(bx.exports),sn=t(Xa.exports),un=t(Ii.exports),ln=t(fs.exports),cn=t(wx.exports),dn=t(Ox.exports),fn=t(kx.exports),pn=t(hm.exports),vn=t(Mx.exports),hn=t(Bo.exports),mn=t(Ps.exports),xn=t(Px.exports),gn=t(_x.exports),yn=t(Ex.exports),bn=t(Tx.exports),wn=t(Sx.exports),On=t(Cx.exports),_n=t(Ua.exports),kn=t(Nx.exports),Mn=t(jx.exports),Pn=t(Ix.exports),En=go;Object.keys(En).forEach((function(t){"default"!==t&&"__esModule"!==t&&(Object.prototype.hasOwnProperty.call(r,t)||t in e&&e[t]===En[t]||Object.defineProperty(e,t,{enumerable:!0,get:function(){return En[t]}}))}))}(Na),function(e){e[e.or=0]="or",e[e.and=1]="and"}(Dx||(Dx={}));var Yx={ms:1,millisecond:1,milliseconds:1,s:1e3,second:1e3,seconds:1e3,m:6e4,minute:6e4,minutes:6e4,h:36e5,hour:36e5,hours:36e5,d:864e5,day:864e5,days:864e5,w:6048e5,week:6048e5,weeks:6048e5,M:2628e6,month:2628e6,months:2628e6,Q:7776e6,quarter:7776e6,quarters:7776e6,y:3154e7,years:3154e7,year:3154e7};var Lx=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g;function Wx(e,t,r,n){for(var a,o=e,s=new RegExp(Lx);null!==(a=s.exec(e));){var i=void 0,u=t[a[1].trim()];u&&(i=Rx(u.value,r)),(i||n)&&(o=o.replace(a[0],i))}return o}var Fx=function(e){var t=e.agents,r=e.text,n=e.delay,o=e.time,s=(0,a.useState)(n),i=s[0],u=s[1],l=Object.values(t).filter((function(e){return e.requestFailed}));(0,a.useEffect)((function(){if(0!==n)var e=n,t=setInterval((function(){e--,u(e),0===e&&clearInterval(t)}),1e3);else u(5)}),[n]);var c=(0,a.useMemo)((function(){return{sec:{name:"sec",value:i}}}),[i]),d=(0,a.useMemo)((function(){return function(e,t,r){if(!e||!t)return e;var n=e;if("string"==typeof n)n=Wx(n,t,"displayText",r);else{var a=n;["ssml","displayText"].forEach((function(e){a[e]&&(a[e]=Wx(a[e],t,e,r))}))}return n}(r,c)}),[r,c]);return 0===i?a.createElement(a.Fragment,null):a.createElement(a.Fragment,null,l.map((function(e){var t,r;return a.createElement("div",{className:"chat-msg-container-wrapper",key:"failure-msg-".concat(null===(t=null==e?void 0:e.user)||void 0===t?void 0:t.nick)},a.createElement("div",{className:"chat-msg-container agent",key:null===(r=null==e?void 0:e.user)||void 0===r?void 0:r.nick},a.createElement(_n,{user:null==e?void 0:e.user,showAvatar:!0},a.createElement("div",{className:"chat-msg"},a.createElement(ea,{owner:"others",hasTail:!0},a.createElement("span",{className:"message-sr-only"},"at "+o+" the bot said"),a.createElement("span",null,d))))))})))},Hx=function(e){return a.createElement("svg",{className:"message-svg",width:"16",height:"12",viewBox:"0 0 16 12"},a.createElement("path",{d:"M14.4 0H1.6C.72 0 .008.675.008 1.5L0 10.5c0 .825.72 1.5 1.6 1.5h12.8c.88 0 1.6-.675 1.6-1.5v-9c0-.825-.72-1.5-1.6-1.5zm0 3L8 6.75 1.6 3V1.5L8 5.25l6.4-3.75V3z",fill:"#424242",fillRule:"evenodd"}))},Bx=function(e){var t=(0,a.useRef)(null),r=(0,a.useRef)(null),n=(0,a.useRef)(null),o=(0,a.useRef)(null),s=(0,a.useState)(!1),i=s[0],u=s[1];function l(){var e,t,n;(null===(e=r.current)||void 0===e?void 0:e.validity.patternMismatch)?null===(t=r.current)||void 0===t||t.setCustomValidity("This doesn't look like an email!"):null===(n=r.current)||void 0===n||n.setCustomValidity("")}function c(a){var s,i,l,c,d;a.preventDefault(),(null===(s=o.current)||void 0===s?void 0:s.checkValidity())?(e.onSubmit({name:null===(l=t.current)||void 0===l?void 0:l.value,email:null===(c=r.current)||void 0===c?void 0:c.value,message:null===(d=n.current)||void 0===d?void 0:d.value}),u(!0)):null===(i=o.current)||void 0===i||i.reportValidity()}function d(){u(!1)}return a.createElement(Ea,{title:e.title,addClass:"offline-card",contentAddClass:i?"sent":"",icon:a.createElement(Hx,null)},i?a.createElement("div",{key:"sent",className:"message-form--sent"},"Your message has been sent. We will get back to you as soon as possible.",a.createElement(L,{addClass:"button-resend",label:"Send another",onClick:d})):a.createElement("form",{ref:o,key:"not-sent",className:"message-form",onSubmit:c},a.createElement("div",{className:"content"},a.createElement("div",{className:"section"},a.createElement("label",{className:"label"},"Name"),a.createElement("input",{ref:t,maxLength:255})),a.createElement("div",{className:"section"},a.createElement("label",{className:"label"},"Email"),a.createElement("input",{ref:r,onChange:l,type:"email",required:!0,pattern:"^\\w+([\\.-]?\\w+)*@\\w+([\\.-]?\\w+)*(\\.\\w{2,3})+$"})),a.createElement("div",{className:"section"},a.createElement("label",{className:"label"},"Message"),a.createElement("textarea",{required:!0,ref:n}))),a.createElement("div",{className:"button-container"},a.createElement(L,{type:"submit",addClass:"message-form__submit",label:"Send"}))))},qx=function(e){return a.createElement(Bx,{title:"Offline message card title",onSubmit:e.onSubmit})},zx=function(e){var t=Kr(),r=(0,a.useCallback)((function(e){t(function(e){return function(t){return function(){t.sendOfflineMsg(e,(function(e){e&&Z(e)}))}}}(e))}),[t]);return a.createElement(a.Fragment,null,a.createElement("span",{className:"message-sr-only"},"at "+e.time+" system message"),a.createElement(qx,{onSubmit:r}))},Vx=function(e){var t=(0,a.useState)(!1),r=t[0],n=t[1],o=e.onSubmit,s=(0,a.useCallback)((function(e){o(e),n(!0)}),[o]);return a.createElement(a.Fragment,null,!r&&a.createElement(Bx,{title:"Introduce yourself!",onSubmit:s}))},Qx=function(e){var t=Kr(),r=x((function(e){return e.sessionId})),n=(0,a.useCallback)((function(e){e.message&&(t(Ue({displayName:e.name,email:e.email},r)),t(Re(e.message)))}),[t,r]);return a.createElement(a.Fragment,null,a.createElement("span",{className:"message-sr-only"},"at "+e.time+" system message"),a.createElement(Vx,{onSubmit:n}))},Jx={position:0},Xx=function(e){return void 0===e&&(e=Jx),e.position<=0?null:a.createElement("div",{className:"system-msg-container"},a.createElement("span",{className:"system-msg"},"Queue position: ",e.position))};var Gx=function(e){return t=e.message.user,(null===(r=t.nick)||void 0===r?void 0:r.endsWith(Tt))?null:a.createElement("div",{className:"system-msg-container"},a.createElement("span",{className:"message-sr-only"},"at "+e.time+" system message"),a.createElement("span",{className:"system-msg"},function(e){switch(e.type){case"chat.memberjoin":return"".concat(e.user.displayName||"Bot"," has joined the chat");case"chat.memberleave":return"".concat(e.user.displayName||"Bot"," has left the chat");case"chat.rating":if(e.newRating){var t=(r=e.newRating)[0].toUpperCase()+r.slice(1);return"You have rated the chat service ".concat(t)}return"You have removed the chat rating";default:return JSON.stringify(e)}var r}(e.message)));var t,r};var Kx=function(e){return a.createElement("div",{className:"typing-indicator"},a.createElement("div",{className:"typing-indicator-part"}),a.createElement("div",{className:"typing-indicator-part"}),a.createElement("div",{className:"typing-indicator-part"}))},$x=function(e){var t=Object.values(e.agents).filter((function(e){return e.typing}));return a.createElement(a.Fragment,null,t.map((function(t,r){var n,o,s=(null===(n=t.user)||void 0===n?void 0:n.nick)||"".concat(r),i=(null===(o=t.user)||void 0===o?void 0:o.displayName)||"Somebody";return a.createElement("span",{key:"typing-status-".concat(r)},e.textTypingStatusEnabled?a.createElement("div",{key:"typing-status-".concat(s),className:"chat-msg-agent-typing"},i," is typing"):a.createElement("div",{className:"chat-msg-container-wrapper",key:"typing-status-".concat(s)},a.createElement("div",{key:s,className:"chat-msg-container agent chat-typing-progress"},a.createElement(_n,{user:t.user,showAvatar:!0},a.createElement("div",{className:"chat-msg"},a.createElement(ea,{owner:"others",hasTail:!0},a.createElement(Kx,null)))))))})))},Zx={visible:!0,messages:[],agents:{},isOffline:!0,isChatting:!1,queuePosition:0,lastRatingRequestTimestamp:0,hasRating:!1,visitorId:"",onSend:function(){return Promise.resolve()},onWrite:function(){return Promise.resolve()},onOpenUrl:function(){},minimizeOnClick:function(){}},eg=function(e){void 0===e&&(e=Zx);var t=e.onSend,r=e.onWrite,n=e.onOpenUrl,o=e.minimizeOnClick,s=(0,a.useRef)(null);(0,a.useEffect)((function(){s.current.scrollIntoView({behavior:"smooth"})}),[e.messages,e.agents]);var i=(0,a.useCallback)((function(e){t(e),s.current.scrollIntoView({behavior:"smooth"})}),[t]),u=(0,a.useCallback)((function(e){r(e),s.current.scrollIntoView({behavior:"smooth"})}),[r]),l=(0,a.useMemo)((function(){return new Pa({send:i,write:u,openUrl:n})}),[i,u,n]),c=new Date,d=c.getHours()+":"+c.getMinutes();var f=e.agents,p=e.queuePosition;return a.createElement("div",{className:"message-list-container"},a.createElement("div",{className:"message-list-container__msgs"},function(){for(var t=-1,r=e.messages.length-1;r>0;r--)if("chat.msg"===e.messages[r].type){t=r;break}return e.messages.map((function(r,n){var s,i,u=!1;if(["chat.file","chat.msg","chat.memberjoin","chat.memberleave","chat.rating","chat.request.rating","chat.offline","chat.prechat"].includes(r.type)&&!(null===(i=null===(s=r.user)||void 0===s?void 0:s.nick)||void 0===i?void 0:i.endsWith(Tt)))if(0===n||n===e.messages.length-1||n===t)u=!0;else{var c=e.messages[n-1];r.timestamp&&c.timestamp&&(u=r.timestamp-c.timestamp>3e5)}var f=u?new Date(r.timestamp).toLocaleString():void 0;return a.createElement("span",{key:"message-list-render-all-".concat(n)},u&&a.createElement("div",{className:"ts-msg-container"},a.createElement("span",{className:"ts-msg"},f)),function(t,r){var n,s,i,u;switch((null===(s=null===(n=t.user)||void 0===n?void 0:n.nick)||void 0===s?void 0:s.startsWith("visitor:"))?u=t.user:(u=(null===(i=e.agents[t.user.nick])||void 0===i?void 0:i.user)||e.agent)||(Z('Could not get a user from agents list with nick: "'.concat(t.user.nick,'"')),u=t.user),t.type){case"chat.file":case"chat.msg":return a.createElement(sa,{key:"cm-".concat(t.type,"-").concat(t.timestamp),message:t,sibling:r,agent:u,messageMiddleware:e.messageMiddleware,middlewareContext:l.resolve(u),minimizeOnClick:o});case"chat.failureMsg":return a.createElement(Fx,z({key:"fm-".concat(t.type,"-").concat(t.timestamp),agents:e.agents,time:d},t.failureMsg));case"chat.memberjoin":case"chat.memberleave":case"chat.rating":case"chat.typing":return a.createElement(Gx,{key:"sm-".concat(t.type,"-").concat(t.timestamp),time:d,message:t});case"chat.request.rating":return a.createElement(Ca,{key:"cr-".concat(t.type,"-").concat(t.timestamp),agent:u,hasRating:e.hasRating,time:d,shouldDisplay:t.timestamp===e.lastRatingRequestTimestamp});case"chat.offline":return a.createElement(zx,{key:"offline-".concat(t.timestamp),time:d});case"chat.prechat":return a.createElement(Qx,{key:"prechat",time:d});default:return a.createElement("span",{key:"default-".concat(t.timestamp)},a.createElement("span",{className:"message-sr-only"},"at "+d+" system message"),a.createElement("div",{key:"uhm-".concat(+new Date)},"Unhandled message: ",JSON.stringify(t)))}}(r,!1))}))}(),a.createElement("div",{ref:s,style:{float:"left",clear:"both"}}),a.createElement(Xx,{position:p}),a.createElement($x,{agents:f,textTypingStatusEnabled:e.textTypingStatusEnabled})),a.createElement($r,null))},tg=function(){return a.createElement("div",{className:"server-offline"},a.createElement("h2",null,"Chat is currently unavailable"),a.createElement("h3",null,"Server is offline"))};function rg(e){var t,r,n,a,o,s;return"\n:root {\n".concat(function(e){var t=e.next(),r="";for(;!1===t.done;){var n=t.value,a=n[0],o=n[1];null!=o&&""!==o&&(r+="".concat(a,": ").concat(o,";\n\r")),t=e.next()}return r}(ag("\t--xapp-",og(sg("primary-color",null==e?void 0:e.primaryColor),ag("widget-",og(function(e){return Q(this,(function(t){switch(t.label){case 0:return[4,["width",null==e?void 0:e.width]];case 1:return t.sent(),[4,["height",null==e?void 0:e.height]];case 2:return t.sent(),[2]}}))}(null==e?void 0:e.size),lg(null==e?void 0:e.margin),pg(null==e?void 0:e.border),function(e){return Q(this,(function(t){switch(t.label){case 0:return e?[4,["z-index",e]]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}(null==e?void 0:e.zIndex))),function(e){if(!e)return ig();return ag("chat-button-",og(lg(e.margin),dg(e.background)))}(null==e?void 0:e.chatButton),ag("header-",function(e){if(!e)return ig();return og(dg(e.background),cg(e.text),ag("subtitle-",cg(e.subtitle)),pg(e.border))}(null==e?void 0:e.header)),ag("footer-",function(e){var t;if(!e)return ig();return og(dg(e.background),pg(e.border),ag("branding-",cg(null===(t=e.branding)||void 0===t?void 0:t.text)))}(null==e?void 0:e.footer)),ag("content-",og(dg(null===(t=null==e?void 0:e.content)||void 0===t?void 0:t.background))),ag("messages-",function(e){if(!e)return ig();return og(ag("mine-",ug(e.mine)),ag("others-",ug(e.others)),function(e){return Q(this,(function(t){switch(t.label){case 0:return e?[4,["padding-top",e.top]]:[3,5];case 1:return t.sent(),[4,["padding-right",e.right]];case 2:return t.sent(),[4,["padding-bottom",e.bottom]];case 3:return t.sent(),[4,["padding-left",e.left]];case 4:t.sent(),t.label=5;case 5:return[2]}}))}(null==e?void 0:e.padding),sg("max-width",null==e?void 0:e.maxWidth))}(null==e?void 0:e.messages)),ag("text-typing-status-",cg(null===(r=null==e?void 0:e.textTypingStatus)||void 0===r?void 0:r.text)),ag("send-",fg(null==e?void 0:e.sendButton)),ag("menu-",fg(null==e?void 0:e.menuButton)),ag("menu-",og(ag("item-",function(e){return og(cg(null==e?void 0:e.text),ag("subtitle-",cg(null==e?void 0:e.subtitle)),pg(null==e?void 0:e.border),dg(null==e?void 0:e.background),sg("height",null==e?void 0:e.height))}(null==(s=null==e?void 0:e.menu)?void 0:s.item)))),ag("refresh-",fg(null==e?void 0:e.refreshButton)),ag("minimize-",fg(null==e?void 0:e.minimizeButton)),ag("cancel-",fg(null==e?void 0:e.cancelButton)),ag("carousel-",og(ag("title-",cg(null===(n=null==e?void 0:e.carousel)||void 0===n?void 0:n.title)),ag("subtitle-",cg(null===(a=null==e?void 0:e.carousel)||void 0===a?void 0:a.subtitle)),ag("action-",fg(null===(o=null==e?void 0:e.carousel)||void 0===o?void 0:o.button)))),ag("input-",function(e){if(!e)return ig();return og(dg(e.background),pg(e.border),cg(e.text),ag("placeholder-",cg(e.placeholder)))}(null==e?void 0:e.input)),ag("cta-",function(e){if(!e)return ig();return og(dg(e.background),cg(e.text))}(null==e?void 0:e.cta))))),"\n}")}function ng(e){var t=rg(e.theme);return a.createElement("style",null,t)}function ag(e,t){var r;return Q(this,(function(n){switch(n.label){case 0:r=t.next(),n.label=1;case 1:return r.done?[3,3]:[4,["".concat(e).concat(r.value[0]),r.value[1]]];case 2:return n.sent(),r=t.next(),[3,1];case 3:return[2]}}))}function og(){var e,t,r,n,a,o=[];for(e=0;e<arguments.length;e++)o[e]=arguments[e];return Q(this,(function(e){switch(e.label){case 0:t=0,r=o,e.label=1;case 1:if(!(t<r.length))return[3,5];n=r[t],a=n.next(),e.label=2;case 2:return!1!==a.done?[3,4]:[4,a.value];case 3:return e.sent(),a=n.next(),[3,2];case 4:return t++,[3,1];case 5:return[2]}}))}function sg(e,t){return Q(this,(function(r){switch(r.label){case 0:return[4,[e,t]];case 1:return r.sent(),[2]}}))}function ig(){return Q(this,(function(e){return[2]}))}function ug(e){return og(sg("bubble-color",null==e?void 0:e.bubbleColor),cg(null==e?void 0:e.text))}function lg(e){return Q(this,(function(t){switch(t.label){case 0:return e?[4,["margin-top",e.top]]:[3,5];case 1:return t.sent(),[4,["margin-right",e.right]];case 2:return t.sent(),[4,["margin-bottom",e.bottom]];case 3:return t.sent(),[4,["margin-left",e.left]];case 4:t.sent(),t.label=5;case 5:return[2]}}))}function cg(e){return Q(this,(function(t){switch(t.label){case 0:return e?[4,["text-color",e.color]]:[3,6];case 1:return t.sent(),[4,["font-size",e.fontSize]];case 2:return t.sent(),[4,["font-family",e.fontFamily]];case 3:return t.sent(),[4,["font-weight",e.fontWeight]];case 4:return t.sent(),[4,["font-style",e.fontStyle]];case 5:t.sent(),t.label=6;case 6:return[2]}}))}function dg(e){return Q(this,(function(t){switch(t.label){case 0:return[4,["background",e]];case 1:return t.sent(),[2]}}))}function fg(e){return Q(this,(function(t){switch(t.label){case 0:return[4,["button-color",null==e?void 0:e.color]];case 1:return t.sent(),[4,["button-width",null==e?void 0:e.width]];case 2:return t.sent(),[2]}}))}function pg(e){return Q(this,(function(t){switch(t.label){case 0:return e?[4,["border-color",e.color]]:[3,4];case 1:return t.sent(),[4,["border-width",e.width]];case 2:return t.sent(),[4,["border-radius",e.radius]];case 3:t.sent(),t.label=4;case 4:return[2]}}))}var vg=function(e){var t=e.onClose,r=e.onReset;return a.createElement("div",{className:"modalContent"},a.createElement("div",{className:"modalBody"},a.createElement("h2",null,"Restart Conversation"),a.createElement("p",null,"Would you like to refresh and return to the starting point of the conversation?")),a.createElement("div",{className:"modalActions"},a.createElement("button",{onClick:t,className:"cancelBtn"},"Cancel"),a.createElement("button",{onClick:r,className:"restartBtn"},"Restart")))},hg=function(e){var t=e.config,r=q(t,x((function(e){return e.connection.nonce}))),n=(0,a.useMemo)((function(){var e;return z(z({},t),{connection:r,assetUrl:null!==(e=null==r?void 0:r.serverUrl)&&void 0!==e?e:"",env:t})}),[r,t]),o=x((function(e){return e.connection.token})),s=(0,a.useMemo)((function(){var e={items:[{delay:5,text:"We are having trouble communicating with the assistant right now. Re-trying in ${sec} seconds..."},{delay:5,text:"We are still having trouble communicating with the assistant right now. Re-trying in ${sec} seconds..."},{delay:0,text:"Sorry, we cannot communicate with the assistant right now. Please check your connection or try again later."}]};return t.configurableMessages&&Array.isArray(t.configurableMessages.items)&&t.configurableMessages.items.length>0&&(e=t.configurableMessages),{token:o,bot:{nick:"Bot",displayName:t.botName,avatarPath:t.avatarUrl},configurableMessages:e,hooks:t.hooks}}),[o,t]),i=function(e,t){var r=(0,a.useState)(),n=r[0],o=r[1],s=ae(),i=[t,e,s];return(0,a.useEffect)((function(){var r=Xr(e,t);return r.init(s),o(r),function(){r.dispose()}}),i),n}(r,s);return a.createElement(H.Provider,{value:n},a.createElement(Gr.Provider,{value:i},a.createElement(mg,z({},e))))},mg=function(e){var t,r,n,o,s,i,u,l,c,d,f,p,v,h,m,g,y,b,w,O,_,k,M,P,E,T,S,C,N=ae(),j=Kr(),D=x((function(e){return e})),I=(0,a.useRef)({}),R=null!==(t=e.mode)&&void 0!==t?t:"normal",A="docked"===R,U="static"===R,Y="widget-container--".concat(R),L=null===(n=null===(r=e.config.header)||void 0===r?void 0:r.actions)||void 0===n?void 0:n.refresh,W=!A&&!U&&(null===(s=null===(o=e.config.header)||void 0===o?void 0:o.actions)||void 0===s?void 0:s.minimize);Z("docked: ".concat(A," static: ").concat(U," minimimized: ").concat(null===(u=null===(i=e.config.header)||void 0===i?void 0:i.actions)||void 0===u?void 0:u.minimize)),C="boolean"==typeof(null===(c=null===(l=e.config.header)||void 0===l?void 0:l.actions)||void 0===c?void 0:c.cancel)?!A&&!U&&(null===(f=null===(d=e.config.header)||void 0===d?void 0:d.actions)||void 0===f?void 0:f.cancel):!A&&!U,D.visuals||(D.visuals={});var F=(0,a.useState)(!W&&!C||D.visuals.visible||(null===(p=e.config)||void 0===p?void 0:p.autoOpenOnWidth)&&window.matchMedia("(min-width: ".concat(null===(v=e.config)||void 0===v?void 0:v.autoOpenOnWidth,")")).matches),H=F[0],B=F[1],q=(0,a.useState)(!1),z=q[0],V=q[1],Q=(0,a.useContext)(Gr),J=null===(m=null===(h=e.config)||void 0===h?void 0:h.autoOpenOnPattern)||void 0===m?void 0:m.patterns,X=window.location.href,G=J&&J.length>0,K=null==J?void 0:J.some((function(e){return X.includes(e)})),$=null===(y=null===(g=e.config)||void 0===g?void 0:g.autoOpenOnPattern)||void 0===y?void 0:y.minimumWidth,ee=screen.width,te=(0,a.useCallback)((function(e){U||(B(e),N(je({visible:e})))}),[N,U]);(0,a.useEffect)((function(){var t,r;document.addEventListener("keydown",(function(e){var t=document.getElementsByTagName("body")[0];t.tabIndex=-1,"Escape"===e.key&&t.focus()})),ia((null==D?void 0:D.sessionExpiration)||(null===(t=e.config)||void 0===t?void 0:t.sessionExpiration),null===(r=null==D?void 0:D.chats[D.chats.length-1])||void 0===r?void 0:r.timestamp,null==D||D.lastTimestamp)&&(N(kt(void 0)),N({type:"reset"}))}),[]);var re=(0,a.useState)(!document.hidden),ne=re[0],oe=re[1];function se(){z&&(j(Ae(!1)),V(!1))}(0,a.useEffect)((function(){var e=function(){oe(!document.hidden)};return document.addEventListener("visibilitychange",e),function(){document.removeEventListener("visibilitychange",e)}}),[]),(0,a.useEffect)((function(){Q&&(ne?Q.wakeup():Q.sleep())}),[Q,N,ne]),(0,a.useEffect)((function(){D.visuals.opened?te(!0):"normal"===R&&te(!1),G&&K&&te(!0),ee<+$&&te(!1)}),[ee,G,K,$,te,D.visuals.opened,R]);var ie=De();function ue(e){("offline"!==D.accountStatus||D.isChatting)&&e&&(se(),Q.flush(),j(Re(e)))}function le(){return H?"visible":""}function ce(){N({type:"reset"})}function de(){I.current.style.display="none"}function fe(){N(je({opened:!1})),te(!1)}var pe="offline"===D.accountStatus&&!D.isChatting,ve=D&&D.chats,he=e.config,me=e.onConnectionStatusChange;ca(!pe&&!e.preChatFormEnabled&&H);var xe=D.connection.connectionStatus;(0,a.useEffect)((function(){me&&me(xe)}),[xe,me]),ua(null===(b=e.config)||void 0===b?void 0:b.middlewareUrl);var ge=(null===(w=D.agents["agent:robot"])||void 0===w?void 0:w.user)||(null==he?void 0:he.agent)||{nick:"agent:robot",avatarPath:he.avatarUrl,display_name:"Agent"};return a.createElement(a.Fragment,null,a.createElement("div",{className:"widget-container ".concat(Y," ").concat(le())},a.createElement(ng,{theme:null==he?void 0:he.theme}),a.createElement(wn,{accountStatus:D.accountStatus,refreshOnClick:function(){he.header.actions.refreshShowConfirmation?I.current.style.display="block":ce()},minimizeOnClick:fe,cancelOnClick:function(){N(je({opened:!1})),N({type:"reset"}),te(!1)},agent:ge,canRefresh:L,canMinimize:W,canCancel:C,config:null==he?void 0:he.header,menuConfig:he.menu,onSubmit:ue}),a.createElement(eg,{visible:H,queuePosition:D.queuePosition,isChatting:D.isChatting,isOffline:pe,messages:ve,agents:D.agents,agent:null==he?void 0:he.agent,lastRatingRequestTimestamp:D.lastRatingRequestTimestamp,hasRating:D.hasRating,visitorId:D.visitorId,messageMiddleware:e.messageMiddleware,textTypingStatusEnabled:null===(_=null===(O=e.config)||void 0===O?void 0:O.typingStatus)||void 0===_?void 0:_.textTypingStatusEnabled,onSend:function(e){j(function(e){return function(t){return function(){t.sendChatMsgRequest(e,(function(){}))}}}(e))},onWrite:function(e){N(Ie(e.msg,e.user))},onOpenUrl:ie,minimizeOnClick:fe}),a.createElement("div",{className:"xa-spinner-container ".concat(H&&"pending"===xe?"visible":"")},a.createElement("div",{className:"xa-spinner"})),"offline"===xe&&a.createElement(tg,null),a.createElement(ka,{isAdmin:null==he?void 0:he.isAdmin,isChatting:D.isChatting,placeholder:null===(k=null==he?void 0:he.input)||void 0===k?void 0:k.placeholder,sendButtonIcon:null===(P=null===(M=null==he?void 0:he.footer)||void 0===M?void 0:M.sendButton)||void 0===P?void 0:P.icon,visible:H,menuConfig:e.config.menu,footerConfig:null===(E=e.config)||void 0===E?void 0:E.footer,inputConfig:null===(T=e.config)||void 0===T?void 0:T.input,onChange:function(){z||(j(Ae(!0)),V(!0)),se()},onSubmit:ue,onFileUpload:function(e){var t;e.preventDefault();var r=null===(t=null==e?void 0:e.dataTransfer)||void 0===t?void 0:t.files[0];r&&j(function(e){return function(t){return function(r,n){var a=n();if("offline"!==a.accountStatus||a.isChatting){var o={mimeType:e.type,name:e.name,size:e.size,url:window.URL.createObjectURL(e)};t.sendFile(e,(function(e){e&&Z("Error sending file",e)})),r({type:"synthetic",detail:{type:"visitor.send.file",attachment:o,user:{nick:""},attributes:{currentUrl:window.location.href},timestamp:+new Date}})}}}}(r))}}),a.createElement("div",{className:"restartModal",ref:I,onClick:de},a.createElement(vg,{onClose:de,onReset:ce}))),a.createElement(Pe,{addClass:le(),onClick:function(){N(je({opened:!0})),te(!0),setTimeout((function(){document.getElementById("chatWidgetInput").focus()}),100)},config:null==he?void 0:he.cta,imageUrl:null===(S=null==he?void 0:he.chatButton)||void 0===S?void 0:S.imageUrl,visible:H}))};var xg=function(){function e(e,t){this.innerStorage=e,this.key=t}return e.prototype.get=function(){return function(e){try{if(e)return JSON.parse(e)}catch(t){}}(this.innerStorage.getItem(this.key))},e.prototype.set=function(e){try{this.innerStorage.setItem(this.key,JSON.stringify(e))}catch(t){!function(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];var n={};n[e]||(n[e]=!0,Z.apply(void 0,t))}("storage","Unable to store redux state")}},e}();function gg(){return bt()}var yg={displayName:"Visitor",nick:"visitor:",typing:!1};function bg(e){return e||(e={}),e.userId=e.userId?e.userId:gg(),e.visitorId=e.userId,z({connection:{connectionStatus:"offline",token:null,greetingRequested:!1},accountStatus:"offline",departments:{},visitor:yg,agents:{},chats:[],lastTimestamp:0,lastRatingRequestTimestamp:0,hasRating:!1,isChatting:!1,queuePosition:0,failureMsg:null,visitorId:gg(),chips:[],sessionExpiration:"24h",visuals:{}},e)}var wg=bg(),Og=function(){function e(){this.valuesMap=new Map}return e.prototype.getItem=function(e){var t=String(e);return this.valuesMap.has(e)?String(this.valuesMap.get(t)):null},e.prototype.setItem=function(e,t){this.valuesMap.set(String(e),String(t))},e.prototype.removeItem=function(e){this.valuesMap.delete(e)},e.prototype.clear=function(){this.valuesMap.clear()},e.prototype.key=function(e){if(0===arguments.length)throw new TypeError("Failed to execute 'key' on 'Storage': 1 argument required, but only 0 present.");return Array.from(this.valuesMap.keys())[e]},Object.defineProperty(e.prototype,"length",{get:function(){return this.valuesMap.size},enumerable:!1,configurable:!0}),e}();function _g(e,t){return function(e,t,r){if(!e.length)return e.push(t),e;for(var n=0,a=e.length-1;a-n>0;){var o=e[n],s=e[a],i=r(t,o);if(0===i)return e;if(i<0)return e.splice(n,0,t),e;var u=r(t,s);if(0===u)return e;if(u>0)return e.splice(a+1,0,t),e;if(a-n<=1)break;var l=Math.floor((n+a)/2),c=r(e[l],t);c<=0?n=l:c>=0&&(a=l)}return e.splice(n+1,0,t),e}(J([],e,!0),t,(function(e,t){return e.timestamp-t.timestamp}))}function kg(e,t){e.chats=_g(e.chats,t),"chat.msg"===t.type&&(e.activeContexts=t.msg.context)}function Mg(e,t){var r,n,a,o,s;if(void 0===e&&(e=wg),Z("action",t),"reset"===t.type)return function(e){return void 0===e&&(e=wg),z(z({},bg({accessToken:e.accessToken,userId:e.userId,attributes:e.attributes,sessionExpiration:e.sessionExpiration})),{connection:z(z({},e.connection),{greetingRequested:!1,nonce:bt()}),visitor:e.visitor,visitorId:e.visitorId})}(e);switch(t.detail&&(e.lastTimestamp=t.detail.timestamp),t.type){case"connection_update":case"receiveToken":case"sendGreeting":var i=function(e,t){switch(t.type){case"connection_update":return z(z({},e),{connectionStatus:t.detail.status});case"receiveToken":return z(z({},e),{token:t.detail.token});case"sendGreeting":return z(z({},e),{greetingRequested:!0})}return e}(e.connection,t);return e.connection!==i&&(e=z(z({},e),{connection:i})),e;case"account_status":return z(z({},e),{accountStatus:t.detail.status});case"session_id":return z(z({},e),{sessionId:t.detail.sessionId});case"visual_status":var u=z({},e);return u.visuals||(u.visuals={}),void 0!==t.detail.status.drawer&&(u.visuals.drawer=t.detail.status.drawer),void 0!==t.detail.status.opened&&(u.visuals.opened=t.detail.status.opened),void 0!==t.detail.status.visible&&(u.visuals.visible=t.detail.status.visible),u;case"department_update":return z(z({},e),{departments:z(z({},e.departments),(r={},r[t.detail.id]=z({},t.detail),r))});case"visitor_update":return z(z({},e),{visitor:z(z({},e.visitor),t.detail)});case"agent_update":var l=e.agents[t.detail.nick];return z(z({},e),{agents:z(z({},e.agents),(n={},n[t.detail.nick]=z(z({},l),{user:z(z({},l.user),t.detail),typing:(l||{typing:!1}).typing}),n))});case"chat":var c=z({},e);switch(t.detail.type){case"chat.memberjoin":return function(e,t){var r=z({},e.agents),n=e.agents[t.user.nick];return r[t.user.nick]=z(z({},n),{user:z(z({},t.user),{displayName:t.user.displayName||"Agent"}),joined:!0,typing:!1}),X(t.user.nick)?z(z({},e),{isChatting:!0,chats:(null==n?void 0:n.joined)?e.chats:_g(e.chats,t),agents:r}):z(z({},e),{isChatting:!0,chats:_g(e.chats,t),agents:r})}(e,t.detail);case"chat.memberleave":return function(e,t){var r=z({},e.agents),n=e.agents[t.user.nick];r[t.user.nick]=z(z({},n),{joined:!1,typing:!1});var a=Object.values(r).filter((function(e){return e.joined})).length>0;return X(t.user.nick)?z(z({},e),{isChatting:a,chats:(null==n?void 0:n.joined)?_g(e.chats,t):e.chats,agents:r}):z(z({},e),{isChatting:a,chats:_g(e.chats,t),agents:r})}(e,t.detail);case"chat.queue.position":return c.queuePosition=t.detail.queuePosition,c;case"chat.request.rating":return kg(c,t.detail),z(z({},c),{lastRatingRequestTimestamp:t.detail.timestamp});case"chat.rating":return kg(c,t.detail),z(z({},c),{hasRating:!!t.detail.newRating});case"chat.file":case"chat.msg":kg(c,t.detail);var d=t.detail,f="chat.msg"===d.type?d.msg:null;return c.chips=(null===(s=null==f?void 0:f.options)||void 0===s?void 0:s.length)?f.options:[],c;case"chat.failureMsg":var p,v=c.agents[t.detail.user.nick],h=t.detail.failureMsg.retry,m=c;if(1!==h){p=c.chats.filter((function(e){return"chat.failureMsg"===e.type&&e.failureMsg.retry<h}))[0];var x=c.chats.filter((function(e){return e!==p}));m=z(z({},c),{chats:x})}return kg(m,t.detail),z(z({},m),{agents:z(z({},m.agents),(a={},a[t.detail.user.nick]=z(z({},v),{typing:!1,requestFailed:!0}),a)),failureMsg:t.detail.failureMsg});case"chat.typing":var g=e.agents[t.detail.user.nick];return z(z({},e),{agents:z(z({},e.agents),(o={},o[t.detail.user.nick]=z(z({},g),{typing:t.detail.typing}),o))});default:return e}default:return Z("Unhandled redux action: ",t.type),e}}function Pg(e,t){if(void 0===e&&(e=wg),"synthetic"===t.type){Z("synthetic action",t);var r=function(e,t){var r;void 0===e&&(e=wg);var n=((null===(r=t.detail)||void 0===r?void 0:r.timestamp)||+new Date)+1;switch(t.detail.type){case"write_msg":return{type:"chat",detail:{type:"chat.msg",user:t.detail.user,timestamp:n,msg:t.detail.msg}};case"visitor.send.file":return{type:"chat",detail:{type:"chat.file",user:{displayName:e.visitor.displayName,nick:"visitor:"},timestamp:n,attachment:t.detail.attachment}};default:throw new Error("Unknown synthetic action. Detail type: ".concat(t.detail.type))}}(e,t);return Mg(e,r)}return Mg(e,t)}var Eg="AdminAccessTimes";function Tg(e,t){var r;t||(t="undefined"!=typeof window?localStorage:new Og);var a,o=e.connection,s=null===(r=new URL(window.location.href).searchParams)||void 0===r?void 0:r.get("sessionId"),i=(new Date).getTime();if(s){var u=t.getItem(Eg),l=u?JSON.parse(u):{};if(l[s])Z("ChatStore: reusing session: ".concat(s)),l[s].lastAccessMs=i,a=l[s].dataStorageKey;else{if(Object.keys(l).length>=20){var c=function(e){for(var t,r=Number.MAX_VALUE,n=0,a=Object.keys(e);n<a.length;n++){var o=a[n];e[o].lastAccessMs<r&&(t=o,r=e[o].lastAccessMs)}return t}(l);Z("ChatStore: evicting session: ".concat(c)),t.removeItem(l[c].dataStorageKey),l[c]=void 0}a=Sg(o,s),l[s]={lastAccessMs:i,dataStorageKey:a}}t.setItem(Eg,JSON.stringify(l))}else a=Sg(o);var d=function(e,t,r){var n,a=null!==(n=e.get())&&void 0!==n?n:t;return function(t,n){void 0===t&&(t=a);var o=r(t,n);return e.set(o),o}}(new xg(t,a),bg({accessToken:e.accessToken,userId:e.userId,attributes:e.attributes,sessionExpiration:e.sessionExpiration}),Pg),f=[n.default];return R(d,(globalThis.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||A)(U.apply(void 0,f)))}function Sg(e,t){var r="xappchat.".concat(e.serverUrl);return t?e.accountKey?"".concat(r,".").concat(e.accountKey,".").concat(t):"".concat(r,".").concat(t):e.accountKey?"".concat(r,".").concat(e.accountKey):r}var Cg=function(e){var t,r,n,o,s,i=Kn(),u=q(e.config),l=(0,a.useMemo)((function(){var t,r,n,a;return Tg({connection:u,userId:null===(t=e.config)||void 0===t?void 0:t.userId,accessToken:null===(r=e.config)||void 0===r?void 0:r.accessToken,attributes:null===(n=e.config)||void 0===n?void 0:n.attributes,sessionExpiration:null===(a=e.config)||void 0===a?void 0:a.sessionExpiration})}),[u,null===(t=e.config)||void 0===t?void 0:t.userId,null===(r=e.config)||void 0===r?void 0:r.accessToken,null===(n=e.config)||void 0===n?void 0:n.attributes,null===(o=e.config)||void 0===o?void 0:o.sessionExpiration]);if(null===(s=e.config)||void 0===s?void 0:s.disabled)return a.createElement(a.Fragment,null);var c=z(z({},e),{messageMiddleware:i});return a.createElement(k,{store:l},a.createElement(hg,z({},c)))};null===globalThis||void 0===globalThis||globalThis.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__},3771:function(e,t,r){var n=r(7294);var a="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},o=n.useSyncExternalStore,s=n.useRef,i=n.useEffect,u=n.useMemo,l=n.useDebugValue;t.useSyncExternalStoreWithSelector=function(e,t,r,n,c){var d=s(null);if(null===d.current){var f={hasValue:!1,value:null};d.current=f}else f=d.current;d=u((function(){function e(e){if(!i){if(i=!0,o=e,e=n(e),void 0!==c&&f.hasValue){var t=f.value;if(c(t,e))return s=t}return s=e}if(t=s,a(o,e))return t;var r=n(e);return void 0!==c&&c(t,r)?t:(o=e,s=r)}var o,s,i=!1,u=void 0===r?null:r;return[function(){return e(t())},null===u?void 0:function(){return e(u())}]}),[t,r,n,c]);var p=o(e,d[0],d[1]);return i((function(){f.hasValue=!0,f.value=p}),[p]),l(p),p}},1103:function(e,t,r){e.exports=r(3771)}}]);