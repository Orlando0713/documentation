/*! For license information please see 3880.0099cb2f.js.LICENSE.txt */
"use strict";(self.webpackChunkoc_studio_docs=self.webpackChunkoc_studio_docs||[]).push([[3880],{3081:function(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.d(__webpack_exports__,{en:function(){return ChatWidgetContainer}});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(7294),react_redux__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(5617),redux__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(1951),redux_thunk__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(3894),ActionButton=function(e){return react__WEBPACK_IMPORTED_MODULE_0__.createElement("button",{type:e.type,className:"action-button ".concat(e.addClass),onClick:function(t){t.stopPropagation(),e.onClick&&e.onClick(e.label)}},e.label)},defaultServerUrl="",ChatConfigContext=(0,react__WEBPACK_IMPORTED_MODULE_0__.createContext)(null);function useWidgetEnv(){var e=(0,react__WEBPACK_IMPORTED_MODULE_0__.useContext)(ChatConfigContext);return null==e?void 0:e.env}function getServerConfig(e){return(null==e?void 0:e.connection)?e.connection:{serverUrl:null==e?void 0:e.serverUrl,accountKey:null==e?void 0:e.accountKey,type:(null==e?void 0:e.direct)?"direct":"websocket"}}function useServerConfig(e,t){var r=getServerConfig(e),n=r.accountKey,a=r.serverUrl,o=r.type;return(0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)((function(){return{accountKey:n,serverUrl:a,type:o,nonce:t}}),[n,a,o,t])}function useConnectionInfo(e){return useServerConfig(e,(0,react_redux__WEBPACK_IMPORTED_MODULE_1__.v9)((function(e){return e.connection.nonce})))}var __assign=function(){return __assign=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var a in t=arguments[r])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},__assign.apply(this,arguments)};function __awaiter$1(e,t,r,n){return new(r||(r=Promise))((function(a,o){function s(e){try{u(n.next(e))}catch(t){o(t)}}function i(e){try{u(n.throw(e))}catch(t){o(t)}}function u(e){e.done?a(e.value):function(e){return e instanceof r?e:new r((function(t){t(e)}))}(e.value).then(s,i)}u((n=n.apply(e,t||[])).next())}))}function __generator$1(e,t){var r,n,a,o,s={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:i(0),throw:i(1),return:i(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function i(o){return function(i){return function(o){if(r)throw new TypeError("Generator is already executing.");for(;s;)try{if(r=1,n&&(a=2&o[0]?n.return:o[0]?n.throw||((a=n.return)&&a.call(n),0):n.next)&&!(a=a.call(n,o[1])).done)return a;switch(n=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,n=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(a=s.trys,(a=a.length>0&&a[a.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){s.label=o[1];break}if(6===o[0]&&s.label<a[1]){s.label=a[1],a=o;break}if(a&&s.label<a[2]){s.label=a[2],s.ops.push(o);break}a[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(i){o=[6,i],n=0}finally{r=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,i])}}}function __spreadArray$1(e,t,r){if(r||2===arguments.length)for(var n,a=0,o=t.length;a<o;a++)!n&&a in t||(n||(n=Array.prototype.slice.call(t,0,a)),n[a]=t[a]);return e.concat(n||Array.prototype.slice.call(t))}function insertSorted(e,t,r){if(!e.length)return e.push(t),e;for(var n=0,a=e.length-1;a-n>0;){var o=e[n],s=e[a];if(r(t,o)<=0)return e.splice(n,0,t),e;if(r(t,s)>=0)return e.splice(a+1,0,t),e;if(a-n<=1)break;var i=Math.floor((n+a)/2),u=r(e[i],t);u<=0?n=i:u>=0&&(a=i)}return e.splice(n+1,0,t),e}function isAgent(e){return!!e&&e.startsWith("agent:")}var commonjsGlobal="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==__webpack_require__.g?__webpack_require__.g:"undefined"!=typeof self?self:{},assign$1=make_assign(),create$1=make_create(),trim$1=make_trim(),Global$5="undefined"!=typeof window?window:commonjsGlobal,util$6={assign:assign$1,create:create$1,trim:trim$1,bind:bind$1,slice:slice$1,each:each$7,map:map$1,pluck:pluck$1,isList:isList$2,isFunction:isFunction$1,isObject:isObject$1,Global:Global$5};function make_assign(){return Object.assign?Object.assign:function(e,t,r,n){for(var a=1;a<arguments.length;a++)each$7(Object(arguments[a]),(function(t,r){e[r]=t}));return e}}function make_create(){if(Object.create)return function(e,t,r,n){var a=slice$1(arguments,1);return assign$1.apply(this,[Object.create(e)].concat(a))};{function e(){}return function(t,r,n,a){var o=slice$1(arguments,1);return e.prototype=t,assign$1.apply(this,[new e].concat(o))}}}function make_trim(){return String.prototype.trim?function(e){return String.prototype.trim.call(e)}:function(e){return e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")}}function bind$1(e,t){return function(){return t.apply(e,Array.prototype.slice.call(arguments,0))}}function slice$1(e,t){return Array.prototype.slice.call(e,t||0)}function each$7(e,t){pluck$1(e,(function(e,r){return t(e,r),!1}))}function map$1(e,t){var r=isList$2(e)?[]:{};return pluck$1(e,(function(e,n){return r[n]=t(e,n),!1})),r}function pluck$1(e,t){if(isList$2(e)){for(var r=0;r<e.length;r++)if(t(e[r],r))return e[r]}else for(var n in e)if(e.hasOwnProperty(n)&&t(e[n],n))return e[n]}function isList$2(e){return null!=e&&"function"!=typeof e&&"number"==typeof e.length}function isFunction$1(e){return e&&"[object Function]"==={}.toString.call(e)}function isObject$1(e){return e&&"[object Object]"==={}.toString.call(e)}var util$5=util$6,slice=util$5.slice,pluck=util$5.pluck,each$6=util$5.each,bind=util$5.bind,create=util$5.create,isList$1=util$5.isList,isFunction=util$5.isFunction,isObject=util$5.isObject,storeEngine={createStore:createStore},storeAPI={version:"2.0.12",enabled:!1,get:function(e,t){var r=this.storage.read(this._namespacePrefix+e);return this._deserialize(r,t)},set:function(e,t){return void 0===t?this.remove(e):(this.storage.write(this._namespacePrefix+e,this._serialize(t)),t)},remove:function(e){this.storage.remove(this._namespacePrefix+e)},each:function(e){var t=this;this.storage.each((function(r,n){e.call(t,t._deserialize(r),(n||"").replace(t._namespaceRegexp,""))}))},clearAll:function(){this.storage.clearAll()},hasNamespace:function(e){return this._namespacePrefix=="__storejs_"+e+"_"},createStore:function(){return createStore.apply(this,arguments)},addPlugin:function(e){this._addPlugin(e)},namespace:function(e){return createStore(this.storage,this.plugins,e)}};function _warn(){var e="undefined"==typeof console?null:console;e&&(e.warn?e.warn:e.log).apply(e,arguments)}function createStore(e,t,r){r||(r=""),e&&!isList$1(e)&&(e=[e]),t&&!isList$1(t)&&(t=[t]);var n=r?"__storejs_"+r+"_":"",a=r?new RegExp("^"+n):null;if(!/^[a-zA-Z0-9_\-]*$/.test(r))throw new Error("store.js namespaces can only have alphanumerics + underscores and dashes");var o={_namespacePrefix:n,_namespaceRegexp:a,_testStorage:function(e){try{var t="__storejs__test__";e.write(t,t);var r=e.read(t)===t;return e.remove(t),r}catch(n){return!1}},_assignPluginFnProp:function(e,t){var r=this[t];this[t]=function(){var t=slice(arguments,0),n=this;var a=[function(){if(r)return each$6(arguments,(function(e,r){t[r]=e})),r.apply(n,t)}].concat(t);return e.apply(n,a)}},_serialize:function(e){return JSON.stringify(e)},_deserialize:function(e,t){if(!e)return t;var r="";try{r=JSON.parse(e)}catch(n){r=e}return void 0!==r?r:t},_addStorage:function(e){this.enabled||this._testStorage(e)&&(this.storage=e,this.enabled=!0)},_addPlugin:function(e){var t=this;if(isList$1(e))each$6(e,(function(e){t._addPlugin(e)}));else if(!pluck(this.plugins,(function(t){return e===t}))){if(this.plugins.push(e),!isFunction(e))throw new Error("Plugins must be function values that return objects");var r=e.call(this);if(!isObject(r))throw new Error("Plugins must return an object of function properties");each$6(r,(function(r,n){if(!isFunction(r))throw new Error("Bad plugin property: "+n+" from plugin "+e.name+". Plugins should only return functions.");t._assignPluginFnProp(r,n)}))}},addStorage:function(e){_warn("store.addStorage(storage) is deprecated. Use createStore([storages])"),this._addStorage(e)}},s=create(o,storeAPI,{plugins:[]});return s.raw={},each$6(s,(function(e,t){isFunction(e)&&(s.raw[t]=bind(s,e))})),each$6(e,(function(e){s._addStorage(e)})),each$6(t,(function(e){s._addPlugin(e)})),s}var util$4=util$6,Global$4=util$4.Global,localStorage_1={name:"localStorage",read:read$5,write:write$5,each:each$5,remove:remove$5,clearAll:clearAll$5};function localStorage$1(){return Global$4.localStorage}function read$5(e){return localStorage$1().getItem(e)}function write$5(e,t){return localStorage$1().setItem(e,t)}function each$5(e){for(var t=localStorage$1().length-1;t>=0;t--){var r=localStorage$1().key(t);e(read$5(r),r)}}function remove$5(e){return localStorage$1().removeItem(e)}function clearAll$5(){return localStorage$1().clear()}var util$3=util$6,Global$3=util$3.Global,oldFFGlobalStorage={name:"oldFF-globalStorage",read:read$4,write:write$4,each:each$4,remove:remove$4,clearAll:clearAll$4},globalStorage=Global$3.globalStorage;function read$4(e){return globalStorage[e]}function write$4(e,t){globalStorage[e]=t}function each$4(e){for(var t=globalStorage.length-1;t>=0;t--){var r=globalStorage.key(t);e(globalStorage[r],r)}}function remove$4(e){return globalStorage.removeItem(e)}function clearAll$4(){each$4((function(e,t){delete globalStorage[e]}))}var util$2=util$6,Global$2=util$2.Global,oldIEUserDataStorage={name:"oldIE-userDataStorage",write:write$3,read:read$3,each:each$3,remove:remove$3,clearAll:clearAll$3},storageName="storejs",doc$1=Global$2.document,_withStorageEl=_makeIEStorageElFunction(),disable=(Global$2.navigator?Global$2.navigator.userAgent:"").match(/ (MSIE 8|MSIE 9|MSIE 10)\./);function write$3(e,t){if(!disable){var r=fixKey(e);_withStorageEl((function(e){e.setAttribute(r,t),e.save(storageName)}))}}function read$3(e){if(!disable){var t=fixKey(e),r=null;return _withStorageEl((function(e){r=e.getAttribute(t)})),r}}function each$3(e){_withStorageEl((function(t){for(var r=t.XMLDocument.documentElement.attributes,n=r.length-1;n>=0;n--){var a=r[n];e(t.getAttribute(a.name),a.name)}}))}function remove$3(e){var t=fixKey(e);_withStorageEl((function(e){e.removeAttribute(t),e.save(storageName)}))}function clearAll$3(){_withStorageEl((function(e){var t=e.XMLDocument.documentElement.attributes;e.load(storageName);for(var r=t.length-1;r>=0;r--)e.removeAttribute(t[r].name);e.save(storageName)}))}var forbiddenCharsRegex=new RegExp("[!\"#$%&'()*+,/\\\\:;<=>?@[\\]^`{|}~]","g");function fixKey(e){return e.replace(/^\d/,"___$&").replace(forbiddenCharsRegex,"___")}function _makeIEStorageElFunction(){if(!doc$1||!doc$1.documentElement||!doc$1.documentElement.addBehavior)return null;var e,t,r,n="script";try{(t=new ActiveXObject("htmlfile")).open(),t.write("<"+n+">document.w=window</"+n+'><iframe src="/favicon.ico"></iframe>'),t.close(),e=t.w.frames[0].document,r=e.createElement("div")}catch(a){r=doc$1.createElement("div"),e=doc$1.body}return function(t){var n=[].slice.call(arguments,0);n.unshift(r),e.appendChild(r),r.addBehavior("#default#userData"),r.load(storageName),t.apply(this,n),e.removeChild(r)}}var util$1=util$6,Global$1=util$1.Global,trim=util$1.trim,cookieStorage={name:"cookieStorage",read:read$2,write:write$2,each:each$2,remove:remove$2,clearAll:clearAll$2},doc=Global$1.document;function read$2(e){if(!e||!_has(e))return null;var t="(?:^|.*;\\s*)"+escape(e).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=\\s*((?:[^;](?!;))*[^;]?).*";return unescape(doc.cookie.replace(new RegExp(t),"$1"))}function each$2(e){for(var t=doc.cookie.split(/; ?/g),r=t.length-1;r>=0;r--)if(trim(t[r])){var n=t[r].split("="),a=unescape(n[0]);e(unescape(n[1]),a)}}function write$2(e,t){e&&(doc.cookie=escape(e)+"="+escape(t)+"; expires=Tue, 19 Jan 2038 03:14:07 GMT; path=/")}function remove$2(e){e&&_has(e)&&(doc.cookie=escape(e)+"=; expires=Thu, 01 Jan 1970 00:00:00 GMT; path=/")}function clearAll$2(){each$2((function(e,t){remove$2(t)}))}function _has(e){return new RegExp("(?:^|;\\s*)"+escape(e).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=").test(doc.cookie)}var util=util$6,Global=util.Global,sessionStorage_1={name:"sessionStorage",read:read$1,write:write$1,each:each$1,remove:remove$1,clearAll:clearAll$1};function sessionStorage(){return Global.sessionStorage}function read$1(e){return sessionStorage().getItem(e)}function write$1(e,t){return sessionStorage().setItem(e,t)}function each$1(e){for(var t=sessionStorage().length-1;t>=0;t--){var r=sessionStorage().key(t);e(read$1(r),r)}}function remove$1(e){return sessionStorage().removeItem(e)}function clearAll$1(){return sessionStorage().clear()}var memoryStorage_1={name:"memoryStorage",read:read,write:write,each:each,remove:remove,clearAll:clearAll},memoryStorage={};function read(e){return memoryStorage[e]}function write(e,t){memoryStorage[e]=t}function each(e){for(var t in memoryStorage)memoryStorage.hasOwnProperty(t)&&e(memoryStorage[t],t)}function remove(e){delete memoryStorage[e]}function clearAll(e){memoryStorage={}}var all=[localStorage_1,oldFFGlobalStorage,oldIEUserDataStorage,cookieStorage,sessionStorage_1,memoryStorage_1],json2$1={},hasRequiredJson2;function requireJson2(){return hasRequiredJson2||(hasRequiredJson2=1,"object"!=typeof JSON&&(JSON={}),function(){var rx_one=/^[\],:{}\s]*$/,rx_two=/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,rx_three=/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,rx_four=/(?:^|:|,)(?:\s*\[)+/g,rx_escapable=/[\\"\u0000-\u001f\u007f-\u009f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,rx_dangerous=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,gap,indent,meta,rep;function f(e){return e<10?"0"+e:e}function this_value(){return this.valueOf()}function quote(e){return rx_escapable.lastIndex=0,rx_escapable.test(e)?'"'+e.replace(rx_escapable,(function(e){var t=meta[e];return"string"==typeof t?t:"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)}))+'"':'"'+e+'"'}function str(e,t){var r,n,a,o,s,i=gap,u=t[e];switch(u&&"object"==typeof u&&"function"==typeof u.toJSON&&(u=u.toJSON(e)),"function"==typeof rep&&(u=rep.call(t,e,u)),typeof u){case"string":return quote(u);case"number":return isFinite(u)?String(u):"null";case"boolean":case"null":return String(u);case"object":if(!u)return"null";if(gap+=indent,s=[],"[object Array]"===Object.prototype.toString.apply(u)){for(o=u.length,r=0;r<o;r+=1)s[r]=str(r,u)||"null";return a=0===s.length?"[]":gap?"[\n"+gap+s.join(",\n"+gap)+"\n"+i+"]":"["+s.join(",")+"]",gap=i,a}if(rep&&"object"==typeof rep)for(o=rep.length,r=0;r<o;r+=1)"string"==typeof rep[r]&&(a=str(n=rep[r],u))&&s.push(quote(n)+(gap?": ":":")+a);else for(n in u)Object.prototype.hasOwnProperty.call(u,n)&&(a=str(n,u))&&s.push(quote(n)+(gap?": ":":")+a);return a=0===s.length?"{}":gap?"{\n"+gap+s.join(",\n"+gap)+"\n"+i+"}":"{"+s.join(",")+"}",gap=i,a}}"function"!=typeof Date.prototype.toJSON&&(Date.prototype.toJSON=function(){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+f(this.getUTCMonth()+1)+"-"+f(this.getUTCDate())+"T"+f(this.getUTCHours())+":"+f(this.getUTCMinutes())+":"+f(this.getUTCSeconds())+"Z":null},Boolean.prototype.toJSON=this_value,Number.prototype.toJSON=this_value,String.prototype.toJSON=this_value),"function"!=typeof JSON.stringify&&(meta={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},JSON.stringify=function(e,t,r){var n;if(gap="",indent="","number"==typeof r)for(n=0;n<r;n+=1)indent+=" ";else"string"==typeof r&&(indent=r);if(rep=t,t&&"function"!=typeof t&&("object"!=typeof t||"number"!=typeof t.length))throw new Error("JSON.stringify");return str("",{"":e})}),"function"!=typeof JSON.parse&&(JSON.parse=function(text,reviver){var j;function walk(e,t){var r,n,a=e[t];if(a&&"object"==typeof a)for(r in a)Object.prototype.hasOwnProperty.call(a,r)&&(void 0!==(n=walk(a,r))?a[r]=n:delete a[r]);return reviver.call(e,t,a)}if(text=String(text),rx_dangerous.lastIndex=0,rx_dangerous.test(text)&&(text=text.replace(rx_dangerous,(function(e){return"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)}))),rx_one.test(text.replace(rx_two,"@").replace(rx_three,"]").replace(rx_four,"")))return j=eval("("+text+")"),"function"==typeof reviver?walk({"":j},""):j;throw new SyntaxError("JSON.parse")})}()),json2$1}var json2=json2Plugin;function json2Plugin(){return requireJson2(),{}}var engine=storeEngine,storages=all,plugins=[json2],store_legacy=engine.createStore(storages,plugins),PREFIX="xappWidget.";function get(e){if(store_legacy.enabled)return store_legacy.get(PREFIX+e)}function set$1(e,t){if(store_legacy.enabled)return store_legacy.set(PREFIX+e,t)}function useIsMounted(){var e=(0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(!1);return(0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)((function(){return e.current=!0,function(){e.current=!1}}),[]),(0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)((function(){return e.current}),[])}var RetryOptions=function(){this.retries=5,this.timeout=1e3,this.log=!1},RetryRequest=function(){function e(e){e&&(this.options=Object.assign(new RetryOptions,e))}return e.prototype.fetch=function(e,t){return __awaiter$1(this,void 0,void 0,(function(){var r,n,a,o;return __generator$1(this,(function(s){switch(s.label){case 0:t||(t=this.options),s.label=1;case 1:return s.trys.push([1,3,,5]),r=new AbortController,n=setTimeout((function(){r.abort()}),t.timeout),[4,e(r.signal)];case 2:return a=s.sent(),clearTimeout(n),[2,a];case 3:if(o=s.sent(),1===t.retries||t.retries<1)throw o;return[4,this.fetch(e,{timeout:t.timeout,retries:t.retries-1})];case 4:return[2,s.sent()];case 5:return[2]}}))}))},e}(),EMAIL_REGEX="^\\w+([\\.-]?\\w+)*@\\w+([\\.-]?\\w+)*(\\.\\w{2,3})+$";function getCurrentDateString(){return(new Date).toISOString()+" ::"}function log(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];"debug"===window.xaLogLevel&&console.log.apply(console,__spreadArray$1([getCurrentDateString()],e,!1))}function err(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];console.error.apply(console,__spreadArray$1([getCurrentDateString()],e,!1))}var logOnce=function(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];var n={};n[e]||(n[e]=!0,log.apply(void 0,t))};function getVisitorSvg(){return react__WEBPACK_IMPORTED_MODULE_0__.createElement("svg",{width:"16",height:"19",viewBox:"0 0 16 19",style:{margin:"0 auto",display:"block"}},react__WEBPACK_IMPORTED_MODULE_0__.createElement("path",{d:"M11.5 5c0-1.933-1.567-3.5-3.5-3.5S4.5 3.067 4.5 5 6.067 8.5 8 8.5s3.5-1.567 3.5-3.5zM3 5c0-2.76 2.24-5 5-5s5 2.24 5 5-2.24 5-5 5-5-2.24-5-5zM1.955 17.294c.21-.642.504-1.285.898-1.88C3.963 13.74 5.615 12.75 8 12.75c2.385 0 4.038.99 5.147 2.664.394.595.69 1.238.898 1.88.124.382.19.672.214.822.063.41.447.69.856.625.41-.063.69-.447.625-.856-.034-.225-.118-.59-.27-1.053-.247-.763-.598-1.527-1.073-2.244C13.024 12.51 10.917 11.25 8 11.25c-2.916 0-5.024 1.26-6.397 3.336-.475.717-.826 1.48-1.074 2.245-.152.463-.236.83-.27 1.054-.065.41.215.793.624.857.41.065.793-.215.857-.624.025-.15.09-.44.215-.822z",fill:"#FFF",fillRule:"evenodd"}))}var Avatar=function(e){var t,r,n,a={},o=e.entity,s=null==o?void 0:o.avatarPath,i=o&&isAgent(o.nick),u=(0,react__WEBPACK_IMPORTED_MODULE_0__.useContext)(ChatConfigContext);i?(s&&(s.startsWith("http")?a.backgroundImage="url('".concat(s,"')"):(null==u?void 0:u.assetUrl)&&(a.backgroundImage="url('".concat(null==u?void 0:u.assetUrl,"/").concat(s,"')")),a.backgroundColor="none"),null!==(t=a.backgroundImage)&&void 0!==t||(a.backgroundImage="url('".concat(null===(r=null==u?void 0:u.env)||void 0===r?void 0:r.avatarUrl,"')"))):n=getVisitorSvg();var c=!!a.backgroundImage||!!n;return react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"avatar ".concat(i?"avatar--agent":"avatar--visitor"," ").concat(c?"":"avatar--empty"),style:a,title:o?o.display_name:"Agent"},n)};function isChatServerActionLink(e){return e.hasOwnProperty("label")}function getChatServerActionLinkLabel(e){return isChatServerActionLink(e)?e.label:e}function getItemUrl(e){return e.url||e.imageActionUrl}var OptionalLink=function(e){var t=e.url,r=e.className,n=e.onOpen,a=(0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)((function(){n&&n(t)}),[t,n]);return t?react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{onClick:a,className:r},e.children):react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{onClick:e.onClick,className:r},e.children)},ActionItem=function(e){var t,r=e.item,n=e.onButtonClick,a=e.onExecute,o=1===(null===(t=r.buttons)||void 0===t?void 0:t.length),s=(0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)((function(){var e;1===(null===(e=r.buttons)||void 0===e?void 0:e.length)?n(r.buttons[0]):a(r.title,r.token)}),[r,a,n]),i="xappw-chat-action-item ".concat(o?"xappw-chat-action-item--action":""," ").concat(e.className);return react__WEBPACK_IMPORTED_MODULE_0__.createElement(OptionalLink,{className:i,url:getItemUrl(r),onClick:s,onOpen:e.onOpenUrl},e.children)},ChatImage=function(e){var t=e.imageUrl.replace(/'/g,"%27"),r=react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"chat-card-img__content",style:{backgroundImage:"url(".concat(t,")")}});return e.imageActionUrl?react__WEBPACK_IMPORTED_MODULE_0__.createElement("a",{href:e.imageActionUrl,"aria-label":"read more",target:"_blank",rel:"noopener noreferrer",className:"chat-card-img"},r):react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"chat-card-img"},r)},ActionItemImage=function(e){var t,r=e.item,n=1===(null===(t=r.buttons)||void 0===t?void 0:t.length),a=getItemUrl(r);if(r.imageUrl){var o=n?null:r.imageActionUrl;return react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:e.className},react__WEBPACK_IMPORTED_MODULE_0__.createElement(ChatImage,{imageUrl:r.imageUrl,imageActionUrl:!a&&o}))}return e.emptyImageVisible?react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:e.className}):react__WEBPACK_IMPORTED_MODULE_0__.createElement(react__WEBPACK_IMPORTED_MODULE_0__.Fragment,null)},ChatActionButtonInner=function(e){var t=e.button,r=e.onClick,n=(0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)((function(){r(t)}),[t,r]);return react__WEBPACK_IMPORTED_MODULE_0__.createElement(ActionButton,{onClick:n,addClass:"button-card",label:t.label})},ChatActionButton=react__WEBPACK_IMPORTED_MODULE_0__.memo(ChatActionButtonInner),ChatActionButtonsInner=function(e){return react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"buttons-container "+(e.className||"")},e.buttons.map((function(t,r){return react__WEBPACK_IMPORTED_MODULE_0__.createElement(ChatActionButton,{button:t,onClick:e.onClick,key:r})})))},ChatActionButtons=react__WEBPACK_IMPORTED_MODULE_0__.memo(ChatActionButtonsInner),CarouselItem=function(e){var t,r=e.item;return react__WEBPACK_IMPORTED_MODULE_0__.createElement(ActionItem,{className:"chat-list-item-container",item:r,onButtonClick:e.onButtonClick,onExecute:e.onExecute,onOpenUrl:e.onOpenUrl},react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"chat-list-item"},react__WEBPACK_IMPORTED_MODULE_0__.createElement(ActionItemImage,{item:r,className:"chat-list-item__img",emptyImageVisible:e.emptyImageVisible}),r.title&&react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"chat-list-item__title"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("span",null,r.title)),r.subTitle&&react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"chat-list-item__subtitle"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("span",null,r.subTitle)),!!(null===(t=r.buttons)||void 0===t?void 0:t.length)&&react__WEBPACK_IMPORTED_MODULE_0__.createElement(ChatActionButtons,{className:"chat-list-item__actions",buttons:r.buttons,onClick:e.onButtonClick})))};function getLeftArrowSvg(){return react__WEBPACK_IMPORTED_MODULE_0__.createElement("svg",{viewBox:"-5 -18 10 36"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("path",{d:"M 2.5 -15 L -2.5 0 L 2.5 15",stroke:"currentColor",strokeLinecap:"square",strokeWidth:"4px",fill:"none"}))}var ChevronLeft=function(e){return react__WEBPACK_IMPORTED_MODULE_0__.createElement("button",{onClick:e.onClick,className:"chevron"},getLeftArrowSvg())};function getRightArrowSvg(){return react__WEBPACK_IMPORTED_MODULE_0__.createElement("svg",{viewBox:"-5 -18 10 36"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("path",{d:"M -2.5 -15 L 2.5 0 L -2.5 15",stroke:"currentColor",strokeLinecap:"square",strokeWidth:"4px",fill:"none"}))}var ChevronRight=function(e){return react__WEBPACK_IMPORTED_MODULE_0__.createElement("button",{onClick:e.onClick,className:"chevron"},getRightArrowSvg())},Carousel=function(e){var t=(0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(null),r=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(0),n=r[0],a=r[1];function o(e){var r,o,s=t.current;if(s){var i=s.getElementsByClassName("xappw-carousel-items__item"),u=i.length,c=n;1===e?n<u-1&&c++:n>0&&c--;for(var l=0,d=0;d<i.length&&d!==c;d++)l+=null!==(o=null===(r=i.item(d))||void 0===r?void 0:r.clientWidth)&&void 0!==o?o:0;s.scrollLeft=l,a(c)}}var s=1===e.list.items.length,i=e.list.items.some((function(e){return e.imageUrl})),u=e.list.items.map((function(t,r){return react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"xappw-carousel-items__item",key:"item-key-".concat(r)},react__WEBPACK_IMPORTED_MODULE_0__.createElement(CarouselItem,{item:t,emptyImageVisible:i,onExecute:e.onExecute,onButtonClick:e.onButtonClick,onOpenUrl:e.onOpenUrl}))}));return react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"xappw-carousel"},!s&&react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"xappw-carousel__prev"},react__WEBPACK_IMPORTED_MODULE_0__.createElement(ChevronLeft,{onClick:function(){return o(-1)}})),react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{ref:t,className:"xappw-carousel-items ".concat(s?"xappw-carousel-items--one-item":"")},u),!s&&react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"xappw-carousel__next"},react__WEBPACK_IMPORTED_MODULE_0__.createElement(ChevronRight,{onClick:function(){return o(1)}})))};function useDimensions(){var e=(0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(null),t=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(),r=t[0],n=t[1];return(0,react__WEBPACK_IMPORTED_MODULE_0__.useLayoutEffect)((function(){var t,r;n(null===(r=null===(t=e.current)||void 0===t?void 0:t.getBoundingClientRect())||void 0===r?void 0:r.toJSON())}),[]),[e,r]}function add$1(e,t){return{x:e.x+t.x,y:e.y+t.y}}function sub$1(e,t){return{x:e.x-t.x,y:e.y-t.y}}function mul(e,t){return{x:e.x*t,y:e.y*t}}function len(e){return Math.sqrt(e.x*e.x+e.y*e.y)}function resize(e,t){var r=len(e);return r?mul(e,t/r):e}function rotateZ(e,t){var r=t*Math.PI/180,n=Math.cos(r),a=Math.sin(r);return{x:e.x*n+e.y*a,y:e.y*n-e.x*a}}function intersectLineEllipsis(e,t){var r=sub$1(t.start,e.center),n=r.x,a=r.y,o=t.direction.x,s=t.direction.y,i=e.radius.x,u=e.radius.y,c=i*i,l=u*u,d=o*o/c+s*s/l,f=2*o*n/c+2*s*a/l,_=f*f-4*d*(n*n/c+a*a/l-1);if(_>=0){var p=Math.sqrt(_),g=(-f-p)/(2*d),h=(-f+p)/(2*d);if(g>0&&h>0)return add$1(t.start,mul(t.direction,Math.min(g,h)));if(g>0)return add$1(t.start,mul(t.direction,g));if(h>0)return add$1(t.start,mul(t.direction,h))}return t.start}function getTailSvgPath$1(e,t){var r=e.direction*Math.PI/180,n={x:e.width/2,y:e.height/2},a={x:t.x/2,y:t.y/2},o={x:n.x*Math.cos(r),y:n.y*Math.sin(r)},s=resize(o,len(o)+e.length),i=add$1(s,a),u=sub$1(o,s),c=e.angle,l=rotateZ(u,c/2),d=rotateZ(u,-c/2),f={center:a,radius:n},_=intersectLineEllipsis(f,{start:i,direction:l}),p=intersectLineEllipsis(f,{start:i,direction:d});return"m ".concat(i.x," ").concat(i.y," L ").concat(_.x," ").concat(_.y," L ").concat(p.x," ").concat(p.y," z")}var CtaBubbleTail=function(e){var t,r,n=useDimensions(),a=n[0],o=n[1],s={x:null!==(t=null==o?void 0:o.width)&&void 0!==t?t:0,y:null!==(r=null==o?void 0:o.height)&&void 0!==r?r:0};return react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{ref:a,className:"cta-bubble__tail"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 ".concat(s.x," ").concat(s.y)},react__WEBPACK_IMPORTED_MODULE_0__.createElement("path",{d:getTailSvgPath$1(e,s),fill:"currentColor"})))},CtaBubble=function(e){var t,r,n=useDimensions(),a=n[0],o=n[1];return react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{ref:a,style:e.borderStyle&&{border:"solid",borderWidth:e.borderStyle.width,borderColor:e.borderStyle.color},className:"cta-bubble",onClick:e.onClick},react__WEBPACK_IMPORTED_MODULE_0__.createElement(CtaBubbleTail,{width:null!==(t=null==o?void 0:o.width)&&void 0!==t?t:0,height:null!==(r=null==o?void 0:o.height)&&void 0!==r?r:0,direction:60,angle:45,length:16}),react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"cta-bubble__content"},e.children))},CtaBubbleContainer=function(e){var t=(0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)((function(){if(e.visible)return(new Date).valueOf()}),[e.visible]),r=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)((new Date).valueOf()),n=r[0],a=r[1],o=e.timeout,s=n-t,i=t&&e.timeout&&s>=e.timeout;return(0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)((function(){if(t){var e=t+o-(new Date).valueOf();if(!(e<=0)){var r=setTimeout((function(){a((new Date).valueOf())}),e);return function(){clearTimeout(r)}}}}),[t,o]),react__WEBPACK_IMPORTED_MODULE_0__.createElement(react__WEBPACK_IMPORTED_MODULE_0__.Fragment,null,e.visible&&!i&&react__WEBPACK_IMPORTED_MODULE_0__.createElement(CtaBubble,{onClick:e.onClick},e.children))},ChatButton=function(e){return react__WEBPACK_IMPORTED_MODULE_0__.createElement("button",{className:"xapp-chat-button ".concat(e.addClass),onClick:e.onClick},react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{id:"xapp-widget-button",className:"xapp-chat-button__btn",style:e.borderStyle&&{border:"solid",borderWidth:e.borderStyle.width,borderColor:e.borderStyle.color}},react__WEBPACK_IMPORTED_MODULE_0__.createElement("svg",{width:"22",height:"22",viewBox:"0 0 22 22"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("path",{d:"M13 22l-4-6H2c-1.11-.043-2-.935-2-2V2C0 .89.89 0 2 0h18c1.11 0 2 .892 2 2v12c0 1.067-.89 1.957-2 2h-3l-4 6zm3-8h4c-.005.3-.01-12 0-12-.01.004-18 .006-18 0 .005.006 0 12 0 12h8l3 5 3-5z",fill:"#FFF",fillRule:"evenodd"}))),e.config&&e.config.message&&react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"xapp-chat-button__cta"},react__WEBPACK_IMPORTED_MODULE_0__.createElement(CtaBubbleContainer,{timeout:e.config.timeout,visible:!e.visible},e.config.message)))},ChatCard=function(e){var t,r,n,a,o=e.card;return o.imageUrl&&(n=react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"chat-card-container__img"},react__WEBPACK_IMPORTED_MODULE_0__.createElement(ChatImage,{imageUrl:o.imageUrl,imageActionUrl:o.imageActionUrl}))),o.title&&(r=react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"chat-card-title"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("span",null,o.title))),o.content&&(a=react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"chat-card-sub-title"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("span",null,o.content))),react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"chat-card-container"},n,r,a,!!(null===(t=o.buttons)||void 0===t?void 0:t.length)&&react__WEBPACK_IMPORTED_MODULE_0__.createElement(ChatActionButtons,{buttons:o.buttons,onClick:e.onButtonClick}))},ChatChip=function(e){var t=e.option,r=t.actionUrl?"chat-chip chat-chip-link":"chat-chip";return react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{onClick:function(){return null==e?void 0:e.onClick(t)},className:r},react__WEBPACK_IMPORTED_MODULE_0__.createElement("span",null,t.label||t))},ChatChips=function(e){return react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"chat-chips"},e.options.map((function(t,r){return react__WEBPACK_IMPORTED_MODULE_0__.createElement(ChatChip,{key:r,onClick:e.onOptionClick,option:t})})))},defaultBehavior={type:"newWindow"};function resolveUrlPolicy(e,t){if(t.policies)for(var r=0,n=t.policies;r<n.length;r++){var a=n[r];try{if(new RegExp(a.pattern,"gi").test(e))return a.behavior}catch(o){}}return t.defaultBehavior||defaultBehavior}function throwBadKind$1(e){throw new Error("Unknown kind "+e)}function execute(e,t){var r=t.type;switch(r){case"newWindow":get("opened")&&set$1("opened",!1),window.open(e,"callout-option","toolbar=0,status=0,width=".concat(t.width||1e3,",height=").concat(t.height||700));break;case"newTab":get("opened")&&set$1("opened",!1),window.open(e,"_blank");break;case"sameWindow":get("opened")||set$1("opened",!0),window.open(e,"_self");break;default:throwBadKind$1(r)}}function useOpenUrlCallback(){var e=useWidgetEnv();return(0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)((function(t,r){r||(r=(null==e?void 0:e.urls)?resolveUrlPolicy(t,e.urls):defaultBehavior),execute(t,r)}),[e])}function writeMessage(e,t){return{type:"synthetic",detail:{type:"write_msg",user:t,msg:e,timestamp:+Date()}}}function executeAction(e,t){return function(r){return function(n,a){var o=a().attributes;o=__assign(__assign({},o),{currentUrl:window.location.href}),r.sendChatMsg({text:e,token:t,attributes:o},(function(e){e&&log("Error sending message",e)}));var s=a().visitor;n(writeMessage({text:t?"".concat(e," (from the list)"):e},s))}}}function receiveToken(e){return{type:"receiveToken",detail:{token:e,timestamp:+Date(),type:"receiveToken",user:void 0}}}function sendChatRating(e){return function(t){return function(){t.sendChatRating(e)}}}function sendFile(e){return function(t){return function(r,n){var a=n();if("offline"!==a.accountStatus||a.isChatting){var o={mimeType:e.type,name:e.name,size:e.size,url:window.URL.createObjectURL(e)};t.sendFile(e,(function(e){e&&log("Error sending file",e)})),r({type:"synthetic",detail:{type:"visitor.send.file",attachment:o,user:{nick:""},attributes:{currentUrl:window.location.href},timestamp:+Date()}})}}}}function sendGreeting(e){return void 0===e&&(e=!1),function(t){return function(r,n){e||(n().connection.greetingRequested||(log("sending greeting"),t.sendChatMsg({text:void 0},(function(e){e&&log("Error sending message"),r({type:"sendGreeting",detail:void 0})}))))}}}function sendMessage(e){return function(t){return function(){t.sendChatMsgRequest(e,(function(){}))}}}function sendOfflineMsg(e){return function(t){return function(){t.sendOfflineMsg(e,(function(e){e&&log(e)}))}}}function sendTyping(e){return function(t){return function(){t.sendTyping(e)}}}function sendVisitorInfo(e){return function(t){return function(){t.setVisitorInfo(e,(function(e){e&&log(e)}))}}}function setAccountStatus(e){return{type:"account_status",detail:{status:e,timestamp:+new Date}}}function setConnectionStatus(e){return{type:"connection_update",detail:{status:e,timestamp:+new Date}}}function sendBargeIn(e){return function(t){return function(){t.bargeIn(e,(function(e){e&&log(e)}))}}}function sendBargeOut(){return function(e){return function(){e.bargeOut((function(e){e&&log(e)}))}}}function reset(){return{type:"reset"}}function useChatDispatch(){return(0,react_redux__WEBPACK_IMPORTED_MODULE_1__.I0)()}var LogChat=function(){function e(e){this.inner=e}return e.prototype.bargeOut=function(e){log("CLIENT: bargeOut"),this.inner.bargeOut(e)},e.prototype.bargeIn=function(e,t){log("CLIENT: bargeIn: ".concat(e)),this.inner.bargeIn(e,t)},e.prototype.init=function(e){this.inner.init(e)},e.prototype.sendOfflineMsg=function(e,t){log("CLIENT: sendOfflineMsg: ".concat(JSON.stringify(e))),this.inner.sendOfflineMsg(e,t)},e.prototype.sendChatMsg=function(e,t){log("CLIENT: sendChatMsg: ".concat(JSON.stringify(e))),this.inner.sendChatMsg(e,t)},e.prototype.sendChatMsgRequest=function(e,t){log("CLIENT: sendChatMsgRequest: ".concat(JSON.stringify(e))),this.inner.sendChatMsgRequest(e,t)},e.prototype.sendTyping=function(e){log("CLIENT: sendTyping: ".concat(JSON.stringify(e))),this.inner.sendTyping(e)},e.prototype.setVisitorInfo=function(e,t){log("CLIENT: setVisitorInfo: ".concat(JSON.stringify(e))),this.inner.setVisitorInfo(e,t)},e.prototype.sendChatRating=function(e){log("CLIENT: sendChatRating: ".concat(JSON.stringify(e))),this.inner.sendChatRating(e)},e.prototype.sendFile=function(e,t){log("CLIENT: sendFile: ".concat(JSON.stringify(e))),this.inner.sendFile(e,t)},e.prototype.markAsRead=function(){log("CLIENT: markAsRead:"),this.inner.markAsRead()},e.prototype.flush=function(){log("CLIENT: flush:"),this.inner.flush()},e.prototype.dispose=function(){log("CLIENT: dispose:"),this.inner.dispose()},e}(),dist={};Object.defineProperty(dist,"__esModule",{value:!0});var React=react__WEBPACK_IMPORTED_MODULE_0__;function _interopDefaultLegacy(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var React__default=_interopDefaultLegacy(React),IconButton=function(e){var t=e.type||"button",r=e.icon;return React__default.default.createElement("button",{type:t,tabIndex:e.tabIndex?Number(e.tabIndex):0,className:"xapp-search-icon-button ".concat(e.className||""),onClick:e.onClick},React__default.default.createElement("div",{className:"xapp-search-icon-button__content"},React__default.default.createElement(r,null)))},MessageBubble=function(e){return React__default.default.createElement("div",{className:"xappw-message-bubble"},e.children)};function throwBadKind(e){throw new Error("Unknown kind "+e)}var RichTextBoldSpan=function(e){var t=e.format,r=e.text;return React__default.default.createElement("span",{"data-rich-text-type":"bold",className:"xapp-search-rich-text-bold-span"},r.substring(t.start,t.end))},RichTextInputSpan=function(e){var t=e.format,r=e.text,n=e.readOnly,a=e.onClick,o=t.text||r.substring(t.start,t.end),s=React.useState(o),i=s[0],u=s[1],c=React.useCallback((function(e){u(e.target.value)}),[]),l=React.useCallback((function(e){a&&(!1===a(t)&&(e.preventDefault(),e.stopPropagation()))}),[a,t]);return n?React__default.default.createElement("span",{className:"xapp-search-rich-text-input-span xapp-search-rich-text-input-span--readonly",onClick:l},o):React__default.default.createElement("input",{type:"text",value:i,className:"xapp-search-rich-text-input-span","data-rich-text-type":"inputText",onChange:c,onClick:l,readOnly:n})},RichTextNormalSpan=function(e){var t=e.format,r=e.text;return React__default.default.createElement("span",{"data-rich-text-type":"normal",className:"xapp-search-rich-text-normal-span"},r.substring(t.start,t.end))},RichTextSpan=function(e){var t=e.format,r=e.text,n=e.readOnly,a=e.onClick,o=t.type;switch(o){case"normal":return React__default.default.createElement(RichTextNormalSpan,{text:r,format:t,readOnly:n});case"bold":return React__default.default.createElement(RichTextBoldSpan,{text:r,format:t,readOnly:n});case"inputText":return React__default.default.createElement(RichTextInputSpan,{text:r,format:t,readOnly:n,onClick:a});default:throwBadKind(o)}};function cleanRichTextValue(e){for(var t=e.text,r=[],n=0,a=e.formats;n<a.length;n++){var o=a[n],s=o.type;switch(s){case"normal":continue;case"inputText":r.push(o);break;case"bold":if(r.length>0){var i=r[r.length-1];i.type===s&&i.end===o.start&&(r.pop(),r.push({type:s,start:i.start,end:o.end}))}else r.push(o)}}return{text:t,formats:r}}function extendFormat(e,t){for(var r=[],n=0,a=0,o=e;a<o.length;a++){var s=o[a],i=s.start,u=s.end,c=s.type,l=s.text;n<i&&r.push({type:"normal",start:n,end:i}),r.push({type:c,start:i,end:u,text:l}),n=u}return n<t&&r.push({type:"normal",start:n,end:t}),r}function parseContent(e){var t=e.childNodes,r=[],n="";return t.forEach((function(e){if(e.nodeType===Node.ELEMENT_NODE){var t=e,a="INPUT"===t.tagName?t.value:t.innerText,o=t.dataset.richTextType;r.push({type:o,start:n.length,end:n.length+a.length}),n+=a}e.nodeType===Node.TEXT_NODE&&((a=e.nodeValue)&&(r.push({type:"normal",start:n.length,end:n.length+a.length}),n+=a))})),cleanRichTextValue({text:n,formats:r})}function cleanContent(e){for(var t,r=[],n=e.childNodes,a=0;a<n.length;a++){(null==(i=n.item(a))?void 0:i.nodeType)===Node.TEXT_NODE&&r.push(i)}for(var o=0,s=r;o<s.length;o++){var i=s[o];try{null===(t=i.parentElement)||void 0===t||t.removeChild(i)}catch(u){}}}var RichText=function(e){var t=e.value,r=e.className,n=e.readOnly,a=e.onInput,o=e.onChange,s=e.onSpanClick,i=t.formats,u=t.text,c=React.useMemo((function(){return extendFormat(i,u.length)}),[i,u.length]),l=React.useCallback((function(e){var t=parseContent(e.currentTarget);a&&a(t)}),[a]),d=React.useCallback((function(e){var t=e.currentTarget,r=parseContent(t);cleanContent(t),o&&o(r)}),[o]);return React__default.default.createElement("div",{id:e.id,className:"xapp-search-rich-text ".concat(r||""),contentEditable:!n,suppressContentEditableWarning:!0,onInput:l,onBlur:d,onKeyDown:e.onKeyDown},c.map((function(e,t){return React__default.default.createElement(RichTextSpan,{key:t,format:e,text:u,readOnly:n,onClick:s})})))},RichInput=function(e){var t=e.id,r=e.value,n=e.type,a=e.autoFocus,o=e.spellCheck,s=e.tabIndex,i=e.onChange,u=e.onInput,c=e.onKeyDown,l=e.onSearch,d=r.formats.some((function(e){return"inputText"===e.type})),f=React.useCallback((function(e){i({text:e.target.value,formats:[]})}),[i]),_=React.useCallback((function(e){i(e)}),[i]),p=React.useCallback((function(e){u&&u({text:e.target.value,formats:[]})}),[u]),g=React.useCallback((function(e){u&&u(e)}),[u]),h=React.useCallback((function(e){c&&c(e)}),[c]),m=React.useRef(null),v=m.current;return React.useEffect((function(){if(v&&l){var e=function(e){var t=e.target;t&&l({text:t.value,formats:[]})};return v.addEventListener("search",e),function(){v.removeEventListener("search",e)}}}),[v,l]),React__default.default.createElement("div",{className:"xappw-rich-input ".concat(e.className)},d?React__default.default.createElement(RichText,{id:t,value:r,onChange:_,onInput:g,onKeyDown:h,className:"xappw-rich-input__input ".concat(e.className,"__input")}):React__default.default.createElement("input",{id:t,ref:m,type:n,value:r.text,autoComplete:"off",autoFocus:a,placeholder:e.placeholder,spellCheck:o,tabIndex:s?Number(s):0,className:"xappw-rich-input__input ".concat(e.className,"__input"),onFocus:e.onFocus,onChange:f,onInput:p,onKeyDown:h}))},SuggestionsGroupHeading=function(e){return React__default.default.createElement("div",{className:"xappw-suggestions-group-heading"},e.label)};function getScrollContainer(e){for(var t=e;t&&!t.classList.contains("xapp-search-result__suggestions");)t=t.parentElement;return t||void 0}var SuggestionsItem=function(e){var t=e.data,r=e.current,n=e.actions,a=e.onClick,o=e.onHover,s=e.onSpanClick,i=React.useCallback((function(){a(t)}),[t,a]),u=React.useCallback((function(){o&&o(t)}),[t,o]),c=React.useCallback((function(e){if(s)return s(t,e)}),[s,t]),l=React.useRef(null);return React.useEffect((function(){var e=l.current;if(r&&e){var t=getScrollContainer(e);if(t){var n=t.getBoundingClientRect(),a=e.getBoundingClientRect(),o=Math.max(n.top,a.top);Math.min(n.bottom,a.bottom)-o<.99*a.height&&e.scrollIntoView({behavior:"smooth"})}}}),[r]),React__default.default.createElement("div",{ref:l,className:"xappw-suggestions-item ".concat(r?"xappw-suggestions-item--current":""),onClick:i,onMouseEnter:u},React__default.default.createElement(RichText,{value:t,className:"xappw-suggestions-item__texts",readOnly:!0,onSpanClick:c}),n&&React__default.default.createElement("div",{className:"xappw-suggestions-item__actions"},React__default.default.createElement(n,{data:t,current:r})))},SuggestionsGroup=function(e){var t=e.group,r=e.currentIndex,n=e.itemActions,a=t.heading,o=t.items;return React__default.default.createElement("div",{className:"xappw-suggestions-group"},React__default.default.createElement("div",{className:"xappw-suggestions-group__heading"},React__default.default.createElement(SuggestionsGroupHeading,{label:a})),React__default.default.createElement("div",{className:"xappw-suggestions-group__items"},o.map((function(t,a){return React__default.default.createElement(SuggestionsItem,{key:a,data:t,current:r===a,actions:n,onClick:e.onItemClick,onHover:e.onItemHover,onSpanClick:e.onSpanClick})}))))};function getItemsLength(e){return e.reduce((function(e,t){return e+t.items.length}),0)}var SuggestionsList=function(e){var t=e.suggestions,r=e.itemActions,n=e.className,a=React.useMemo((function(){return t?getItemsLength(t):0}),[t])>=0?e.index:NaN,o=0;return React__default.default.createElement("div",{className:"xappw-suggestions-list ".concat(n||"")},null==t?void 0:t.map((function(t,n){var s=React__default.default.createElement(SuggestionsGroup,{key:n,group:t,currentIndex:a-o,itemActions:r,onItemClick:e.onItemClick,onItemHover:e.onItemHover,onSpanClick:e.onSpanClick});return o+=t.items.length,s})))};function findItemByIndex(e,t){if(t>=0)for(var r=0,n=e;r<n.length;r++)for(var a=0,o=n[r].items;a<o.length;a++){var s=o[a];if(t<=0)return s;t--}}function parseSuggestionsFormat(e){var t=Object.keys(e)[0],r=e[t];if(!r)throw new Error;return{type:t,start:r.start,end:r.end}}function parseSuggestionsFormats(e){return e.map(parseSuggestionsFormat)}function parseSuggestionsResponseItem(e){return{text:e.suggestion,content:e.answer,formats:parseSuggestionsFormats(e.format),type:e.type}}function getHeading(e){switch(e){case"FAQ":return"FAQs";case"INTENT":case"HISTORICAL":return"Suggestions";default:return e}}function parseSuggestionsResponse(e,t){if(void 0===t&&(t=1),e)return sortSuggestionItems(e.suggestions,t).reduce((function(e,t){var r=parseSuggestionsResponseItem(t);if(e.length){var n=e[e.length-1];if(n.heading===getHeading(t.type))return n.items.push(r),e}return e.push({heading:getHeading(t.type),items:[r]}),e}),[])}function __awaiter(e,t,r,n){return new(r||(r=Promise))((function(a,o){function s(e){try{u(n.next(e))}catch(t){o(t)}}function i(e){try{u(n.throw(e))}catch(t){o(t)}}function u(e){e.done?a(e.value):function(e){return e instanceof r?e:new r((function(t){t(e)}))}(e.value).then(s,i)}u((n=n.apply(e,t||[])).next())}))}function __generator(e,t){var r,n,a,o,s={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:i(0),throw:i(1),return:i(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function i(i){return function(u){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;o&&(o=0,i[0]&&(s=0)),s;)try{if(r=1,n&&(a=2&i[0]?n.return:i[0]?n.throw||((a=n.return)&&a.call(n),0):n.next)&&!(a=a.call(n,i[1])).done)return a;switch(n=0,a&&(i=[2&i[0],a.value]),i[0]){case 0:case 1:a=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,n=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!(a=s.trys,(a=a.length>0&&a[a.length-1])||6!==i[0]&&2!==i[0])){s=0;continue}if(3===i[0]&&(!a||i[1]>a[0]&&i[1]<a[3])){s.label=i[1];break}if(6===i[0]&&s.label<a[1]){s.label=a[1],a=i;break}if(a&&s.label<a[2]){s.label=a[2],s.ops.push(i);break}a[2]&&s.ops.pop(),s.trys.pop();continue}i=t.call(e,s)}catch(u){i=[6,u],n=0}finally{r=a=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}}function __spreadArray(e,t,r){if(r||2===arguments.length)for(var n,a=0,o=t.length;a<o;a++)!n&&a in t||(n||(n=Array.prototype.slice.call(t,0,a)),n[a]=t[a]);return e.concat(n||Array.prototype.slice.call(t))}var order=["FAQ","INTENT","HISTORICAL"],ordersMap=order.reduce((function(e,t,r){return e[t]=r,e}),{});function compareSuggestionItems(e,t,r){return r*(ordersMap[t.type]-ordersMap[e.type])}function sortSuggestionItems(e,t){return __spreadArray([],e,!0).sort((function(e,r){return compareSuggestionItems(e,r,t)}))}function addQueryParametersToURL(e,t){var r=new URL(e).searchParams;t.forEach((function(e,t){r.append(t,e)}));var n=new URL(e);return n.search=r.toString(),n}var defaultOptions={};function noop$1(){}function useJsonFetch(e,t){void 0===t&&(t=defaultOptions);var r=React.useState({state:"paused"}),n=r[0],a=r[1],o=t.pause;return React.useEffect((function(){if(o)return a({state:"paused"}),noop$1;var t=new AbortController,r=t.signal,n=!0;return function(){__awaiter(this,void 0,void 0,(function(){var t,o,s;return __generator(this,(function(i){switch(i.label){case 0:return i.trys.push([0,4,,5]),a({state:"fetching"}),[4,fetch(e,{signal:r})];case 1:return t=i.sent(),n?[4,t.json()]:[3,3];case 2:o=i.sent(),t.ok?a({state:"success",data:o}):a({state:"error",error:o}),i.label=3;case 3:return[3,5];case 4:if("AbortError"===(s=i.sent()).name)return a({state:"paused"}),[2];throw s;case 5:return[2]}}))}))}(),function(){n=!1,t.abort()}}),[e,o]),n}function useSuggestionsFetch$1(e){var t=e.url,r=e.context,n=e.query,a=React.useMemo((function(){if(t){var e=new URLSearchParams;return e.append("size","5"),e.append("queryText",n),(null==r?void 0:r.length)&&e.append("activeContexts",r.join(",")),addQueryParametersToURL(t,e)}}),[n,r,t]);return useJsonFetch(a?"".concat(a.toString()):"",{pause:!n||!t})}function uuid(){var e=(new Date).getTime();return"xxxxxxxx-xxxx-65xx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(t){var r=(e+16*Math.random())%16|0;return e=Math.floor(e/16),("x"===t?r:3&r|8).toString(16)}))}var IconButton_1=dist.IconButton=IconButton;dist.MessageBubble=MessageBubble;var RichInput_1=dist.RichInput=RichInput;dist.RichText=RichText,dist.SuggestionsGroup=SuggestionsGroup,dist.SuggestionsGroupHeading=SuggestionsGroupHeading,dist.SuggestionsItem=SuggestionsItem;var SuggestionsList_1=dist.SuggestionsList=SuggestionsList;dist.addQueryParametersToURL=addQueryParametersToURL,dist.extendFormat=extendFormat;var findItemByIndex_1=dist.findItemByIndex=findItemByIndex,getItemsLength_1=dist.getItemsLength=getItemsLength,parseSuggestionsResponse_1=dist.parseSuggestionsResponse=parseSuggestionsResponse;dist.sortSuggestionItems=sortSuggestionItems,dist.useJsonFetch=useJsonFetch;var useSuggestionsFetch_1=dist.useSuggestionsFetch=useSuggestionsFetch$1,uuid_1=dist.uuid=uuid;function postMessageToStentor(e,t,r,n){return __awaiter$1(this,void 0,void 0,(function(){var a,o;return __generator$1(this,(function(s){switch(s.label){case 0:return a=JSON.stringify(e),log("URL: ".concat(t)),log("BODY: ".concat(a)),[4,fetch(t,{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(r),"User-Agent":"Stentor Chat Server"},body:a,mode:"cors",signal:n})];case 1:if(!(o=s.sent()).ok)throw new Error("Status ".concat(o.status,", Text: ").concat(o.statusText));return[2,o.json()]}}))}))}function convertFromListDisplay(e){return{type:e.type,title:e.title,items:e.items.map((function(e){var t,r,n={title:e.title,subTitle:e.description,token:e.token,url:e.url,imageUrl:null===(t=e.image)||void 0===t?void 0:t.url,imageActionUrl:null===(r=e.image)||void 0===r?void 0:r.imageActionUrl},a=e.buttons;return a&&a.length>0&&(n.buttons=a.map((function(e){return{actionUrl:e.openUrlAction,label:e.title}}))),n}))}}function convertFromCardDisplay(e){return{content:e.content,imageUrl:e.smallImageUrl,title:e.title,imageActionUrl:null==e?void 0:e.imageActionUrl,buttons:e.buttons?e.buttons.map((function(e){return{actionUrl:e.openUrlAction,label:e.title}})):void 0}}function getOutput(e){if(e)return"string"==typeof e?{displayText:e}:e}function responseToMessage(e,t){var r,n,a,o,s,i,u,c,l;if(void 0===t&&(t=(new Date).getTime()),!e)return i;var d=getOutput(e.outputSpeech),f=getOutput(e.reprompt);return d&&(u=d.displayText,c=d.html),"TRANSFER_CALL"===e.system?i={type:"handOff",timestamp:t,handoffMessage:u,handoffTarget:null===(r=null==e?void 0:e.data)||void 0===r?void 0:r.transferPhoneNumber,endSession:!1,user:void 0}:(null===(n=e.system)||void 0===n?void 0:n.startsWith("PERMISSION_"))?i=getPermissionResponse(e,t):(l=!f||!(f.displayText||f.ssml),i={type:"msg",timestamp:t,msg:{displays:e.displays,context:null===(o=null===(a=e.context)||void 0===a?void 0:a.active)||void 0===o?void 0:o.map((function(e){return e.name}))},endSession:l,user:void 0},u&&!c&&(i.msg=__assign(__assign({},i.msg),{text:u})),c&&(i.msg=__assign(__assign({},i.msg),{html:c})),(null===(s=null==d?void 0:d.suggestions)||void 0===s?void 0:s.length)&&(i.msg.options=d.suggestions.map((function(e){return"string"==typeof e?e:{label:e.title,actionUrl:e.url}})))),i}function getPermissionRequestType(e){switch(e){case"PERMISSION_EMAIL":return"EMAIL";case"PERMISSION_LOCATION_PRECISE":return"LOCATION_PRECISE";default:throw new Error("Unsupported permission: ".concat(e))}}function getPermissionResponse(e,t){var r,n=getPermissionRequestType(e.system),a=getOutput(e.outputSpeech),o=e.data.permissionPrimerAccepted,s=e.data.permissionDenied;return{type:"permissionRequest",timestamp:t,msg:{text:null!==(r=null==a?void 0:a.displayText)&&void 0!==r?r:"".concat(e.data.permissionRequestTTSContext),permissionRequest:{time:t,type:n,approve:"object"==typeof o?responseToMessage({outputSpeech:o}).msg:void 0,deny:"object"==typeof s?responseToMessage({outputSpeech:s}).msg:void 0}},endSession:!1,user:void 0}}function getConfigurableMessages(){return{items:[{delay:5,text:"We are having trouble communicating with the assistant right now. Re-trying in ${sec} seconds..."},{delay:5,text:"We are still having trouble communicating with the assistant right now. Re-trying in ${sec} seconds..."},{delay:0,text:"Sorry, we cannot communicate with the assistant right now. Please check your connection or try again later."}]}}function getConfigurableMessagesConfig(e){var t=e.items,r=[{retry:0,delay:10,text:""}];if(Array.isArray(t)&&t.length>0)for(var n=0;n<t.length;n++)r.push({retry:n+1,delay:t[n].delay,text:t[n].text});return r}var PERMISSION_QUESTION_EXPIRATION_MS$1=3e5,StentorDirectChat=function(){function e(e,t){this._userId="",this._sessionId="",this._accessToken="",this._attributes={},this.config=e,this.options=t,this.configurableMessages=t.configurableMessages,this.isNewSession=!1,this.hooks=t.hooks}return e.prototype.init=function(e){this.dispatch=e,log("got init auth: ".concat(this.config.key)),this.setConnectionStatus("online"),this.setAccountStatus("online")},e.prototype.setConnectionStatus=function(e){log("SERVER: connection_update: ".concat(JSON.stringify(e))),this.dispatch(setConnectionStatus(e))},e.prototype.setAccountStatus=function(e){log("SERVER: account_status: ".concat(JSON.stringify(e))),this.dispatch(setAccountStatus(e))},e.prototype.sendNewMessage=function(e){log("SERVER: new message: ".concat(JSON.stringify(e))),this.dispatch({type:"chat",detail:{type:"chat.msg",user:__assign(__assign({},e.user),{nick:"agent:robot"}),msg:e.msg,timestamp:+new Date}})},e.prototype.userJoined=function(e){log("SERVER: user joined: ".concat(JSON.stringify(e))),this.dispatch({type:"chat",detail:{type:"chat.memberjoin",user:__assign(__assign({},e.user),{nick:"agent:robot"}),timestamp:+new Date}})},e.prototype.typing=function(){this.dispatch({type:"chat",detail:{type:"chat.typing",user:{nick:"agent:robot"},typing:!0,timestamp:+new Date}})},e.prototype.stopTyping=function(){this.dispatch({type:"chat",detail:{type:"chat.typing",user:{nick:"agent:robot"},typing:!1,timestamp:+new Date}})},e.prototype.sendFailureMessage=function(e,t,r){this.stopTyping(),this.dispatch({type:"chat",detail:{type:"chat.failureMsg",user:{nick:"agent:robot"},failureMsg:{retry:e,delay:t,text:r},timestamp:+new Date}})},e.prototype.sendOfflineMsg=function(e,t){t()},e.prototype.sendChatMsg=function(e,t){return __awaiter$1(this,void 0,void 0,(function(){return __generator$1(this,(function(r){return[2,this.sendChatMsgRequest({msg:e,timestamp:(new Date).getTime(),agent:!1,user:void 0,type:"msg"},t)]}))}))},e.prototype.bargeOut=function(e){return __awaiter$1(this,void 0,void 0,(function(){return __generator$1(this,(function(e){throw new Error("Method not implemented: bargeOut")}))}))},e.prototype.bargeIn=function(e,t){return __awaiter$1(this,void 0,void 0,(function(){return __generator$1(this,(function(e){throw new Error("Method not implemented: bargeIn")}))}))},e.prototype.getBot=function(e){var t,r=null===(t=this.options)||void 0===t?void 0:t.bot;return e?e.displayName&&e.nick&&e.avatarPath?e:__assign(__assign({},e),{nick:e.nick||r.nick||"Bot",displayName:e.displayName||r.displayName||"Bot",avatarPath:e.avatarPath||r.avatarPath}):r},e.prototype.sendChatMsgRequest=function(e,t){var r;return __awaiter$1(this,void 0,void 0,(function(){var n;return __generator$1(this,(function(a){switch(a.label){case 0:return[4,this.postMessage(e)];case 1:return n=a.sent(),(null===(r=n.user)||void 0===r?void 0:r.displayName)||(n=__assign(__assign({},n),{user:this.getBot(n.user)})),this.sendNewMessage(n),t(),[2]}}))}))},e.prototype.sendTyping=function(){},e.prototype.setVisitorInfo=function(e,t){this.visitorInfo=e,this._attributes=__assign({},this.visitorInfo.attributes);var r=new URL(window.location.href);(null==r?void 0:r.host.toLowerCase().startsWith("localhost"))?this._attributes.isLocal=!0:this._attributes.currentUrl=window.location.href,this._accessToken=this.visitorInfo.accessToken,this.userJoined({user:this.getBot(void 0),token:""}),this.startSession(),t()},e.prototype.sendChatRating=function(){},e.prototype.sendFile=function(e,t){t()},e.prototype.markAsRead=function(){},e.prototype.flush=function(){},e.prototype.dispose=function(){},e.prototype.postMessage=function(e){var t,r,n,a,o;return __awaiter$1(this,void 0,void 0,(function(){var s,i,u,c,l,d,f,_,p,g,h,m,v,y,x,O,E,M,b,D,P=this;return __generator$1(this,(function(T){switch(T.label){case 0:i=this._userId,u=this._sessionId,c=this._accessToken,l=this._attributes||{},d=(new Date).getTime(),this.isNewSession&&!(null===(t=null==e?void 0:e.msg)||void 0===t?void 0:t.text)?s={type:"LAUNCH_REQUEST",rawQuery:null===(r=null==e?void 0:e.msg)||void 0===r?void 0:r.text,sessionId:u,userId:i,isNewSession:!0,intentId:"LaunchRequest",platform:"stentor-platform",channel:"widget",accessToken:c,attributes:l}:(f=null===(n=e.msg)||void 0===n?void 0:n.permissionRequest)?(e=__assign(__assign({},e),{msg:__assign(__assign({},e.msg),{permissionRequest:void 0})}),_=d-f.time>PERMISSION_QUESTION_EXPIRATION_MS$1,p=null===(a=e.msg.text)||void 0===a?void 0:a.toLowerCase(),g=!_,h={id:this._userId},_||("EMAIL"===f.type&&(m=looksLikeEmail$1(p),g=m,h.email=this.visitorInfo.email,h.name=this.visitorInfo.displayName,this.visitorInfo.email=p),"LOCATION_PRECISE"===f.type&&(g=!!e.msg.location,h.preciseLocation=e.msg.location?{coordinates:{latitude:e.msg.location.latitude,longitude:e.msg.location.longitude}}:void 0)),s={type:"PERMISSION_GRANT",rawQuery:e.msg.text,sessionId:this._sessionId,userId:this._userId,isNewSession:!1,granted:g,userProfile:h,intentId:"PermissionGrant",platform:"stentor-platform",channel:"widget",accessToken:c,attributes:l}):s="custom"===e.type?__assign(__assign({},JSON.parse(e.payload)),{sessionId:this._sessionId,userId:this._userId,isNewSession:!1,platform:"stentor-platform",channel:"widget",accessToken:c,attributes:l}):e.msg.token?{type:"OPTION_SELECT_REQUEST",token:e.msg.token,sessionId:this._sessionId,userId:this._userId,isNewSession:!1,intentId:"OptionSelect",platform:"stentor-platform",channel:"widget",accessToken:c,attributes:l}:{type:"INTENT_REQUEST",rawQuery:e.msg.text,sessionId:this._sessionId,userId:this._userId,isNewSession:!1,intentId:"NLU_RESULT_PLACEHOLDER",platform:"stentor-platform",channel:"widget",accessToken:c,attributes:l},log("Visitor says: ".concat(JSON.stringify(s,void 0,2))),v=getConfigurableMessagesConfig(this.configurableMessages),x=!1,O=function(e){y=e,x=!0},E=function(e,t){return __awaiter$1(P,void 0,void 0,(function(){var r,n,a;return __generator$1(this,(function(o){return r=v[e].retry,n=v[e].delay,a=v[e].text,err("POST failed: ".concat(t)),this.sendFailureMessage(r,n,a),y={errorText:""},[2,new Promise((function(e){setTimeout(e,1e3*n)}))]}))}))},M=1,T.label=1;case 1:return M<v.length?(b=1e3*v[M-1].delay,this.typing(),[4,new RetryRequest({retries:1,timeout:b}).fetch((function(e){return postMessageToStentor(s,P.config.url,P.config.key,e)})).then(O).catch(E.bind(this,M))]):[3,4];case 2:if(T.sent(),x)return[3,4];T.label=3;case 3:return M++,[3,1];case 4:return log("Bot says: ".concat(JSON.stringify(y,void 0,2))),this.isNewSession=!1,D=responseToMessage(y),!(null==y?void 0:y.hasOwnProperty("errorText"))&&y||((D={type:"userLeft",timestamp:d,msg:{},user:void 0,endSession:!0}).msg={text:(null==y?void 0:y.hasOwnProperty("errorText"))?y.errorText:"The assistant is not responding right now.  Please close the widget and open it again."}),"function"==typeof(null===(o=this.hooks)||void 0===o?void 0:o.onResponse)&&this.hooks.onResponse(y),this.stopTyping(),[2,D]}}))}))},e.prototype.startSession=function(){this.visitorInfo.visitorId?this._userId="".concat(this.visitorInfo.visitorId):this.visitorInfo.email?this._userId="stentor-widget-user-".concat(this.visitorInfo.email):this._userId="stentor-widget-user-".concat(uuid_1()),""!==get("sessionId")?this._sessionId=get("sessionId"):(this._sessionId="stentor-widget-session-".concat(uuid_1()),set$1("sessionId",this._sessionId)),this.isNewSession=!0},Object.defineProperty(e.prototype,"userId",{get:function(){return this._userId},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"sessionId",{get:function(){return this._sessionId},enumerable:!1,configurable:!0}),e}();function looksLikeEmail$1(e){return/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(String(e).toLowerCase())}var StentorLocalChat=function(){function e(){}return e.prototype.init=function(){},e.prototype.sendOfflineMsg=function(){},e.prototype.sendChatMsg=function(){},e.prototype.sendChatMsgRequest=function(){},e.prototype.sendTyping=function(){},e.prototype.setVisitorInfo=function(){},e.prototype.sendChatRating=function(){},e.prototype.sendFile=function(){},e.prototype.markAsRead=function(){},e.prototype.flush=function(){},e.prototype.dispose=function(){},e.prototype.bargeOut=function(){},e.prototype.bargeIn=function(){},e}(),PERMISSION_QUESTION_EXPIRATION_MS=3e5;function requestFromMessage(e,t,r,n,a,o,s){var i,u,c,l,d,f=(new Date).getTime();if(r&&!(null===(i=null==e?void 0:e.msg)||void 0===i?void 0:i.text))d={type:"LAUNCH_REQUEST",rawQuery:null===(u=null==e?void 0:e.msg)||void 0===u?void 0:u.text,sessionId:n,userId:t,isNewSession:!0,intentId:"LaunchRequest",platform:"stentor-platform",channel:"widget",accessToken:a,attributes:o};else{var _=null===(c=e.msg)||void 0===c?void 0:c.permissionRequest;if(_){e=__assign(__assign({},e),{msg:__assign(__assign({},e.msg),{permissionRequest:void 0})});var p=f-_.time>PERMISSION_QUESTION_EXPIRATION_MS,g=null===(l=e.msg.text)||void 0===l?void 0:l.toLowerCase(),h=!p,m={id:t};if(!p){if("EMAIL"===_.type)h=looksLikeEmail(g),m.email=s.email,m.name=s.displayName,this.visitorInfo.email=g;"LOCATION_PRECISE"===_.type&&(h=!!e.msg.location,m.preciseLocation=e.msg.location?{coordinates:{latitude:e.msg.location.latitude,longitude:e.msg.location.longitude}}:void 0)}d={type:"PERMISSION_GRANT",rawQuery:e.msg.text,sessionId:n,userId:t,isNewSession:!1,granted:h,userProfile:m,intentId:"PermissionGrant",platform:"stentor-platform",channel:"widget",accessToken:a,attributes:o}}else d="custom"===e.type?__assign(__assign({},JSON.parse(e.payload)),{sessionId:n,userId:t,isNewSession:!1,platform:"stentor-platform",channel:"widget",accessToken:a,attributes:o}):e.msg.token?{type:"OPTION_SELECT_REQUEST",token:e.msg.token,sessionId:n,userId:t,isNewSession:!1,intentId:"OptionSelect",platform:"stentor-platform",channel:"widget",accessToken:a,attributes:o}:{type:"INTENT_REQUEST",rawQuery:e.msg.text,sessionId:n,userId:t,isNewSession:!1,intentId:"NLU_RESULT_PLACEHOLDER",platform:"stentor-platform",channel:"widget",accessToken:a,attributes:o}}return d}function looksLikeEmail(e){return/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(String(e).toLowerCase())}function requestToMessage(e,t){if(void 0===t&&(t=(new Date).getTime()),e)return{type:"msg",timestamp:t,msg:{text:e.rawQuery},endSession:!1,user:void 0}}var StentorRouterChat=function(){function e(e,t){var r;this._userId="",this._sessionId="",this.accessToken="",this.attributes={},this.isAdmin=!1,this.urlAttributes={},this.handlers={},this.config=e,this.options=t;var n=new URL(this.config.url),a=null===(r=n.pathname)||void 0===r?void 0:r.split("/"),o=new URL(window.location.href);this.isAdmin="true"===o.searchParams.get("isAdmin"),this.serverUrl="".concat(n.origin),a&&a.length>1&&(this.serverUrl="".concat(this.serverUrl,"/").concat(a[1]),this.urlAttributes.path=a.slice(1)),log("WS url: ".concat(this.serverUrl," isAdmin: ").concat(this.isAdmin," attributes: ").concat(JSON.stringify(this.attributes))),this.configurableMessages=getConfigurableMessagesConfig(t.configurableMessages)}return e.prototype.init=function(e){var t=this;this.dispatch=e,this.setAccountStatus("offline"),this.handlers["connection update"]=function(e,r){log("Connection update received. Session created: ".concat(e.sessionCreated," Error: ").concat(e.errorMessage||"")),e.sessionCreated?t.sessionCreated=!0:(t.dispatch(setAccountStatus("offline")),t.dispatch(setConnectionStatus("offline")))},this.handlers["account status"]=function(t,r){e({type:"account_status",detail:{status:"online",timestamp:+new Date}})},this.handlers.failure=function(e,r){err("Router says something failed: type: ".concat(e.type," tries: ").concat(e.tries," error: ").concat(e.error));var n=t.configurableMessages[e.tries],a=n.retry,o=n.delay,s=n.text;t.sendFailureMessage(a,e.delay||o,s,r)},this.handlers["new message"]=function(e,r){var n,a;"Bot"===r.deviceId?("function"==typeof(null===(n=t.options.hooks)||void 0===n?void 0:n.onResponse)&&t.options.hooks.onResponse(a),a=responseToMessage(e)):"Widget"===r.deviceId?a=requestToMessage(e):err("Unknown sender device Id: ".concat(r.deviceId)),t.dispatch({type:"chat",detail:{type:"chat.msg",user:{displayName:r.displayName||r.email||r.userId,nick:senderToNick(r)},msg:a.msg,timestamp:+new Date}})},this.handlers["user joined"]=function(e,r){t.dispatch({type:"chat",detail:{type:"chat.memberjoin",user:{displayName:r.displayName,nick:senderToNick(r),avatarPath:r.avatarPath},timestamp:+new Date}})},this.handlers["user left"]=function(e,r){t.dispatch({type:"chat",detail:{type:"chat.memberleave",user:{displayName:r.displayName,nick:senderToNick(r)},timestamp:+new Date}})},this.handlers.typing=function(e,r){t.dispatch({type:"chat",detail:{type:"chat.typing",user:{nick:senderToNick(r)},typing:!0,timestamp:+new Date}})},this.handlers["stop typing"]=function(e,r){t.dispatch({type:"chat",detail:{type:"chat.typing",user:{nick:senderToNick(r)},typing:!1,timestamp:+new Date}})},this.handlers.disconnect=function(){t.dispatch(setAccountStatus("offline")),t.dispatch(setConnectionStatus("offline"))},this.handlers.reconnect=function(){t.dispatch(setAccountStatus("online")),t.dispatch(setConnectionStatus("online"))},this.handlers["reconnect failed"]=function(e){t.dispatch(setAccountStatus("offline")),t.dispatch(setConnectionStatus("offline"))},this.handlers["reconnect error"]=function(e){t.dispatch(setAccountStatus("offline"))},this.setAccountStatus("online"),this.setConnectionStatus("online")},e.prototype.autoReconnect=function(e){var t=this,r=this.setAccountStatus.bind(this),n=this.setConnectionStatus.bind(this);log("Creating WS connection"),e(),this.ws.onclose=function t(){var a=setInterval((function(){log("Re-creating WS connection");var o=e();o.onopen=function(){log("Re-opened WS connection"),r("online"),n("online"),o.onclose=t,clearInterval(a)}}),3e3)},this.ws.onopen=function(){log("Opened WS connection"),t.setAccountStatus("online"),t.setConnectionStatus("online")}},e.prototype.wsCreate=function(){var e=this;return this.setConnectionStatus("pending"),this.ws=new WebSocket("".concat(this.serverUrl,"?userId=").concat(this._userId,"&isAdmin=").concat(this.isAdmin)),this.ws.onerror=function(t){var r;log("Error in WS connection. Type: ".concat(t?t.type:"?"," Ready State: ").concat(null===(r=e.ws)||void 0===r?void 0:r.readyState)),e.setConnectionStatus("pending")},this.ws.onmessage=function(t){log("ROUTER says: ".concat(t.data));var r=JSON.parse(t.data);e.handlers[r.event]?e.handlers[r.event](r.data,r.sender):log("Unknown router message event: ".concat(r.event))},this.ws},e.prototype.checkConnection=function(){return this.ws.readyState===WebSocket.OPEN},e.prototype.emit=function(e,t){return __awaiter$1(this,void 0,void 0,(function(){var r,n=this;return __generator$1(this,(function(a){switch(a.label){case 0:return r=JSON.stringify({event:e,data:t,sender:this.visitorInfo,sessionId:this._sessionId}),log("Widget says: ".concat(r)),this.ws||this.autoReconnect(this.wsCreate.bind(this)),[4,waitFor(this.checkConnection.bind(this),500,5e3,"connection").then((function(e){e>0&&log("Connection is ready in ".concat(e," ms")),n.ws.send(r)})).catch((function(e){console.log("Connection wait timed out in ".concat(e," ms"))}))];case 1:return a.sent(),[2]}}))}))},e.prototype.setAccountStatus=function(e){log("SERVER account_status: ".concat(JSON.stringify(e))),this.dispatch(setAccountStatus(e))},e.prototype.setConnectionStatus=function(e){log("SERVER: connection_update: ".concat(JSON.stringify(e))),this.dispatch(setConnectionStatus(e))},e.prototype.sendOfflineMsg=function(e,t){t()},e.prototype.sendChatMsg=function(e,t){return __awaiter$1(this,void 0,void 0,(function(){return __generator$1(this,(function(r){return[2,this.sendChatMsgRequest({msg:e,timestamp:(new Date).getTime(),agent:!1,user:void 0,type:"msg"},t)]}))}))},e.prototype.sendFailureMessage=function(e,t,r,n){this.dispatch({type:"chat",detail:{type:"chat.typing",user:{nick:senderToNick(n)},typing:!1,timestamp:+new Date}}),this.dispatch({type:"chat",detail:{type:"chat.failureMsg",user:{nick:senderToNick(n)},failureMsg:{retry:e,delay:t,text:r},timestamp:+new Date}})},e.prototype.checkSession=function(){return this.sessionCreated},e.prototype.sendChatMsgRequest=function(e,t){return __awaiter$1(this,void 0,void 0,(function(){var r=this;return __generator$1(this,(function(n){switch(n.label){case 0:return[4,waitFor(this.checkSession.bind(this),500,5e3,"session creation").then((function(t){t>0&&log("Session creation is ready in ".concat(t," ms")),r.postMessage(e)})).catch((function(e){console.log("Session creation wait timed out in ".concat(e," ms"))}))];case 1:return n.sent(),t(),[2]}}))}))},e.prototype.sendTyping=function(e){},e.prototype.setVisitorInfo=function(e,t){log("Visitor Info Message = ".concat(JSON.stringify(e))),this.visitorInfo={deviceId:"Widget",userId:e.userId,displayName:e.displayName||e.name,email:e.email,isAdmin:this.isAdmin,urlAttributes:this.urlAttributes},this.attributes=__assign(__assign(__assign({},e.attributes),this.attributes),{currentUrl:window.location.href}),this.accessToken=e.accessToken,this.startSession(),this.postVisitorInfo(),t()},e.prototype.sendChatRating=function(){},e.prototype.sendFile=function(e,t){t()},e.prototype.markAsRead=function(){},e.prototype.flush=function(){},e.prototype.dispose=function(){},e.prototype.bargeOut=function(e){return __awaiter$1(this,void 0,void 0,(function(){return __generator$1(this,(function(e){return this.emit("barge out"),[2]}))}))},e.prototype.bargeIn=function(e,t){return __awaiter$1(this,void 0,void 0,(function(){return __generator$1(this,(function(t){return this.visitorInfo.displayName=e,this.emit("barge in"),[2]}))}))},e.prototype.postVisitorInfo=function(){return __awaiter$1(this,void 0,void 0,(function(){return __generator$1(this,(function(e){return this.sessionCreated=!1,this.emit("user joined"),[2]}))}))},e.prototype.postMessage=function(e){return __awaiter$1(this,void 0,void 0,(function(){var t,r,n,a,o;return __generator$1(this,(function(s){return t=this._userId,r=this._sessionId,n=this.accessToken,a=this.attributes||{},o=requestFromMessage(e,t,this.isNewSession,r,n,a,this.visitorInfo),this.emit("new message",o),[2]}))}))},e.prototype.startSession=function(){this.visitorInfo.userId?this._userId="".concat(this.visitorInfo.userId):this.visitorInfo.email?this._userId="stentor-widget-user-".concat(this.visitorInfo.email):this._userId="stentor-widget-user-".concat(uuid_1());var e=new URL(window.location.href).searchParams.get("sessionId");e?(this._sessionId=e,set$1("sessionId",this._sessionId),log("Using enforced session id: ".concat(this._sessionId))):get("sessionId")?(this._sessionId=get("sessionId"),log("Using persisted session id: ".concat(this._sessionId))):(this._sessionId="stentor-widget-session-".concat(uuid_1()),set$1("sessionId",this._sessionId),log("Using generated session id: ".concat(this._sessionId))),this.isNewSession=!0,log("Started session: ".concat(this._sessionId))},e}();function senderToNick(e){return"Bot"===e.deviceId?"agent:bot:".concat(e.userId):"agent:widget:".concat(e.userId)}function waitFor(e,t,r,n){var a=0,o=function(s,i){a>r?i(a):e()?s(a):(a+=t,n&&log("Still waiting for ".concat(n," (").concat(a," ms)")),setTimeout((function(e){return o(s,i)}),t))};return new Promise(o)}const PACKET_TYPES=Object.create(null);PACKET_TYPES.open="0",PACKET_TYPES.close="1",PACKET_TYPES.ping="2",PACKET_TYPES.pong="3",PACKET_TYPES.message="4",PACKET_TYPES.upgrade="5",PACKET_TYPES.noop="6";const PACKET_TYPES_REVERSE=Object.create(null);Object.keys(PACKET_TYPES).forEach((e=>{PACKET_TYPES_REVERSE[PACKET_TYPES[e]]=e}));const ERROR_PACKET={type:"error",data:"parser error"},withNativeBlob$1="function"==typeof Blob||"undefined"!=typeof Blob&&"[object BlobConstructor]"===Object.prototype.toString.call(Blob),withNativeArrayBuffer$2="function"==typeof ArrayBuffer,isView$1=e=>"function"==typeof ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer instanceof ArrayBuffer,encodePacket=({type:e,data:t},r,n)=>withNativeBlob$1&&t instanceof Blob?r?n(t):encodeBlobAsBase64(t,n):withNativeArrayBuffer$2&&(t instanceof ArrayBuffer||isView$1(t))?r?n(t):encodeBlobAsBase64(new Blob([t]),n):n(PACKET_TYPES[e]+(t||"")),encodeBlobAsBase64=(e,t)=>{const r=new FileReader;return r.onload=function(){const e=r.result.split(",")[1];t("b"+(e||""))},r.readAsDataURL(e)},chars="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",lookup$1="undefined"==typeof Uint8Array?[]:new Uint8Array(256);for(let e=0;e<chars.length;e++)lookup$1[chars.charCodeAt(e)]=e;const decode$1=e=>{let t,r,n,a,o,s=.75*e.length,i=e.length,u=0;"="===e[e.length-1]&&(s--,"="===e[e.length-2]&&s--);const c=new ArrayBuffer(s),l=new Uint8Array(c);for(t=0;t<i;t+=4)r=lookup$1[e.charCodeAt(t)],n=lookup$1[e.charCodeAt(t+1)],a=lookup$1[e.charCodeAt(t+2)],o=lookup$1[e.charCodeAt(t+3)],l[u++]=r<<2|n>>4,l[u++]=(15&n)<<4|a>>2,l[u++]=(3&a)<<6|63&o;return c},withNativeArrayBuffer$1="function"==typeof ArrayBuffer,decodePacket=(e,t)=>{if("string"!=typeof e)return{type:"message",data:mapBinary(e,t)};const r=e.charAt(0);if("b"===r)return{type:"message",data:decodeBase64Packet(e.substring(1),t)};return PACKET_TYPES_REVERSE[r]?e.length>1?{type:PACKET_TYPES_REVERSE[r],data:e.substring(1)}:{type:PACKET_TYPES_REVERSE[r]}:ERROR_PACKET},decodeBase64Packet=(e,t)=>{if(withNativeArrayBuffer$1){const r=decode$1(e);return mapBinary(r,t)}return{base64:!0,data:e}},mapBinary=(e,t)=>"blob"===t&&e instanceof ArrayBuffer?new Blob([e]):e,SEPARATOR=String.fromCharCode(30),encodePayload=(e,t)=>{const r=e.length,n=new Array(r);let a=0;e.forEach(((e,o)=>{encodePacket(e,!1,(e=>{n[o]=e,++a===r&&t(n.join(SEPARATOR))}))}))},decodePayload=(e,t)=>{const r=e.split(SEPARATOR),n=[];for(let a=0;a<r.length;a++){const e=decodePacket(r[a],t);if(n.push(e),"error"===e.type)break}return n},protocol$1=4;var Emitter_1=Emitter;function Emitter(e){if(e)return mixin(e)}function mixin(e){for(var t in Emitter.prototype)e[t]=Emitter.prototype[t];return e}Emitter.prototype.on=Emitter.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks["$"+e]=this._callbacks["$"+e]||[]).push(t),this},Emitter.prototype.once=function(e,t){function r(){this.off(e,r),t.apply(this,arguments)}return r.fn=t,this.on(e,r),this},Emitter.prototype.off=Emitter.prototype.removeListener=Emitter.prototype.removeAllListeners=Emitter.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var r,n=this._callbacks["$"+e];if(!n)return this;if(1==arguments.length)return delete this._callbacks["$"+e],this;for(var a=0;a<n.length;a++)if((r=n[a])===t||r.fn===t){n.splice(a,1);break}return 0===n.length&&delete this._callbacks["$"+e],this},Emitter.prototype.emit=function(e){this._callbacks=this._callbacks||{};for(var t=new Array(arguments.length-1),r=this._callbacks["$"+e],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(r){n=0;for(var a=(r=r.slice(0)).length;n<a;++n)r[n].apply(this,t)}return this},Emitter.prototype.emitReserved=Emitter.prototype.emit,Emitter.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks["$"+e]||[]},Emitter.prototype.hasListeners=function(e){return!!this.listeners(e).length};const globalThisShim="undefined"!=typeof self?self:"undefined"!=typeof window?window:Function("return this")();function pick(e,...t){return t.reduce(((t,r)=>(e.hasOwnProperty(r)&&(t[r]=e[r]),t)),{})}const NATIVE_SET_TIMEOUT=setTimeout,NATIVE_CLEAR_TIMEOUT=clearTimeout;function installTimerFunctions(e,t){t.useNativeTimers?(e.setTimeoutFn=NATIVE_SET_TIMEOUT.bind(globalThisShim),e.clearTimeoutFn=NATIVE_CLEAR_TIMEOUT.bind(globalThisShim)):(e.setTimeoutFn=setTimeout.bind(globalThisShim),e.clearTimeoutFn=clearTimeout.bind(globalThisShim))}const BASE64_OVERHEAD=1.33;function byteLength(e){return"string"==typeof e?utf8Length(e):Math.ceil((e.byteLength||e.size)*BASE64_OVERHEAD)}function utf8Length(e){let t=0,r=0;for(let n=0,a=e.length;n<a;n++)t=e.charCodeAt(n),t<128?r+=1:t<2048?r+=2:t<55296||t>=57344?r+=3:(n++,r+=4);return r}class TransportError extends Error{constructor(e,t,r){super(e),this.description=t,this.context=r,this.type="TransportError"}}class Transport extends Emitter_1{constructor(e){super(),this.writable=!1,installTimerFunctions(this,e),this.opts=e,this.query=e.query,this.readyState="",this.socket=e.socket}onError(e,t,r){return super.emitReserved("error",new TransportError(e,t,r)),this}open(){return"closed"!==this.readyState&&""!==this.readyState||(this.readyState="opening",this.doOpen()),this}close(){return"opening"!==this.readyState&&"open"!==this.readyState||(this.doClose(),this.onClose()),this}send(e){"open"===this.readyState&&this.write(e)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(e){const t=decodePacket(e,this.socket.binaryType);this.onPacket(t)}onPacket(e){super.emitReserved("packet",e)}onClose(e){this.readyState="closed",super.emitReserved("close",e)}}const alphabet="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_".split(""),length=64,map={};let seed=0,i=0,prev;function encode$1(e){let t="";do{t=alphabet[e%length]+t,e=Math.floor(e/length)}while(e>0);return t}function yeast(){const e=encode$1(+new Date);return e!==prev?(seed=0,prev=e):e+"."+encode$1(seed++)}for(;i<length;i++)map[alphabet[i]]=i;function encode(e){let t="";for(let r in e)e.hasOwnProperty(r)&&(t.length&&(t+="&"),t+=encodeURIComponent(r)+"="+encodeURIComponent(e[r]));return t}function decode(e){let t={},r=e.split("&");for(let n=0,a=r.length;n<a;n++){let e=r[n].split("=");t[decodeURIComponent(e[0])]=decodeURIComponent(e[1])}return t}let value=!1;try{value="undefined"!=typeof XMLHttpRequest&&"withCredentials"in new XMLHttpRequest}catch(err){}const hasCORS=value;function XHR(e){const t=e.xdomain;try{if("undefined"!=typeof XMLHttpRequest&&(!t||hasCORS))return new XMLHttpRequest}catch(r){}if(!t)try{return new(globalThisShim[["Active"].concat("Object").join("X")])("Microsoft.XMLHTTP")}catch(r){}}function empty$2(){}const hasXHR2=null!=new XHR({xdomain:!1}).responseType;class Polling extends Transport{constructor(e){if(super(e),this.polling=!1,"undefined"!=typeof location){const t="https:"===location.protocol;let r=location.port;r||(r=t?"443":"80"),this.xd="undefined"!=typeof location&&e.hostname!==location.hostname||r!==e.port,this.xs=e.secure!==t}const t=e&&e.forceBase64;this.supportsBinary=hasXHR2&&!t}get name(){return"polling"}doOpen(){this.poll()}pause(e){this.readyState="pausing";const t=()=>{this.readyState="paused",e()};if(this.polling||!this.writable){let e=0;this.polling&&(e++,this.once("pollComplete",(function(){--e||t()}))),this.writable||(e++,this.once("drain",(function(){--e||t()})))}else t()}poll(){this.polling=!0,this.doPoll(),this.emitReserved("poll")}onData(e){decodePayload(e,this.socket.binaryType).forEach((e=>{if("opening"===this.readyState&&"open"===e.type&&this.onOpen(),"close"===e.type)return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(e)})),"closed"!==this.readyState&&(this.polling=!1,this.emitReserved("pollComplete"),"open"===this.readyState&&this.poll())}doClose(){const e=()=>{this.write([{type:"close"}])};"open"===this.readyState?e():this.once("open",e)}write(e){this.writable=!1,encodePayload(e,(e=>{this.doWrite(e,(()=>{this.writable=!0,this.emitReserved("drain")}))}))}uri(){let e=this.query||{};const t=this.opts.secure?"https":"http";let r="";!1!==this.opts.timestampRequests&&(e[this.opts.timestampParam]=yeast()),this.supportsBinary||e.sid||(e.b64=1),this.opts.port&&("https"===t&&443!==Number(this.opts.port)||"http"===t&&80!==Number(this.opts.port))&&(r=":"+this.opts.port);const n=encode(e);return t+"://"+(-1!==this.opts.hostname.indexOf(":")?"["+this.opts.hostname+"]":this.opts.hostname)+r+this.opts.path+(n.length?"?"+n:"")}request(e={}){return Object.assign(e,{xd:this.xd,xs:this.xs},this.opts),new Request(this.uri(),e)}doWrite(e,t){const r=this.request({method:"POST",data:e});r.on("success",t),r.on("error",((e,t)=>{this.onError("xhr post error",e,t)}))}doPoll(){const e=this.request();e.on("data",this.onData.bind(this)),e.on("error",((e,t)=>{this.onError("xhr poll error",e,t)})),this.pollXhr=e}}class Request extends Emitter_1{constructor(e,t){super(),installTimerFunctions(this,t),this.opts=t,this.method=t.method||"GET",this.uri=e,this.async=!1!==t.async,this.data=void 0!==t.data?t.data:null,this.create()}create(){const e=pick(this.opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");e.xdomain=!!this.opts.xd,e.xscheme=!!this.opts.xs;const t=this.xhr=new XHR(e);try{t.open(this.method,this.uri,this.async);try{if(this.opts.extraHeaders){t.setDisableHeaderCheck&&t.setDisableHeaderCheck(!0);for(let e in this.opts.extraHeaders)this.opts.extraHeaders.hasOwnProperty(e)&&t.setRequestHeader(e,this.opts.extraHeaders[e])}}catch(r){}if("POST"===this.method)try{t.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch(r){}try{t.setRequestHeader("Accept","*/*")}catch(r){}"withCredentials"in t&&(t.withCredentials=this.opts.withCredentials),this.opts.requestTimeout&&(t.timeout=this.opts.requestTimeout),t.onreadystatechange=()=>{4===t.readyState&&(200===t.status||1223===t.status?this.onLoad():this.setTimeoutFn((()=>{this.onError("number"==typeof t.status?t.status:0)}),0))},t.send(this.data)}catch(r){return void this.setTimeoutFn((()=>{this.onError(r)}),0)}"undefined"!=typeof document&&(this.index=Request.requestsCount++,Request.requests[this.index]=this)}onError(e){this.emitReserved("error",e,this.xhr),this.cleanup(!0)}cleanup(e){if(void 0!==this.xhr&&null!==this.xhr){if(this.xhr.onreadystatechange=empty$2,e)try{this.xhr.abort()}catch(t){}"undefined"!=typeof document&&delete Request.requests[this.index],this.xhr=null}}onLoad(){const e=this.xhr.responseText;null!==e&&(this.emitReserved("data",e),this.emitReserved("success"),this.cleanup())}abort(){this.cleanup()}}if(Request.requestsCount=0,Request.requests={},"undefined"!=typeof document)if("function"==typeof attachEvent)attachEvent("onunload",unloadHandler);else if("function"==typeof addEventListener){const e="onpagehide"in globalThisShim?"pagehide":"unload";addEventListener(e,unloadHandler,!1)}function unloadHandler(){for(let e in Request.requests)Request.requests.hasOwnProperty(e)&&Request.requests[e].abort()}const nextTick="function"==typeof Promise&&"function"==typeof Promise.resolve?e=>Promise.resolve().then(e):(e,t)=>t(e,0),WebSocket$1=globalThisShim.WebSocket||globalThisShim.MozWebSocket,usingBrowserWebSocket=!0,defaultBinaryType="arraybuffer",isReactNative="undefined"!=typeof navigator&&"string"==typeof navigator.product&&"reactnative"===navigator.product.toLowerCase();class WS extends Transport{constructor(e){super(e),this.supportsBinary=!e.forceBase64}get name(){return"websocket"}doOpen(){if(!this.check())return;const e=this.uri(),t=this.opts.protocols,r=isReactNative?{}:pick(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(r.headers=this.opts.extraHeaders);try{this.ws=usingBrowserWebSocket&&!isReactNative?t?new WebSocket$1(e,t):new WebSocket$1(e):new WebSocket$1(e,t,r)}catch(err){return this.emitReserved("error",err)}this.ws.binaryType=this.socket.binaryType||defaultBinaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=e=>this.onClose({description:"websocket connection closed",context:e}),this.ws.onmessage=e=>this.onData(e.data),this.ws.onerror=e=>this.onError("websocket error",e)}write(e){this.writable=!1;for(let t=0;t<e.length;t++){const r=e[t],n=t===e.length-1;encodePacket(r,this.supportsBinary,(e=>{try{usingBrowserWebSocket&&this.ws.send(e)}catch(t){}n&&nextTick((()=>{this.writable=!0,this.emitReserved("drain")}),this.setTimeoutFn)}))}}doClose(){void 0!==this.ws&&(this.ws.close(),this.ws=null)}uri(){let e=this.query||{};const t=this.opts.secure?"wss":"ws";let r="";this.opts.port&&("wss"===t&&443!==Number(this.opts.port)||"ws"===t&&80!==Number(this.opts.port))&&(r=":"+this.opts.port),this.opts.timestampRequests&&(e[this.opts.timestampParam]=yeast()),this.supportsBinary||(e.b64=1);const n=encode(e);return t+"://"+(-1!==this.opts.hostname.indexOf(":")?"["+this.opts.hostname+"]":this.opts.hostname)+r+this.opts.path+(n.length?"?"+n:"")}check(){return!!WebSocket$1}}const transports={websocket:WS,polling:Polling},re=/^(?:(?![^:@]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,parts=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function parse$2(e){const t=e,r=e.indexOf("["),n=e.indexOf("]");-1!=r&&-1!=n&&(e=e.substring(0,r)+e.substring(r,n).replace(/:/g,";")+e.substring(n,e.length));let a=re.exec(e||""),o={},s=14;for(;s--;)o[parts[s]]=a[s]||"";return-1!=r&&-1!=n&&(o.source=t,o.host=o.host.substring(1,o.host.length-1).replace(/;/g,":"),o.authority=o.authority.replace("[","").replace("]","").replace(/;/g,":"),o.ipv6uri=!0),o.pathNames=pathNames(o,o.path),o.queryKey=queryKey(o,o.query),o}function pathNames(e,t){const r=t.replace(/\/{2,9}/g,"/").split("/");return"/"!=t.slice(0,1)&&0!==t.length||r.splice(0,1),"/"==t.slice(-1)&&r.splice(r.length-1,1),r}function queryKey(e,t){const r={};return t.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,(function(e,t,n){t&&(r[t]=n)})),r}class Socket$1 extends Emitter_1{constructor(e,t={}){super(),e&&"object"==typeof e&&(t=e,e=null),e?(e=parse$2(e),t.hostname=e.host,t.secure="https"===e.protocol||"wss"===e.protocol,t.port=e.port,e.query&&(t.query=e.query)):t.host&&(t.hostname=parse$2(t.host).host),installTimerFunctions(this,t),this.secure=null!=t.secure?t.secure:"undefined"!=typeof location&&"https:"===location.protocol,t.hostname&&!t.port&&(t.port=this.secure?"443":"80"),this.hostname=t.hostname||("undefined"!=typeof location?location.hostname:"localhost"),this.port=t.port||("undefined"!=typeof location&&location.port?location.port:this.secure?"443":"80"),this.transports=t.transports||["polling","websocket"],this.readyState="",this.writeBuffer=[],this.prevBufferLen=0,this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!0},t),this.opts.path=this.opts.path.replace(/\/$/,"")+"/","string"==typeof this.opts.query&&(this.opts.query=decode(this.opts.query)),this.id=null,this.upgrades=null,this.pingInterval=null,this.pingTimeout=null,this.pingTimeoutTimer=null,"function"==typeof addEventListener&&(this.opts.closeOnBeforeunload&&(this.beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this.beforeunloadEventListener,!1)),"localhost"!==this.hostname&&(this.offlineEventListener=()=>{this.onClose("transport close",{description:"network connection lost"})},addEventListener("offline",this.offlineEventListener,!1))),this.open()}createTransport(e){const t=Object.assign({},this.opts.query);t.EIO=protocol$1,t.transport=e,this.id&&(t.sid=this.id);const r=Object.assign({},this.opts.transportOptions[e],this.opts,{query:t,socket:this,hostname:this.hostname,secure:this.secure,port:this.port});return new transports[e](r)}open(){let e;if(this.opts.rememberUpgrade&&Socket$1.priorWebsocketSuccess&&-1!==this.transports.indexOf("websocket"))e="websocket";else{if(0===this.transports.length)return void this.setTimeoutFn((()=>{this.emitReserved("error","No transports available")}),0);e=this.transports[0]}this.readyState="opening";try{e=this.createTransport(e)}catch(t){return this.transports.shift(),void this.open()}e.open(),this.setTransport(e)}setTransport(e){this.transport&&this.transport.removeAllListeners(),this.transport=e,e.on("drain",this.onDrain.bind(this)).on("packet",this.onPacket.bind(this)).on("error",this.onError.bind(this)).on("close",(e=>this.onClose("transport close",e)))}probe(e){let t=this.createTransport(e),r=!1;Socket$1.priorWebsocketSuccess=!1;const n=()=>{r||(t.send([{type:"ping",data:"probe"}]),t.once("packet",(e=>{if(!r)if("pong"===e.type&&"probe"===e.data){if(this.upgrading=!0,this.emitReserved("upgrading",t),!t)return;Socket$1.priorWebsocketSuccess="websocket"===t.name,this.transport.pause((()=>{r||"closed"!==this.readyState&&(c(),this.setTransport(t),t.send([{type:"upgrade"}]),this.emitReserved("upgrade",t),t=null,this.upgrading=!1,this.flush())}))}else{const e=new Error("probe error");e.transport=t.name,this.emitReserved("upgradeError",e)}})))};function a(){r||(r=!0,c(),t.close(),t=null)}const o=e=>{const r=new Error("probe error: "+e);r.transport=t.name,a(),this.emitReserved("upgradeError",r)};function s(){o("transport closed")}function i(){o("socket closed")}function u(e){t&&e.name!==t.name&&a()}const c=()=>{t.removeListener("open",n),t.removeListener("error",o),t.removeListener("close",s),this.off("close",i),this.off("upgrading",u)};t.once("open",n),t.once("error",o),t.once("close",s),this.once("close",i),this.once("upgrading",u),t.open()}onOpen(){if(this.readyState="open",Socket$1.priorWebsocketSuccess="websocket"===this.transport.name,this.emitReserved("open"),this.flush(),"open"===this.readyState&&this.opts.upgrade&&this.transport.pause){let e=0;const t=this.upgrades.length;for(;e<t;e++)this.probe(this.upgrades[e])}}onPacket(e){if("opening"===this.readyState||"open"===this.readyState||"closing"===this.readyState)switch(this.emitReserved("packet",e),this.emitReserved("heartbeat"),e.type){case"open":this.onHandshake(JSON.parse(e.data));break;case"ping":this.resetPingTimeout(),this.sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong");break;case"error":const t=new Error("server error");t.code=e.data,this.onError(t);break;case"message":this.emitReserved("data",e.data),this.emitReserved("message",e.data)}}onHandshake(e){this.emitReserved("handshake",e),this.id=e.sid,this.transport.query.sid=e.sid,this.upgrades=this.filterUpgrades(e.upgrades),this.pingInterval=e.pingInterval,this.pingTimeout=e.pingTimeout,this.maxPayload=e.maxPayload,this.onOpen(),"closed"!==this.readyState&&this.resetPingTimeout()}resetPingTimeout(){this.clearTimeoutFn(this.pingTimeoutTimer),this.pingTimeoutTimer=this.setTimeoutFn((()=>{this.onClose("ping timeout")}),this.pingInterval+this.pingTimeout),this.opts.autoUnref&&this.pingTimeoutTimer.unref()}onDrain(){this.writeBuffer.splice(0,this.prevBufferLen),this.prevBufferLen=0,0===this.writeBuffer.length?this.emitReserved("drain"):this.flush()}flush(){if("closed"!==this.readyState&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const e=this.getWritablePackets();this.transport.send(e),this.prevBufferLen=e.length,this.emitReserved("flush")}}getWritablePackets(){if(!(this.maxPayload&&"polling"===this.transport.name&&this.writeBuffer.length>1))return this.writeBuffer;let e=1;for(let t=0;t<this.writeBuffer.length;t++){const r=this.writeBuffer[t].data;if(r&&(e+=byteLength(r)),t>0&&e>this.maxPayload)return this.writeBuffer.slice(0,t);e+=2}return this.writeBuffer}write(e,t,r){return this.sendPacket("message",e,t,r),this}send(e,t,r){return this.sendPacket("message",e,t,r),this}sendPacket(e,t,r,n){if("function"==typeof t&&(n=t,t=void 0),"function"==typeof r&&(n=r,r=null),"closing"===this.readyState||"closed"===this.readyState)return;(r=r||{}).compress=!1!==r.compress;const a={type:e,data:t,options:r};this.emitReserved("packetCreate",a),this.writeBuffer.push(a),n&&this.once("flush",n),this.flush()}close(){const e=()=>{this.onClose("forced close"),this.transport.close()},t=()=>{this.off("upgrade",t),this.off("upgradeError",t),e()},r=()=>{this.once("upgrade",t),this.once("upgradeError",t)};return"opening"!==this.readyState&&"open"!==this.readyState||(this.readyState="closing",this.writeBuffer.length?this.once("drain",(()=>{this.upgrading?r():e()})):this.upgrading?r():e()),this}onError(e){Socket$1.priorWebsocketSuccess=!1,this.emitReserved("error",e),this.onClose("transport error",e)}onClose(e,t){"opening"!==this.readyState&&"open"!==this.readyState&&"closing"!==this.readyState||(this.clearTimeoutFn(this.pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),"function"==typeof removeEventListener&&(removeEventListener("beforeunload",this.beforeunloadEventListener,!1),removeEventListener("offline",this.offlineEventListener,!1)),this.readyState="closed",this.id=null,this.emitReserved("close",e,t),this.writeBuffer=[],this.prevBufferLen=0)}filterUpgrades(e){const t=[];let r=0;const n=e.length;for(;r<n;r++)~this.transports.indexOf(e[r])&&t.push(e[r]);return t}}function url(e,t="",r){let n=e;r=r||"undefined"!=typeof location&&location,null==e&&(e=r.protocol+"//"+r.host),"string"==typeof e&&("/"===e.charAt(0)&&(e="/"===e.charAt(1)?r.protocol+e:r.host+e),/^(https?|wss?):\/\//.test(e)||(e=void 0!==r?r.protocol+"//"+e:"https://"+e),n=parse$2(e)),n.port||(/^(http|ws)$/.test(n.protocol)?n.port="80":/^(http|ws)s$/.test(n.protocol)&&(n.port="443")),n.path=n.path||"/";const a=-1!==n.host.indexOf(":")?"["+n.host+"]":n.host;return n.id=n.protocol+"://"+a+":"+n.port+t,n.href=n.protocol+"://"+a+(r&&r.port===n.port?"":":"+n.port),n}Socket$1.protocol=protocol$1,Socket$1.protocol;const withNativeArrayBuffer="function"==typeof ArrayBuffer,isView=e=>"function"==typeof ArrayBuffer.isView?ArrayBuffer.isView(e):e.buffer instanceof ArrayBuffer,toString=Object.prototype.toString,withNativeBlob="function"==typeof Blob||"undefined"!=typeof Blob&&"[object BlobConstructor]"===toString.call(Blob),withNativeFile="function"==typeof File||"undefined"!=typeof File&&"[object FileConstructor]"===toString.call(File);function isBinary(e){return withNativeArrayBuffer&&(e instanceof ArrayBuffer||isView(e))||withNativeBlob&&e instanceof Blob||withNativeFile&&e instanceof File}function hasBinary(e,t){if(!e||"object"!=typeof e)return!1;if(Array.isArray(e)){for(let t=0,r=e.length;t<r;t++)if(hasBinary(e[t]))return!0;return!1}if(isBinary(e))return!0;if(e.toJSON&&"function"==typeof e.toJSON&&1===arguments.length)return hasBinary(e.toJSON(),!0);for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&hasBinary(e[r]))return!0;return!1}function deconstructPacket(e){const t=[],r=e.data,n=e;return n.data=_deconstructPacket(r,t),n.attachments=t.length,{packet:n,buffers:t}}function _deconstructPacket(e,t){if(!e)return e;if(isBinary(e)){const r={_placeholder:!0,num:t.length};return t.push(e),r}if(Array.isArray(e)){const r=new Array(e.length);for(let n=0;n<e.length;n++)r[n]=_deconstructPacket(e[n],t);return r}if("object"==typeof e&&!(e instanceof Date)){const r={};for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=_deconstructPacket(e[n],t));return r}return e}function reconstructPacket(e,t){return e.data=_reconstructPacket(e.data,t),delete e.attachments,e}function _reconstructPacket(e,t){if(!e)return e;if(e&&!0===e._placeholder){if("number"==typeof e.num&&e.num>=0&&e.num<t.length)return t[e.num];throw new Error("illegal attachments")}if(Array.isArray(e))for(let r=0;r<e.length;r++)e[r]=_reconstructPacket(e[r],t);else if("object"==typeof e)for(const r in e)Object.prototype.hasOwnProperty.call(e,r)&&(e[r]=_reconstructPacket(e[r],t));return e}const protocol=5;var PacketType;!function(e){e[e.CONNECT=0]="CONNECT",e[e.DISCONNECT=1]="DISCONNECT",e[e.EVENT=2]="EVENT",e[e.ACK=3]="ACK",e[e.CONNECT_ERROR=4]="CONNECT_ERROR",e[e.BINARY_EVENT=5]="BINARY_EVENT",e[e.BINARY_ACK=6]="BINARY_ACK"}(PacketType||(PacketType={}));class Encoder{constructor(e){this.replacer=e}encode(e){return e.type!==PacketType.EVENT&&e.type!==PacketType.ACK||!hasBinary(e)?[this.encodeAsString(e)]:this.encodeAsBinary({type:e.type===PacketType.EVENT?PacketType.BINARY_EVENT:PacketType.BINARY_ACK,nsp:e.nsp,data:e.data,id:e.id})}encodeAsString(e){let t=""+e.type;return e.type!==PacketType.BINARY_EVENT&&e.type!==PacketType.BINARY_ACK||(t+=e.attachments+"-"),e.nsp&&"/"!==e.nsp&&(t+=e.nsp+","),null!=e.id&&(t+=e.id),null!=e.data&&(t+=JSON.stringify(e.data,this.replacer)),t}encodeAsBinary(e){const t=deconstructPacket(e),r=this.encodeAsString(t.packet),n=t.buffers;return n.unshift(r),n}}class Decoder extends Emitter_1{constructor(e){super(),this.reviver=e}add(e){let t;if("string"==typeof e){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");t=this.decodeString(e);const r=t.type===PacketType.BINARY_EVENT;r||t.type===PacketType.BINARY_ACK?(t.type=r?PacketType.EVENT:PacketType.ACK,this.reconstructor=new BinaryReconstructor(t),0===t.attachments&&super.emitReserved("decoded",t)):super.emitReserved("decoded",t)}else{if(!isBinary(e)&&!e.base64)throw new Error("Unknown type: "+e);if(!this.reconstructor)throw new Error("got binary data when not reconstructing a packet");t=this.reconstructor.takeBinaryData(e),t&&(this.reconstructor=null,super.emitReserved("decoded",t))}}decodeString(e){let t=0;const r={type:Number(e.charAt(0))};if(void 0===PacketType[r.type])throw new Error("unknown packet type "+r.type);if(r.type===PacketType.BINARY_EVENT||r.type===PacketType.BINARY_ACK){const n=t+1;for(;"-"!==e.charAt(++t)&&t!=e.length;);const a=e.substring(n,t);if(a!=Number(a)||"-"!==e.charAt(t))throw new Error("Illegal attachments");r.attachments=Number(a)}if("/"===e.charAt(t+1)){const n=t+1;for(;++t;){if(","===e.charAt(t))break;if(t===e.length)break}r.nsp=e.substring(n,t)}else r.nsp="/";const n=e.charAt(t+1);if(""!==n&&Number(n)==n){const n=t+1;for(;++t;){const r=e.charAt(t);if(null==r||Number(r)!=r){--t;break}if(t===e.length)break}r.id=Number(e.substring(n,t+1))}if(e.charAt(++t)){const n=this.tryParse(e.substr(t));if(!Decoder.isPayloadValid(r.type,n))throw new Error("invalid payload");r.data=n}return r}tryParse(e){try{return JSON.parse(e,this.reviver)}catch(t){return!1}}static isPayloadValid(e,t){switch(e){case PacketType.CONNECT:return"object"==typeof t;case PacketType.DISCONNECT:return void 0===t;case PacketType.CONNECT_ERROR:return"string"==typeof t||"object"==typeof t;case PacketType.EVENT:case PacketType.BINARY_EVENT:return Array.isArray(t)&&t.length>0;case PacketType.ACK:case PacketType.BINARY_ACK:return Array.isArray(t)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}}class BinaryReconstructor{constructor(e){this.packet=e,this.buffers=[],this.reconPack=e}takeBinaryData(e){if(this.buffers.push(e),this.buffers.length===this.reconPack.attachments){const e=reconstructPacket(this.reconPack,this.buffers);return this.finishedReconstruction(),e}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}var parser=Object.freeze({__proto__:null,protocol:protocol,get PacketType(){return PacketType},Encoder:Encoder,Decoder:Decoder});function on(e,t,r){return e.on(t,r),function(){e.off(t,r)}}const RESERVED_EVENTS=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class Socket extends Emitter_1{constructor(e,t,r){super(),this.connected=!1,this.receiveBuffer=[],this.sendBuffer=[],this.ids=0,this.acks={},this.flags={},this.io=e,this.nsp=t,r&&r.auth&&(this.auth=r.auth),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const e=this.io;this.subs=[on(e,"open",this.onopen.bind(this)),on(e,"packet",this.onpacket.bind(this)),on(e,"error",this.onerror.bind(this)),on(e,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected||(this.subEvents(),this.io._reconnecting||this.io.open(),"open"===this.io._readyState&&this.onopen()),this}open(){return this.connect()}send(...e){return e.unshift("message"),this.emit.apply(this,e),this}emit(e,...t){if(RESERVED_EVENTS.hasOwnProperty(e))throw new Error('"'+e+'" is a reserved event name');t.unshift(e);const r={type:PacketType.EVENT,data:t,options:{}};if(r.options.compress=!1!==this.flags.compress,"function"==typeof t[t.length-1]){const e=this.ids++,n=t.pop();this._registerAckCallback(e,n),r.id=e}const n=this.io.engine&&this.io.engine.transport&&this.io.engine.transport.writable;return this.flags.volatile&&(!n||!this.connected)||(this.connected?(this.notifyOutgoingListeners(r),this.packet(r)):this.sendBuffer.push(r)),this.flags={},this}_registerAckCallback(e,t){const r=this.flags.timeout;if(void 0===r)return void(this.acks[e]=t);const n=this.io.setTimeoutFn((()=>{delete this.acks[e];for(let t=0;t<this.sendBuffer.length;t++)this.sendBuffer[t].id===e&&this.sendBuffer.splice(t,1);t.call(this,new Error("operation has timed out"))}),r);this.acks[e]=(...e)=>{this.io.clearTimeoutFn(n),t.apply(this,[null,...e])}}packet(e){e.nsp=this.nsp,this.io._packet(e)}onopen(){"function"==typeof this.auth?this.auth((e=>{this.packet({type:PacketType.CONNECT,data:e})})):this.packet({type:PacketType.CONNECT,data:this.auth})}onerror(e){this.connected||this.emitReserved("connect_error",e)}onclose(e,t){this.connected=!1,delete this.id,this.emitReserved("disconnect",e,t)}onpacket(e){if(e.nsp===this.nsp)switch(e.type){case PacketType.CONNECT:if(e.data&&e.data.sid){const t=e.data.sid;this.onconnect(t)}else this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case PacketType.EVENT:case PacketType.BINARY_EVENT:this.onevent(e);break;case PacketType.ACK:case PacketType.BINARY_ACK:this.onack(e);break;case PacketType.DISCONNECT:this.ondisconnect();break;case PacketType.CONNECT_ERROR:this.destroy();const t=new Error(e.data.message);t.data=e.data.data,this.emitReserved("connect_error",t)}}onevent(e){const t=e.data||[];null!=e.id&&t.push(this.ack(e.id)),this.connected?this.emitEvent(t):this.receiveBuffer.push(Object.freeze(t))}emitEvent(e){if(this._anyListeners&&this._anyListeners.length){const t=this._anyListeners.slice();for(const r of t)r.apply(this,e)}super.emit.apply(this,e)}ack(e){const t=this;let r=!1;return function(...n){r||(r=!0,t.packet({type:PacketType.ACK,id:e,data:n}))}}onack(e){const t=this.acks[e.id];"function"==typeof t&&(t.apply(this,e.data),delete this.acks[e.id])}onconnect(e){this.id=e,this.connected=!0,this.emitBuffered(),this.emitReserved("connect")}emitBuffered(){this.receiveBuffer.forEach((e=>this.emitEvent(e))),this.receiveBuffer=[],this.sendBuffer.forEach((e=>{this.notifyOutgoingListeners(e),this.packet(e)})),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach((e=>e())),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:PacketType.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(e){return this.flags.compress=e,this}get volatile(){return this.flags.volatile=!0,this}timeout(e){return this.flags.timeout=e,this}onAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(e),this}prependAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(e),this}offAny(e){if(!this._anyListeners)return this;if(e){const t=this._anyListeners;for(let r=0;r<t.length;r++)if(e===t[r])return t.splice(r,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(e),this}prependAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(e),this}offAnyOutgoing(e){if(!this._anyOutgoingListeners)return this;if(e){const t=this._anyOutgoingListeners;for(let r=0;r<t.length;r++)if(e===t[r])return t.splice(r,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(e){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const t=this._anyOutgoingListeners.slice();for(const r of t)r.apply(this,e.data)}}}function Backoff(e){e=e||{},this.ms=e.min||100,this.max=e.max||1e4,this.factor=e.factor||2,this.jitter=e.jitter>0&&e.jitter<=1?e.jitter:0,this.attempts=0}Backoff.prototype.duration=function(){var e=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var t=Math.random(),r=Math.floor(t*this.jitter*e);e=0==(1&Math.floor(10*t))?e-r:e+r}return 0|Math.min(e,this.max)},Backoff.prototype.reset=function(){this.attempts=0},Backoff.prototype.setMin=function(e){this.ms=e},Backoff.prototype.setMax=function(e){this.max=e},Backoff.prototype.setJitter=function(e){this.jitter=e};class Manager extends Emitter_1{constructor(e,t){var r;super(),this.nsps={},this.subs=[],e&&"object"==typeof e&&(t=e,e=void 0),(t=t||{}).path=t.path||"/socket.io",this.opts=t,installTimerFunctions(this,t),this.reconnection(!1!==t.reconnection),this.reconnectionAttempts(t.reconnectionAttempts||1/0),this.reconnectionDelay(t.reconnectionDelay||1e3),this.reconnectionDelayMax(t.reconnectionDelayMax||5e3),this.randomizationFactor(null!==(r=t.randomizationFactor)&&void 0!==r?r:.5),this.backoff=new Backoff({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(null==t.timeout?2e4:t.timeout),this._readyState="closed",this.uri=e;const n=t.parser||parser;this.encoder=new n.Encoder,this.decoder=new n.Decoder,this._autoConnect=!1!==t.autoConnect,this._autoConnect&&this.open()}reconnection(e){return arguments.length?(this._reconnection=!!e,this):this._reconnection}reconnectionAttempts(e){return void 0===e?this._reconnectionAttempts:(this._reconnectionAttempts=e,this)}reconnectionDelay(e){var t;return void 0===e?this._reconnectionDelay:(this._reconnectionDelay=e,null===(t=this.backoff)||void 0===t||t.setMin(e),this)}randomizationFactor(e){var t;return void 0===e?this._randomizationFactor:(this._randomizationFactor=e,null===(t=this.backoff)||void 0===t||t.setJitter(e),this)}reconnectionDelayMax(e){var t;return void 0===e?this._reconnectionDelayMax:(this._reconnectionDelayMax=e,null===(t=this.backoff)||void 0===t||t.setMax(e),this)}timeout(e){return arguments.length?(this._timeout=e,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&0===this.backoff.attempts&&this.reconnect()}open(e){if(~this._readyState.indexOf("open"))return this;this.engine=new Socket$1(this.uri,this.opts);const t=this.engine,r=this;this._readyState="opening",this.skipReconnect=!1;const n=on(t,"open",(function(){r.onopen(),e&&e()})),a=on(t,"error",(t=>{r.cleanup(),r._readyState="closed",this.emitReserved("error",t),e?e(t):r.maybeReconnectOnOpen()}));if(!1!==this._timeout){const e=this._timeout;0===e&&n();const r=this.setTimeoutFn((()=>{n(),t.close(),t.emit("error",new Error("timeout"))}),e);this.opts.autoUnref&&r.unref(),this.subs.push((function(){clearTimeout(r)}))}return this.subs.push(n),this.subs.push(a),this}connect(e){return this.open(e)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const e=this.engine;this.subs.push(on(e,"ping",this.onping.bind(this)),on(e,"data",this.ondata.bind(this)),on(e,"error",this.onerror.bind(this)),on(e,"close",this.onclose.bind(this)),on(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(e){this.decoder.add(e)}ondecoded(e){this.emitReserved("packet",e)}onerror(e){this.emitReserved("error",e)}socket(e,t){let r=this.nsps[e];return r||(r=new Socket(this,e,t),this.nsps[e]=r),r}_destroy(e){const t=Object.keys(this.nsps);for(const r of t){if(this.nsps[r].active)return}this._close()}_packet(e){const t=this.encoder.encode(e);for(let r=0;r<t.length;r++)this.engine.write(t[r],e.options)}cleanup(){this.subs.forEach((e=>e())),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close"),this.engine&&this.engine.close()}disconnect(){return this._close()}onclose(e,t){this.cleanup(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",e,t),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const e=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const t=this.backoff.duration();this._reconnecting=!0;const r=this.setTimeoutFn((()=>{e.skipReconnect||(this.emitReserved("reconnect_attempt",e.backoff.attempts),e.skipReconnect||e.open((t=>{t?(e._reconnecting=!1,e.reconnect(),this.emitReserved("reconnect_error",t)):e.onreconnect()})))}),t);this.opts.autoUnref&&r.unref(),this.subs.push((function(){clearTimeout(r)}))}}onreconnect(){const e=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",e)}}const cache={};function lookup(e,t){"object"==typeof e&&(t=e,e=void 0);const r=url(e,(t=t||{}).path||"/socket.io"),n=r.source,a=r.id,o=r.path,s=cache[a]&&o in cache[a].nsps;let i;return t.forceNew||t["force new connection"]||!1===t.multiplex||s?i=new Manager(n,t):(cache[a]||(cache[a]=new Manager(n,t)),i=cache[a]),r.query&&!t.query&&(t.query=r.queryKey),i.socket(r.path,t)}Object.assign(lookup,{Manager:Manager,Socket:Socket,io:lookup,connect:lookup});var StentorServerChat=function(){function e(e,t){this.config=e,this.token=t.token}return e.prototype.init=function(e){var t=this;this.socket=lookup(this.config.url,{transports:["websocket"],reconnection:!0,reconnectionDelay:1e3,reconnectionDelayMax:5e3,reconnectionAttempts:5}),this.dispatch=e,this.socket.on("account_status",(function(r){log("SERVER: account_status: ".concat(JSON.stringify(r))),t.token||(t.token=uuid_1(),e(receiveToken(t.token)),log("CLIENT: created token: ".concat(t.token))),t.socket.emit("connection update",t.token),e({type:"account_status",detail:{status:"online",timestamp:+new Date}})})),this.socket.on("new message",(function(e){log("SERVER: new message: ".concat(JSON.stringify(e))),t.dispatch({type:"chat",detail:{type:"chat.msg",user:{displayName:e.username,nick:"agent:robot"},msg:e.message,timestamp:+new Date}})})),this.socket.on("user joined",(function(e){log("SERVER: user joined: ".concat(JSON.stringify(e))),t.visitorInfo.token=e.token,t.dispatch({type:"chat",detail:{type:"chat.memberjoin",user:{displayName:e.username,nick:"agent:robot",avatarPath:e.avatarPath},timestamp:+new Date}})})),this.socket.on("user left",(function(e){log("SERVER: user left: ".concat(JSON.stringify(e))),t.dispatch({type:"chat",detail:{type:"chat.memberleave",user:{displayName:e.username,nick:"agent:robot"},timestamp:+new Date}})})),this.socket.on("typing",(function(e){log("SERVER: typing: ".concat(JSON.stringify(e))),t.dispatch({type:"chat",detail:{type:"chat.typing",user:{nick:"agent:robot"},typing:!0,timestamp:+new Date}})})),this.socket.on("stop typing",(function(e){log("SERVER: stop typing: ".concat(JSON.stringify(e))),t.dispatch({type:"chat",detail:{type:"chat.typing",user:{nick:"agent:robot"},typing:!1,timestamp:+new Date}})})),this.socket.on("disconnect",(function(){log("SERVER: disconnect"),t.dispatch(setAccountStatus("offline")),t.dispatch(setConnectionStatus("offline"))})),this.socket.on("reconnect",(function(){log("SERVER: reconnect"),t.dispatch(setAccountStatus("online")),t.dispatch(setConnectionStatus("online"))})),this.socket.on("reconnect_failed",(function(e){log("SERVER: reconnect_failed",e),t.dispatch(setAccountStatus("offline")),t.dispatch(setConnectionStatus("offline"))})),this.socket.on("reconnect_error",(function(e){log("SERVER: reconnect_error",e),t.dispatch(setAccountStatus("offline"))})),this.dispatch(setConnectionStatus("pending"))},e.prototype.sendOfflineMsg=function(e,t){t()},e.prototype.sendChatMsg=function(e,t){this.socket.emit("new message",e),t()},e.prototype.sendChatMsgRequest=function(e,t){this.socket.emit("new message",e),t()},e.prototype.sendTyping=function(e){this.socket.emit(e?"typing":"stop typing")},e.prototype.setVisitorInfo=function(e,t){this.visitorInfo=e,this.socket.emit("add user",e),t()},e.prototype.sendChatRating=function(){},e.prototype.sendFile=function(e,t){t()},e.prototype.markAsRead=function(){},e.prototype.flush=function(){},e.prototype.dispose=function(){var e;null===(e=this.socket)||void 0===e||e.disconnect()},e.prototype.bargeOut=function(e){return __awaiter$1(this,void 0,void 0,(function(){return __generator$1(this,(function(e){throw new Error("Method not implemented: bargeOut")}))}))},e.prototype.bargeIn=function(e,t){return __awaiter$1(this,void 0,void 0,(function(){return __generator$1(this,(function(e){throw new Error("Method not implemented: bargeIn")}))}))},e}();function createChatServerCore(e,t){switch(e.type){case"direct":return new StentorDirectChat({url:e.serverUrl,key:e.accountKey},t);case"websocket":return new StentorServerChat({url:e.serverUrl},t);case"websocketraw":return new StentorRouterChat({url:e.serverUrl},t);case"local":return new StentorLocalChat;default:throw throwBadKind$1(e.type)}}function createChatServer(e,t){return new LogChat(createChatServerCore(e,t))}var ChatServerContext=(0,react__WEBPACK_IMPORTED_MODULE_0__.createContext)(null);function useChatServer(e,t){var r=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(),n=r[0],a=r[1],o=useChatDispatch();return(0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)((function(){var r=createChatServer(e,t);return r.init(o),a(r),function(){r.dispose()}}),[t,e,o]),n}function useChatServerDispatch(){var e=useChatDispatch(),t=(0,react__WEBPACK_IMPORTED_MODULE_0__.useContext)(ChatServerContext);return(0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)((function(r){r?t&&e(r(t)):console.warn("react bug? Someone invokes with null")}),[e,t])}var ChatChipsContainer=function(e){var t=useChatServerDispatch(),r=(0,react_redux__WEBPACK_IMPORTED_MODULE_1__.v9)((function(e){return e.chips})),n=useOpenUrlCallback();return react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"message-list-container__chips ".concat((null==r?void 0:r.length)?"":"message-list-container__chips--empty")},react__WEBPACK_IMPORTED_MODULE_0__.createElement(ChatChips,{options:r,onOptionClick:function(e){var r=isChatServerActionLink(e)&&e.actionUrl;r?n(r):t(executeAction(getChatServerActionLinkLabel(e)))}}))},lib={},ChannelData={};Object.defineProperty(ChannelData,"__esModule",{value:!0});var Constants={};Object.defineProperty(Constants,"__esModule",{value:!0}),Constants.CHAT_WIDGET_CHANNEL=void 0,Constants.CHAT_WIDGET_CHANNEL="chat-widget";var Types={};Object.defineProperty(Types,"__esModule",{value:!0});var UserInfo={};Object.defineProperty(UserInfo,"__esModule",{value:!0});var WidgetEnv={};Object.defineProperty(WidgetEnv,"__esModule",{value:!0});var WidgetTheme={};Object.defineProperty(WidgetTheme,"__esModule",{value:!0});var guards={},exports,__createBinding,__exportStar;function isStaticImageMenuItem(e){return!!e&&!!e.imageUrl}function isStaticTextMenuItem(e){return!!e&&!!e.body}function isStandardMenuItem(e){return!!e&&!!e.label}function isOpenURLMenuItem(e){return!!e&&!!e.url}Object.defineProperty(guards,"__esModule",{value:!0}),guards.isOpenURLMenuItem=guards.isStandardMenuItem=guards.isStaticTextMenuItem=guards.isStaticImageMenuItem=void 0,guards.isStaticImageMenuItem=isStaticImageMenuItem,guards.isStaticTextMenuItem=isStaticTextMenuItem,guards.isStandardMenuItem=isStandardMenuItem,guards.isOpenURLMenuItem=isOpenURLMenuItem,exports=lib,__createBinding=commonjsGlobal&&commonjsGlobal.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var a=Object.getOwnPropertyDescriptor(t,r);a&&!("get"in a?!t.__esModule:a.writable||a.configurable)||(a={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,a)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),__exportStar=commonjsGlobal&&commonjsGlobal.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||__createBinding(t,e,r)},Object.defineProperty(exports,"__esModule",{value:!0}),__exportStar(ChannelData,exports),__exportStar(Constants,exports),__exportStar(Types,exports),__exportStar(UserInfo,exports),__exportStar(WidgetEnv,exports),__exportStar(WidgetTheme,exports),__exportStar(guards,exports);var ChatMenuItem=function(e){var t=e.subtitle?react__WEBPACK_IMPORTED_MODULE_0__.createElement("span",null,react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",null,e.label),react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"chat-menu-item--subtitle"},e.subtitle)):react__WEBPACK_IMPORTED_MODULE_0__.createElement("span",null,e.label);return react__WEBPACK_IMPORTED_MODULE_0__.createElement("button",{type:"button",className:"chat-menu-item",tabIndex:e.tabIndex?Number(e.tabIndex):0,onClick:function(){e.onClick&&e.onClick(e.label)}},t)},_this=void 0,ChatMenu=function(e){var t=e.items,r=e.opened,n=e.openFrom||"bottom",a=useOpenUrlCallback();return react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"chat-menu-".concat(n," ").concat("chat-menu-".concat(n,r?"--opened":"--closed"))},t.map((function(t,r){return lib.isStandardMenuItem(t)?react__WEBPACK_IMPORTED_MODULE_0__.createElement(ChatMenuItem,{key:r,onClick:e.onItemClick,label:t.label,subtitle:t.subtitle}):lib.isStaticImageMenuItem(t)?react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{key:r,className:"chat-menu-item-static"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("img",{style:{maxHeight:"100%",maxWidth:"auto"},src:t.imageUrl,alt:"Menu Item"})):lib.isStaticTextMenuItem(t)?react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{key:r,className:"chat-menu-item-static-text"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",null,react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",null,t.title),react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"chat-menu-item-static-text--body"},t.body))):lib.isOpenURLMenuItem(t)?react__WEBPACK_IMPORTED_MODULE_0__.createElement("button",{key:r,className:"chat-menu-item",onClick:a.bind(_this,t.url,t.behavior)},t.text):react__WEBPACK_IMPORTED_MODULE_0__.createElement("p",null,"Unknown")})))},UnknownMessage=function(){return react__WEBPACK_IMPORTED_MODULE_0__.createElement(react__WEBPACK_IMPORTED_MODULE_0__.Fragment,null)};function renderAvatar(e){return react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"xappw-chat-msg-part__avatar"},react__WEBPACK_IMPORTED_MODULE_0__.createElement(Avatar,{entity:e}))}var ChatMessagePart=function(e){return react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"xappw-chat-msg-part"},e.showAvatar&&renderAvatar(e.user),e.children)};function useExecuteActionCallback(){var e=useChatServerDispatch();return(0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)((function(t,r){e(executeAction(t,r))}),[e])}function useButtonCallback(){var e=useOpenUrlCallback(),t=useExecuteActionCallback();return(0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)((function(r){r.actionUrl?e(r.actionUrl):t(r.label)}),[t,e])}function isCard(e){return!!e&&"CARD"===e.type}function isList(e){return!!e&&("LIST"===e.type||"CAROUSEL"===e.type)}var CardMiddlewareWidget=function(e){var t=e.msg,r=e.ctx,n=(0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)((function(){return convertFromCardDisplay(t)}),[t]),a=r.user,o=useButtonCallback();return react__WEBPACK_IMPORTED_MODULE_0__.createElement(ChatMessagePart,{showAvatar:!0,user:a},react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"chat-msg"},react__WEBPACK_IMPORTED_MODULE_0__.createElement(ChatCard,{card:n,onButtonClick:o})))},CardMiddleware=function(e){return function(t){var r=t.msg,n=t.ctx;return isCard(r)?react__WEBPACK_IMPORTED_MODULE_0__.createElement(CardMiddlewareWidget,{msg:r,ctx:n}):e(t)}};function joinMiddlewares(e){return function(t){return e.reduceRight((function(e,t){return t(e)}),t)}}function createSubscribableArray(e){var t=e||[],r=[];function n(){for(var e=0,n=r;e<n.length;e++){(0,n[e])(t)}}return{getArray:function(){return t},push:function(e){t=__spreadArray$1(__spreadArray$1([],t,!0),[e],!1),n()},unshift:function(e){t=__spreadArray$1([e],t,!0),n()},subscribe:function(e){return r.push(e),{unsubscribe:function(){var t=r.indexOf(e);t>=0&&r.splice(t,1)}}}}}function useSubscribableArray(e){var t=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(e.getArray()),r=t[0],n=t[1],a=useIsMounted();return(0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)((function(){var t=e.subscribe((function(e){a()&&n(e)}));return function(){t.unsubscribe()}}),[a,e]),r}var empty$1=[];function createStorage(e,t){return{get:function(){return e[t]},set:function(r){return e[t]=r}}}function useGlobalSubscribableArray(e){var t=e.get()||empty$1,r=Array.isArray(t)?createSubscribableArray(t):t;return r!==t&&e.set(r),useSubscribableArray(r)}function useLateMiddlewaresBuilder(e){var t=useGlobalSubscribableArray(e);return(0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)((function(){return joinMiddlewares(t)}),[t])}var storage=createStorage(globalThis,"xappMsgMiddlewares");function useLateMiddleware(){return useLateMiddlewaresBuilder(storage)}function getSvg(){return react__WEBPACK_IMPORTED_MODULE_0__.createElement("svg",{viewBox:"0 0 20 20"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("path",{d:"M17 17H3V3h5V1H3a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-5h-2z"}),react__WEBPACK_IMPORTED_MODULE_0__.createElement("path",{d:"M19 1h-8l3.29 3.29-5.73 5.73 1.42 1.42 5.73-5.73L19 9V1z"}))}var ExternalLink=function(e){var t=e.url,r=(0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)((function(e){e.preventDefault()}),[]);return react__WEBPACK_IMPORTED_MODULE_0__.createElement("a",{href:t,"aria-label":"read more",target:"_blank",rel:"noreferrer",className:e.className,onClick:r},getSvg())};function firstIndex(e,t){for(var r=-1,n=0,a=t;n<a.length;n++){var o=a[n],s=e.indexOf(o);s>=0&&(r<0||r>=0&&s<r)&&(r=s)}return r}var schemeParser=function(e){var t=e.indexOf("://");return t<0?t:t+3},domainEnds=[":","/"],portEnds=["/"],pathEnds=["?","#"],queryEnds=["#"],domainParser=function(e){return firstIndex(e,domainEnds)},portParser=function(e){return":"!==e.charAt(0)?-1:firstIndex(e,portEnds)},pathParser=function(e){var t=firstIndex(e,pathEnds);return t>=0?t:e.length},queryParser=function(e){return firstIndex(e,queryEnds)},parsers$1=[schemeParser,domainParser,portParser,pathParser,queryParser];function parse$1(e){for(var t=[],r=e,n=0,a=parsers$1;n<a.length;n++){var o=a[n],s=Math.max(0,o(r,e)),i=r.substring(0,s);t.push(i),r=r.substring(s)}return r&&t.push(r),t}var ellipsis="/...";function reduceLink(e,t){if(e.length<t)return e;var r=parse$1(e);function n(){return r.join("")}function a(){return n().length>t}function o(e){a()&&(r[e]="")}if(":80"===r[2]&&"http://"===r[0]&&o(2),":443"===r[2]&&"https://"===r[0]&&o(2),o(5),o(4),o(2),o(0),a()){var s=r[3],i=n().length-s.length,u=t-i;if(u<0)r[3]="";else if(u<s.length){var c=s.length-u+ellipsis.length;r[3]=ellipsis+s.substring(c)}}return n()}var SmartLink=function(e){var t=e.url,r=e.className,n=(0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)((function(e){e.preventDefault()}),[]);return react__WEBPACK_IMPORTED_MODULE_0__.createElement("a",{href:t,"aria-label":"read more",target:"_blank",rel:"noreferrer",className:r,onClick:n},reduceLink(t,40))},ListItem=function(e){var t,r=e.item,n=e.layout||"normal",a=r.url||r.imageActionUrl;return react__WEBPACK_IMPORTED_MODULE_0__.createElement(ActionItem,{className:"xappw-vlist-item-container",item:r,onButtonClick:e.onButtonClick,onExecute:e.onExecute,onOpenUrl:e.onOpenUrl},react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"xappw-vlist-item xappw-vlist-item--".concat(n)},react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"xappw-vlist-item__description"},r.title&&react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"xappw-vlist-item__title"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("span",null,r.title)),a&&react__WEBPACK_IMPORTED_MODULE_0__.createElement(SmartLink,{url:a,className:"xappw-vlist-item__link"}),r.subTitle&&react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"xappw-vlist-item__subtitle"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("span",null,r.subTitle)),!!(null===(t=r.buttons)||void 0===t?void 0:t.length)&&react__WEBPACK_IMPORTED_MODULE_0__.createElement(ChatActionButtons,{buttons:r.buttons,onClick:e.onButtonClick})),react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"xappw-vlist-item__side"},a&&react__WEBPACK_IMPORTED_MODULE_0__.createElement(ExternalLink,{url:"url",className:"xappw-vlist-item__external-link"}),react__WEBPACK_IMPORTED_MODULE_0__.createElement(ActionItemImage,{item:r,className:"xappw-vlist-item__img",emptyImageVisible:e.emptyImageVisible}))))},List=function(e){var t=e.list,r=(0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(null),n=t.items.some((function(e){return e.imageUrl})),a=!t.items.some((function(e){var t;return e.subTitle||(null===(t=e.buttons)||void 0===t?void 0:t.length)})),o=t.items.map((function(t,r){return react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"xappw-vlist-container__item",key:"item-key-".concat(r)},react__WEBPACK_IMPORTED_MODULE_0__.createElement(ListItem,{item:t,layout:a?"titles":"normal",emptyImageVisible:n,onExecute:e.onExecute,onButtonClick:e.onButtonClick,onOpenUrl:e.onOpenUrl}))}));return react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"xappw-vlist"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{ref:r,className:"xappw-vlist-container"},e.list.title&&react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"xappw-vlist__header"},e.list.title),o))},ListMiddlewareWidget=function(e){var t=e.msg,r=e.ctx;if(!r)throw new TypeError("ctx not provided to ".concat(ListMiddlewareWidget.name));var n=(0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)((function(){return convertFromListDisplay(t)}),[t]),a=useExecuteActionCallback(),o=useButtonCallback(),s=r.user;return react__WEBPACK_IMPORTED_MODULE_0__.createElement(ChatMessagePart,{showAvatar:!0,user:s},"CAROUSEL"===n.type&&react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"chat-msg chat-msg--fullwidth chat-msg--no-ava"},react__WEBPACK_IMPORTED_MODULE_0__.createElement(Carousel,{list:n,onExecute:a,onButtonClick:o,onOpenUrl:r.openUrl})),"LIST"===n.type&&react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"chat-msg chat-msg--expand"},react__WEBPACK_IMPORTED_MODULE_0__.createElement(List,{list:n,onExecute:a,onButtonClick:o,onOpenUrl:r.openUrl})))},ListMiddleware=function(e){return function(t){var r=t.msg,n=t.ctx;return isList(r)?react__WEBPACK_IMPORTED_MODULE_0__.createElement(ListMiddlewareWidget,{msg:r,ctx:n}):e(t)}},MultiSelect=function(e){var t=e.items,r=e.checked,n=e.onChange,a=(0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)((function(e){var t,a=e.target.value;n(__assign(__assign({},r),((t={})[a]=!r[a],t)))}),[r,n]);return react__WEBPACK_IMPORTED_MODULE_0__.createElement("ul",{className:"xappw-multiselect"},null==t?void 0:t.map((function(e){return react__WEBPACK_IMPORTED_MODULE_0__.createElement("li",{key:e.id},react__WEBPACK_IMPORTED_MODULE_0__.createElement("label",null,react__WEBPACK_IMPORTED_MODULE_0__.createElement("input",{type:"checkbox",checked:r[e.id]||!1,onChange:a,value:e.id}),react__WEBPACK_IMPORTED_MODULE_0__.createElement("span",null,e.title)))})))};function isMultiSelect(e){return"MultiSelect"===e.type}function convertToMultiSelectItems(e){return e.items}var MultiSelectMiddlewareWidget=function(e){var t=e.msg,r=e.ctx,n=(0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)((function(){return convertToMultiSelectItems(t)}),[t]),a=r.user,o=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)({}),s=o[0],i=o[1],u=(0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)((function(){r.send({type:"custom",payload:JSON.stringify({type:"OPTION_SELECT_REQUEST",intentId:"OptionSelect",selected:Object.keys(s).map((function(e){return{id:e}}))})})}),[r,s]);return react__WEBPACK_IMPORTED_MODULE_0__.createElement(ChatMessagePart,{showAvatar:!0,user:a},react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"chat-msg"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",null,react__WEBPACK_IMPORTED_MODULE_0__.createElement(MultiSelect,{items:n,checked:s,onChange:i}),react__WEBPACK_IMPORTED_MODULE_0__.createElement(ActionButton,{label:"Submit",onClick:u}))))},MultiSelectMiddleware=function(e){return function(t){var r=t.msg,n=t.ctx;return isMultiSelect(r)?react__WEBPACK_IMPORTED_MODULE_0__.createElement(MultiSelectMiddlewareWidget,{msg:r,ctx:n}):e(t)}},StandardMiddlewaresBuilder=joinMiddlewares([ListMiddleware,CardMiddleware,MultiSelectMiddleware]);function useStandardMiddlewareBuilder(){var e=useLateMiddleware();return(0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)((function(){return joinMiddlewares([e,StandardMiddlewaresBuilder])}),[e])}function useStandardMiddleware(){var e=useStandardMiddlewareBuilder();return(0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)((function(){return e(UnknownMessage)}),[e])}var StandardMiddlewares=StandardMiddlewaresBuilder(UnknownMessage);function getTailSvgPath(e){return"others"===e?"m 80 0 v 240 h -60 c 40 -40 60 -160 60 -240":"m 0 0 v 240 h 60 c -40 -40 -60 -160 -60 -240"}function getTailSvg(e){return react__WEBPACK_IMPORTED_MODULE_0__.createElement("svg",{className:"chat-text-bubble__tail",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 80 240"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("path",{d:getTailSvgPath(e),fill:"currentColor"}))}var ChatMessageBubble=function(e){var t=e.owner,r=e.onClick,n=(0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)((function(){r&&r()}),[r]);return react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{onClick:n,className:"chat-text-bubble ".concat("mine"===t?"chat-text-bubble--mine":"chat-text-bubble--others")},e.hasTail&&getTailSvg(t),e.children)},ChatMarkdownMessage=function(e){var t=e.onOpenUrl,r=isAgent(e.message.user.nick),n=(0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(),a=e.message.msg.html,o=(0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)((function(e){if(t){var r=e.target;e.preventDefault(),t(r.href)}}),[t]);return(0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)((function(){if(n.current&&(n.current.innerHTML=a,t)){var e=n.current.querySelectorAll("a");return e.forEach((function(e){e.addEventListener("click",o)})),function(){e.forEach((function(e){e.removeEventListener("click",o)}))}}}),[n,a,t,o]),react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"chat-msg"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"chat-text-container"},react__WEBPACK_IMPORTED_MODULE_0__.createElement(ChatMessageBubble,{owner:r?"others":"mine",hasTail:r&&!e.sibling},react__WEBPACK_IMPORTED_MODULE_0__.createElement("span",{className:"message-sr-only"},"at "+e.time+(r?" the bot said":" the user said")),react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{ref:n}))))},ChatPermissionMessage=function(e){var t=e.message,r=e.ctx;if(!r)throw new TypeError("ctx not provided to ".concat(ChatPermissionMessage.name));var n=r.user,a=t.msg.permissionRequest,o=isAgent(e.message.user.nick),s=t.user,i="Deny",u=(0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)((function(e){r.write({type:"msg",user:s,msg:e})}),[r,s]),c=(0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)((function(e){r.write({type:"msg",user:n,msg:e})}),[r,n]),l=(0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)((function(){r.send({type:"msg",user:void 0,msg:{text:i}})}),[r]),d=(0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)((function(e){r.send({type:"permissionGrant",user:s,msg:e})}),[s,r]),f=(0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)((function(e,t){d({text:t,location:e?{latitude:e.coords.latitude,longitude:e.coords.longitude}:void 0,permissionRequest:a}),c({text:t});var r=e?null==a?void 0:a.approve:null==a?void 0:a.deny;r&&u(r)}),[a,c,u,d]),_=(0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)((function(e){f(void 0,e)}),[f]),p=(0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)((function(e){navigator.geolocation&&navigator.geolocation.getCurrentPosition((function(t){f(t,e)}),(function(){l()}))}),[l,f]);return a?react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"chat-msg"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("span",{className:"message-sr-only"},"at "+e.time+(o?" the bot said":" the user said")),react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"buttons-container"},react__WEBPACK_IMPORTED_MODULE_0__.createElement(ActionButton,{label:"Allow",addClass:"button",onClick:p}),react__WEBPACK_IMPORTED_MODULE_0__.createElement(ActionButton,{label:i,addClass:"button",onClick:_}))):react__WEBPACK_IMPORTED_MODULE_0__.createElement(react__WEBPACK_IMPORTED_MODULE_0__.Fragment,null)},ChatTextMessage=function(e){var t=isAgent(e.message.user.nick);return react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"chat-msg"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"chat-text-container"},react__WEBPACK_IMPORTED_MODULE_0__.createElement(ChatMessageBubble,{owner:t?"others":"mine",hasTail:t&&!e.sibling},react__WEBPACK_IMPORTED_MODULE_0__.createElement("span",{className:"message-sr-only"},"at "+e.time+(t?" the bot said":" the user said")),react__WEBPACK_IMPORTED_MODULE_0__.createElement("span",null,e.message.msg.text))))};function getClassName(e){return isAgent(e.user.nick)?"agent":"visitor"}var avaKeys=["text","html","card","list"],ChatMessage=function(e){var t=e.messageMiddleware||StandardMiddlewares,r=e.middlewareContext,n=e.agent;return react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"chat-msg-container-wrapper ".concat(isAgent(e.message.user.nick)?"agent":"visitor"," ").concat(e.sibling?"sibling":"")},react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"chat-msg-container ".concat(getClassName(e.message))},function(){var a,o=e.message.msg;if("chat.msg"===e.message.type){var s=avaKeys.find((function(e){return!!o[e]}));return react__WEBPACK_IMPORTED_MODULE_0__.createElement(react__WEBPACK_IMPORTED_MODULE_0__.Fragment,null,o.text&&react__WEBPACK_IMPORTED_MODULE_0__.createElement(ChatMessagePart,{showAvatar:"text"===s,user:n},react__WEBPACK_IMPORTED_MODULE_0__.createElement(ChatTextMessage,{message:e.message,sibling:e.sibling,time:e.time})),o.html&&react__WEBPACK_IMPORTED_MODULE_0__.createElement(ChatMessagePart,{showAvatar:"html"===s,user:n},react__WEBPACK_IMPORTED_MODULE_0__.createElement(ChatMarkdownMessage,{message:e.message,sibling:e.sibling,time:e.time,onOpenUrl:null===(a=e.middlewareContext)||void 0===a?void 0:a.openUrl})),o.displays&&t&&o.displays.map((function(r,n){var a=t;return react__WEBPACK_IMPORTED_MODULE_0__.createElement(react__WEBPACK_IMPORTED_MODULE_0__.Fragment,null,react__WEBPACK_IMPORTED_MODULE_0__.createElement("span",{className:"message-sr-only"},"at "+e.time+" the bot said"),react__WEBPACK_IMPORTED_MODULE_0__.createElement(a,{key:n,msg:r,ctx:e.middlewareContext}))})),o.permissionRequest&&r&&react__WEBPACK_IMPORTED_MODULE_0__.createElement(ChatMessagePart,{showAvatar:"permissionRequest"===s,user:n},react__WEBPACK_IMPORTED_MODULE_0__.createElement(ChatPermissionMessage,{message:e.message,sibling:e.sibling,ctx:r,time:e.time})))}return react__WEBPACK_IMPORTED_MODULE_0__.createElement(react__WEBPACK_IMPORTED_MODULE_0__.Fragment,null)}()))};function convertToSeconds(e){var t=null==e?void 0:e.slice(-1),r=parseFloat(null==e?void 0:e.slice(0,-1));switch(t){case"d":return 24*r*60*60;case"h":return 60*r*60;case"m":return 60*r;default:return r}}function checkSessionExpiration(e,t,r){return r-t>convertToSeconds(e)}function useExternalScript(e){(0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)((function(){if(e){var t=getSrcId(e);if(!document.getElementById(t)){var r=document.createElement("script");r.id=t,r.src=e,r.crossOrigin="anonymous",document.head.appendChild(r)}}}),[e])}function getSafeCh(e){return e>="0"&&e<="9"||e>="a"&&e<="z"||e>="A"&&e<="Z"?e:"_".concat(e.charCodeAt(0),"_")}function getSrcId(e){for(var t="es-",r=0;r<e.length;r++)t+=getSafeCh(e.charAt(r));return t}function useChatServerVisitorId(){var e=useChatServerDispatch(),t=(0,react_redux__WEBPACK_IMPORTED_MODULE_1__.v9)((function(e){return e.visitorId||e.userId})),r=(0,react_redux__WEBPACK_IMPORTED_MODULE_1__.v9)((function(e){return e.accessToken})),n=(0,react_redux__WEBPACK_IMPORTED_MODULE_1__.v9)((function(e){return e.attributes}));return(0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)((function(){return{dispatch:e,visitorId:t,accessToken:r,userId:t,attributes:n}}),[e,t,r,n])}function useGreeting(e){var t=useChatServerVisitorId(),r=(0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(null),n=(0,react__WEBPACK_IMPORTED_MODULE_0__.useContext)(ChatConfigContext).env.isAdmin;(0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)((function(){if(e&&r.current!==t&&(r.current=t,t.visitorId)){if(t.dispatch(sendVisitorInfo({name:"Visitor",visitorId:t.visitorId,userId:t.userId,accessToken:t.accessToken,attributes:__assign(__assign({},t.attributes),{currentUrl:window.location.href})})),!n){var a=setTimeout((function(){var e=sendGreeting();t.dispatch(e)}),1e3);return function(){clearTimeout(a)}}log("Admin widget. Not sending greeting.")}}),[t,e,n])}function useSuggestionsFetch(e,t){var r=useWidgetEnv(),n=null==r?void 0:r.autocompleteSuggestionsUrl;return useSuggestionsFetch_1({url:n,query:e,context:t})}function norm(e,t){return(e+t)%t}function useSuggestions(e,t){var r=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(),n=r[0],a=r[1],o=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(-1),s=o[0],i=o[1],u=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(e),c=u[0],l=u[1],d=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(t),f=d[0],_=d[1];(0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)((function(){l(e)}),[e]),(0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)((function(){_(t)}),[t]);var p=(0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)((function(){return n?findItemByIndex_1(n,s):void 0}),[n,s]),g=(0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)((function(e){if(n){var t=getItemsLength_1(n);i((function(r){return norm(r+e+(r<0&&e<=0?1:0),t)}))}else i(-1)}),[n]),h=(0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)((function(e){switch(e){case"prev":g(-1);break;case"next":g(1);break;case"cancel":i(-1),l(void 0),_(void 0)}}),[g]),m=useSuggestionsFetch(c||"",f),v="success"===m.state?m.data:void 0,y=(0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)((function(){return v?parseSuggestionsResponse_1(v,-1).map((function(e){return{heading:e.heading,items:e.items.slice().reverse()}})):void 0}),[v]);return(0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)((function(){var e=p;a(y),e&&y||i(-1)}),[y,p]),(0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)((function(){return{suggestions:n,index:s,execute:h,item:p}}),[n,s,h,p])}var AdminBar=function(e){var t=(0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(null),r=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(!1),n=r[0],a=r[1],o=useChatServerDispatch();function s(e){var r;e.preventDefault(),n?(o(sendBargeOut()),a(!1)):(o(sendBargeIn(null===(r=t.current)||void 0===r?void 0:r.value)),a(!0))}return react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"xappw-admin-input-container visible"},n?react__WEBPACK_IMPORTED_MODULE_0__.createElement("form",{className:"xappw-admin-input-form",onSubmit:s},react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"xappw-admin-input-form__buttons"},react__WEBPACK_IMPORTED_MODULE_0__.createElement(ActionButton,{addClass:"xappw-admin-input-form__btn",type:"submit",label:"Leave"}))):react__WEBPACK_IMPORTED_MODULE_0__.createElement("form",{className:"xappw-admin-input-form",onSubmit:s},react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"xappw-admin-input-form__buttons"},react__WEBPACK_IMPORTED_MODULE_0__.createElement(ActionButton,{addClass:"xappw-admin-input-form__btn",type:"submit",label:"Join"})),react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"xappw-admin-input"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("input",{ref:t,id:"adminBarInput",placeholder:"Type your name here...",className:"xappw-admin-input__input"}))))},ChatBranding=function(e){var t=e.text;return react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"chat-footer__branding"},null!=t?t:"Powered by XAPP AI")},DrawerBars=function(e){var t=e.bars;return t||(t=2),react__WEBPACK_IMPORTED_MODULE_0__.createElement("button",{className:"drawer-bars",tabIndex:e.tabIndex?Number(e.tabIndex):0,"aria-label":"open menu","aria-hidden":!0,onClick:e.onToggle},function(){for(var e=[],r=0;r<t;r++)e.push(react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"drawer-bar bar".concat(r)}));return e}())},CloseIcon=function(){return react__WEBPACK_IMPORTED_MODULE_0__.createElement("svg",{style:{color:"grey",paddingRight:"5px"},xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",viewBox:"0 0 16 16"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("path",{d:"M1.293 1.293a1 1 0 0 1 1.414 0L8 6.586l5.293-5.293a1 1 0 1 1 1.414 1.414L9.414 8l5.293 5.293a1 1 0 0 1-1.414 1.414L8 9.414l-5.293 5.293a1 1 0 0 1-1.414-1.414L6.586 8 1.293 2.707a1 1 0 0 1 0-1.414z"}))},LeftDownArrowIcon=function(){return react__WEBPACK_IMPORTED_MODULE_0__.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",viewBox:"0 0 16 16"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("path",{fillRule:"evenodd",d:"M2 13.5a.5.5 0 0 0 .5.5h6a.5.5 0 0 0 0-1H3.707L13.854 2.854a.5.5 0 0 0-.708-.708L3 12.293V7.5a.5.5 0 0 0-1 0v6z"}))},SendIcon=function(){return react__WEBPACK_IMPORTED_MODULE_0__.createElement("svg",{viewBox:"80.208 98.129 313.069 282.823",xmlns:"http://www.w3.org/2000/svg"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("g",{transform:"matrix(0.024498, 0, 0, -0.038359, 79.83091, 381.182404)",fill:"currentColor",stroke:"none"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("path",{d:"M12670 7345 c-63 -18 -272 -77 -465 -130 -192 -53 -478 -132 -635 -175 -508 -141 -1091 -302 -2345 -649 -676 -187 -2038 -563 -3025 -836 -987 -273 -2072 -573 -2410 -666 -338 -94 -802 -222 -1030 -285 -1857 -514 -2579 -714 -2684 -742 -38 -10 -65 -21 -60 -24 5 -3 67 -22 139 -41 72 -20 326 -90 565 -157 239 -67 611 -170 825 -230 215 -60 586 -163 825 -230 239 -67 491 -137 560 -156 l126 -34 974 439 c1397 629 4128 1858 6050 2724 910 410 1826 822 2035 917 209 94 387 173 395 176 35 10 -66 -39 -8200 -3928 -586 -280 -1068 -512 -1071 -516 -3 -4 33 -117 82 -252 76 -213 355 -996 765 -2147 65 -183 120 -330 122 -329 1 2 114 558 250 1236 l248 1233 3455 2064 c1900 1135 3670 2193 3933 2351 264 158 491 293 505 301 62 33 -5 -12 -271 -182 -1671 -1070 -7188 -4613 -7188 -4617 0 -7 3661 -2455 3669 -2454 4 1 3713 6853 3977 7347 8 15 11 27 7 26 -5 0 -60 -15 -123 -34z"}),react__WEBPACK_IMPORTED_MODULE_0__.createElement("path",{d:"M5030 2232 c-15 -61 -479 -1861 -531 -2058 -21 -83 -39 -154 -39 -158 0 -3 369 330 820 740 452 411 817 750 813 754 -11 10 -1025 754 -1039 763 -8 4 -16 -10 -24 -41z"})))},SendButton=function(e){return react__WEBPACK_IMPORTED_MODULE_0__.createElement(react__WEBPACK_IMPORTED_MODULE_0__.Fragment,null,e.sendButtonIcon?react__WEBPACK_IMPORTED_MODULE_0__.createElement("button",{className:"xappw-custom-send-button",tabIndex:e.tabIndex?Number(e.tabIndex):0,onClick:e.onClick},react__WEBPACK_IMPORTED_MODULE_0__.createElement("img",{src:e.sendButtonIcon,alt:"Send button",draggable:!1})):react__WEBPACK_IMPORTED_MODULE_0__.createElement(IconButton_1,{className:"xappw-send-button ".concat(e.className||""),tabIndex:e.tabIndex,onClick:e.onClick,icon:SendIcon}))},Input=function(e){var t,r,n=e.value,a=e.placeholder,o=e.sendButtonIcon,s=e.suggestion,i=e.footerConfig,u=e.inputConfig,c=e.onChange,l=e.onSubmit,d=e.onSuggestionCommand,f=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(!1),_=f[0],p=f[1];var g=(0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)((function(e){e&&e.preventDefault(),l(n)}),[n,l]),h=(0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)((function(){c({text:"",formats:[]})}),[c]),m=(0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)((function(e){!s||"End"!==e.key&&"ArrowRight"!==e.key&&"Enter"!==e.key?d&&("ArrowUp"===e.key?(d("prev"),e.preventDefault()):"ArrowDown"===e.key?(d("next"),e.preventDefault()):"Escape"===e.key&&(d("cancel"),e.preventDefault())):c(s)}),[s,c,d]);return react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"xappw-input-container ".concat(e.addClass," ").concat(_?"drag-drop-zone":""),"aria-label":(n.text,"To clear ipnut field click on clear icon on the left of send button"),"aria-hidden":!0,onDrop:function(t){p(!1),e.onFileUpload(t)},onDragOver:function(e){p(!0),e.preventDefault(),e.dataTransfer.dropEffect="copy"},onDragLeave:function(){p(!1)}},react__WEBPACK_IMPORTED_MODULE_0__.createElement("form",{className:"xappw-input-form",onSubmit:g},react__WEBPACK_IMPORTED_MODULE_0__.createElement(RichInput_1,{key:"input",id:"chatWidgetInput",className:"xappw-input",placeholder:null!=a?a:"Type your question here...",tabIndex:null==u?void 0:u.tabIndex,onInput:c,onChange:c,onKeyDown:m,value:n,spellCheck:!0}),react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"xappw-input-form__buttons"},n.text&&react__WEBPACK_IMPORTED_MODULE_0__.createElement(IconButton_1,{icon:CloseIcon,tabIndex:null===(t=null==i?void 0:i.clearButton)||void 0===t?void 0:t.tabIndex,className:"xappw-input-form__btn",onClick:h}),react__WEBPACK_IMPORTED_MODULE_0__.createElement(SendButton,{className:"xappw-input-form__btn",sendButtonIcon:o,tabIndex:null===(r=null==i?void 0:i.sendButton)||void 0===r?void 0:r.tabIndex,onClick:g}))))};function createActions(e){return function(t){var r=t.data,n="FAQ"!==r.type,a=(0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)((function(t){e(r),t.stopPropagation()}),[r]);return n?react__WEBPACK_IMPORTED_MODULE_0__.createElement(IconButton_1,{className:"xappw-suggestions__use",onClick:a,icon:LeftDownArrowIcon}):react__WEBPACK_IMPORTED_MODULE_0__.createElement(react__WEBPACK_IMPORTED_MODULE_0__.Fragment,null)}}var Suggestions=function(e){var t=e.data,r=e.onItemUse,n=e.searchTerms,a=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(),o=a[0],s=a[1],i=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(),u=i[0],c=i[1];(0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)((function(){t&&s(t),n||(s(void 0),c(void 0))}),[t,n]);var l=(null==t?void 0:t.length)>0?e.index:NaN,d=(0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)((function(){return findItemByIndex_1(t,l)}),[t,l]),f=(0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)((function(e,t){if("inputText"===t.type)return r(e),c(void 0),!1}),[r]);(0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)((function(){c(d)}),[d]);var _=(0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)((function(){return createActions(r)}),[r]);return react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"xappw-suggestions ".concat(e.className||"")},(null==u?void 0:u.content)&&react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"xappw-suggestions__answer"},u.content),o&&o.length>0&&react__WEBPACK_IMPORTED_MODULE_0__.createElement(SuggestionsList_1,{suggestions:o,index:l,className:"xappw-suggestions__groups",itemActions:_,onItemClick:e.onItemClick,onItemHover:c,onSpanClick:f}))},ChatFooter=function(e){var t,r,n,a=e.placeholder,o=e.sendButtonIcon,s=e.footerConfig,i=e.menuConfig,u=e.inputConfig,c=e.onSubmit,l=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(!1),d=l[0],f=l[1],_=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(),p=_[0],g=_[1],h=useSuggestions(p,(0,react_redux__WEBPACK_IMPORTED_MODULE_1__.v9)((function(e){return e.activeContexts}))),m="FOOTER"===((null==i?void 0:i.menuButtonLocation)||"FOOTER"),v=null==i?void 0:i.items,y=null==i?void 0:i.itemsTabIndex,x=null===(t=null==i?void 0:i.button)||void 0===t?void 0:t.tabIndex,O=(0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)((function(){return v||[]}),[v]),E=null===(r=null==s?void 0:s.branding)||void 0===r?void 0:r.text,M=null===(n=null==s?void 0:s.branding)||void 0===n?void 0:n.enabled,b=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)({text:"",formats:[]}),D=b[0],P=b[1];var T=(0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)((function(e){g(""),P({text:"",formats:[]}),c(e.text)}),[c]),I=(0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)((function(e){T(e)}),[T]),C=(0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)((function(e){console.log(e),P(e),g(e.text)}),[]);return react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"chat-footer background-footer","aria-label":O.length?"to open menu click a button above the rounded rectangle at the bottom of widget":"","aria-hidden":!0},m&&O.length?react__WEBPACK_IMPORTED_MODULE_0__.createElement(react__WEBPACK_IMPORTED_MODULE_0__.Fragment,null,d?react__WEBPACK_IMPORTED_MODULE_0__.createElement(ChatMenu,{opened:d,tabIndex:y,onItemClick:function(t){f(!1),e.onSubmit(t)},items:O}):react__WEBPACK_IMPORTED_MODULE_0__.createElement(react__WEBPACK_IMPORTED_MODULE_0__.Fragment,null),react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"chat-footer__menu-icon"},react__WEBPACK_IMPORTED_MODULE_0__.createElement(DrawerBars,{tabIndex:x,onToggle:function(){var e=!d;f(e),set$1("drawer",e)}}))):react__WEBPACK_IMPORTED_MODULE_0__.createElement(react__WEBPACK_IMPORTED_MODULE_0__.Fragment,null),react__WEBPACK_IMPORTED_MODULE_0__.createElement(Suggestions,{className:"xappw-chat-footer__suggestions",data:h.suggestions,index:h.index,searchTerms:p,onItemClick:I,onItemUse:C}),e.isAdmin&&e.isChatting&&e.visible&&react__WEBPACK_IMPORTED_MODULE_0__.createElement(AdminBar,null),react__WEBPACK_IMPORTED_MODULE_0__.createElement(Input,{addClass:"chat-footer__input "+(e.isChatting&&e.visible?"visible":""),suggestion:h.item,value:D,placeholder:a,sendButtonIcon:o,footerConfig:s,inputConfig:u,onSubmit:T,onChange:function(t){P(t),e.onChange(t.text),g(t.text)},onSuggestionCommand:h.execute,onFileUpload:e.onFileUpload}),M&&react__WEBPACK_IMPORTED_MODULE_0__.createElement(ChatBranding,{text:E}))},noop=function(){},MiddlewareContextFactory=function(){function e(e){this.cache={},this.template=e}return e.prototype.resolve=function(e){var t,r,n;if(e){var a=this.cache,o=e.nick,s=a[o];return s||(s={user:e,send:null!==(t=this.template.send)&&void 0!==t?t:noop,write:null!==(r=this.template.write)&&void 0!==r?r:noop,openUrl:null!==(n=this.template.openUrl)&&void 0!==n?n:noop},a[o]=s),s}},e}(),CardContainer=function(e){return react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"card-container ".concat(e.addClass)},(t="string"==typeof e.icon,react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"card-container__icon"},!t&&e.icon)),react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"card-container__content ".concat(e.contentAddClass)},react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"card-container__title"},e.title),e.children));var t},defaultProps$2={agent:{},hasRating:!1,shouldDisplay:!0,onRate:function(){}},ChatRating=function(e){void 0===e&&(e=defaultProps$2);var t=e.onRate,r=(0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)((function(){t("bad")}),[t]),n=(0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)((function(){t("good")}),[t]),a=(0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)((function(){t(void 0)}),[t]);return e.shouldDisplay?e.hasRating?react__WEBPACK_IMPORTED_MODULE_0__.createElement(CardContainer,{title:"Chat Rating",addClass:"chat-rating-card"},"You have rated the chat service.",react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"buttons-container"},react__WEBPACK_IMPORTED_MODULE_0__.createElement(ActionButton,{addClass:"button button-rate-again",label:"Rate again",onClick:a}))):react__WEBPACK_IMPORTED_MODULE_0__.createElement(CardContainer,{title:"Chat Rating",addClass:"chat-rating-card"},e.agent.displayName," has requested you to rate the chat service.",react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"buttons-container"},react__WEBPACK_IMPORTED_MODULE_0__.createElement(ActionButton,{addClass:"button button-rate-bad",label:"Rate Bad",onClick:r}),react__WEBPACK_IMPORTED_MODULE_0__.createElement(ActionButton,{addClass:"button button-rate-good",label:"Rate Good",onClick:n}))):null},ChatRatingContainer=function(e){var t=useChatServerDispatch(),r=(0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)((function(e){t(sendChatRating(e))}),[t]);return react__WEBPACK_IMPORTED_MODULE_0__.createElement(react__WEBPACK_IMPORTED_MODULE_0__.Fragment,null,react__WEBPACK_IMPORTED_MODULE_0__.createElement("span",{className:"message-sr-only"},"at "+e.time+" system message"),react__WEBPACK_IMPORTED_MODULE_0__.createElement(ChatRating,{agent:e.agent,hasRating:e.hasRating,shouldDisplay:e.shouldDisplay,onRate:r}))},dateFns={},add={exports:{}},addDays={exports:{}},toInteger={exports:{}};!function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){if(null===e||!0===e||!1===e)return NaN;var t=Number(e);if(isNaN(t))return t;return t<0?Math.ceil(t):Math.floor(t)},e.exports=t.default}(toInteger,toInteger.exports);var toDate={exports:{}},requiredArgs={exports:{}};!function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if(t.length<e)throw new TypeError(e+" argument"+(e>1?"s":"")+" required, but only "+t.length+" present")},e.exports=t.default}(requiredArgs,requiredArgs.exports),function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){(0,n.default)(1,arguments);var t=Object.prototype.toString.call(e);return e instanceof Date||"object"==typeof e&&"[object Date]"===t?new Date(e.getTime()):"number"==typeof e||"[object Number]"===t?new Date(e):("string"!=typeof e&&"[object String]"!==t||"undefined"==typeof console||(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://git.io/fjule"),console.warn((new Error).stack)),new Date(NaN))};var r,n=(r=requiredArgs.exports)&&r.__esModule?r:{default:r};e.exports=t.default}(toDate,toDate.exports),function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){(0,a.default)(2,arguments);var o=(0,n.default)(e),s=(0,r.default)(t);if(isNaN(s))return new Date(NaN);if(!s)return o;return o.setDate(o.getDate()+s),o};var r=o(toInteger.exports),n=o(toDate.exports),a=o(requiredArgs.exports);function o(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default}(addDays,addDays.exports);var addMonths={exports:{}};!function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){(0,a.default)(2,arguments);var o=(0,n.default)(e),s=(0,r.default)(t);if(isNaN(s))return new Date(NaN);if(!s)return o;var i=o.getDate(),u=new Date(o.getTime());u.setMonth(o.getMonth()+s+1,0);var c=u.getDate();return i>=c?u:(o.setFullYear(u.getFullYear(),u.getMonth(),i),o)};var r=o(toInteger.exports),n=o(toDate.exports),a=o(requiredArgs.exports);function o(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default}(addMonths,addMonths.exports),function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if((0,o.default)(2,arguments),!t||"object"!=typeof t)return new Date(NaN);var i=t.years?(0,s.default)(t.years):0,u=t.months?(0,s.default)(t.months):0,c=t.weeks?(0,s.default)(t.weeks):0,l=t.days?(0,s.default)(t.days):0,d=t.hours?(0,s.default)(t.hours):0,f=t.minutes?(0,s.default)(t.minutes):0,_=t.seconds?(0,s.default)(t.seconds):0,p=(0,a.default)(e),g=u||i?(0,n.default)(p,u+12*i):p,h=l||c?(0,r.default)(g,l+7*c):g,m=1e3*(_+60*(f+60*d));return new Date(h.getTime()+m)};var r=i(addDays.exports),n=i(addMonths.exports),a=i(toDate.exports),o=i(requiredArgs.exports),s=i(toInteger.exports);function i(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default}(add,add.exports);var addBusinessDays={exports:{}},isWeekend={exports:{}};!function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){(0,n.default)(1,arguments);var t=(0,r.default)(e).getDay();return 0===t||6===t};var r=a(toDate.exports),n=a(requiredArgs.exports);function a(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default}(isWeekend,isWeekend.exports);var isSunday={exports:{}};!function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,n.default)(1,arguments),0===(0,r.default)(e).getDay()};var r=a(toDate.exports),n=a(requiredArgs.exports);function a(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default}(isSunday,isSunday.exports);var isSaturday={exports:{}};!function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,n.default)(1,arguments),6===(0,r.default)(e).getDay()};var r=a(toDate.exports),n=a(requiredArgs.exports);function a(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default}(isSaturday,isSaturday.exports),function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){(0,o.default)(2,arguments);var u=(0,n.default)(e),c=(0,r.default)(u),l=(0,a.default)(t);if(isNaN(l))return new Date(NaN);var d=u.getHours(),f=l<0?-1:1,_=(0,a.default)(l/5);u.setDate(u.getDate()+7*_);var p=Math.abs(l%5);for(;p>0;)u.setDate(u.getDate()+f),(0,r.default)(u)||(p-=1);c&&(0,r.default)(u)&&0!==l&&((0,i.default)(u)&&u.setDate(u.getDate()+(f<0?2:-1)),(0,s.default)(u)&&u.setDate(u.getDate()+(f<0?1:-2)));return u.setHours(d),u};var r=u(isWeekend.exports),n=u(toDate.exports),a=u(toInteger.exports),o=u(requiredArgs.exports),s=u(isSunday.exports),i=u(isSaturday.exports);function u(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default}(addBusinessDays,addBusinessDays.exports);var addHours={exports:{}},addMilliseconds={exports:{}};!function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){(0,a.default)(2,arguments);var o=(0,n.default)(e).getTime(),s=(0,r.default)(t);return new Date(o+s)};var r=o(toInteger.exports),n=o(toDate.exports),a=o(requiredArgs.exports);function o(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default}(addMilliseconds,addMilliseconds.exports),function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){(0,a.default)(2,arguments);var o=(0,r.default)(t);return(0,n.default)(e,o*s)};var r=o(toInteger.exports),n=o(addMilliseconds.exports),a=o(requiredArgs.exports);function o(e){return e&&e.__esModule?e:{default:e}}var s=36e5;e.exports=t.default}(addHours,addHours.exports);var addISOWeekYears={exports:{}},getISOWeekYear={exports:{}},startOfISOWeek={exports:{}},startOfWeek={exports:{}};!function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){(0,a.default)(1,arguments);var o=t||{},s=o.locale,i=s&&s.options&&s.options.weekStartsOn,u=null==i?0:(0,n.default)(i),c=null==o.weekStartsOn?u:(0,n.default)(o.weekStartsOn);if(!(c>=0&&c<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var l=(0,r.default)(e),d=l.getDay(),f=(d<c?7:0)+d-c;return l.setDate(l.getDate()-f),l.setHours(0,0,0,0),l};var r=o(toDate.exports),n=o(toInteger.exports),a=o(requiredArgs.exports);function o(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default}(startOfWeek,startOfWeek.exports),function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,n.default)(1,arguments),(0,r.default)(e,{weekStartsOn:1})};var r=a(startOfWeek.exports),n=a(requiredArgs.exports);function a(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default}(startOfISOWeek,startOfISOWeek.exports),function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){(0,a.default)(1,arguments);var t=(0,r.default)(e),o=t.getFullYear(),s=new Date(0);s.setFullYear(o+1,0,4),s.setHours(0,0,0,0);var i=(0,n.default)(s),u=new Date(0);u.setFullYear(o,0,4),u.setHours(0,0,0,0);var c=(0,n.default)(u);return t.getTime()>=i.getTime()?o+1:t.getTime()>=c.getTime()?o:o-1};var r=o(toDate.exports),n=o(startOfISOWeek.exports),a=o(requiredArgs.exports);function o(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default}(getISOWeekYear,getISOWeekYear.exports);var setISOWeekYear={exports:{}},startOfISOWeekYear={exports:{}};!function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){(0,a.default)(1,arguments);var t=(0,r.default)(e),o=new Date(0);return o.setFullYear(t,0,4),o.setHours(0,0,0,0),(0,n.default)(o)};var r=o(getISOWeekYear.exports),n=o(startOfISOWeek.exports),a=o(requiredArgs.exports);function o(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default}(startOfISOWeekYear,startOfISOWeekYear.exports);var differenceInCalendarDays={exports:{}},getTimezoneOffsetInMilliseconds={exports:{}};!function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return t.setUTCFullYear(e.getFullYear()),e.getTime()-t.getTime()},e.exports=t.default}(getTimezoneOffsetInMilliseconds,getTimezoneOffsetInMilliseconds.exports);var startOfDay={exports:{}};!function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){(0,n.default)(1,arguments);var t=(0,r.default)(e);return t.setHours(0,0,0,0),t};var r=a(toDate.exports),n=a(requiredArgs.exports);function a(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default}(startOfDay,startOfDay.exports),function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){(0,a.default)(2,arguments);var o=(0,n.default)(e),i=(0,n.default)(t),u=o.getTime()-(0,r.default)(o),c=i.getTime()-(0,r.default)(i);return Math.round((u-c)/s)};var r=o(getTimezoneOffsetInMilliseconds.exports),n=o(startOfDay.exports),a=o(requiredArgs.exports);function o(e){return e&&e.__esModule?e:{default:e}}var s=864e5;e.exports=t.default}(differenceInCalendarDays,differenceInCalendarDays.exports),function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){(0,s.default)(2,arguments);var i=(0,n.default)(e),u=(0,r.default)(t),c=(0,o.default)(i,(0,a.default)(i)),l=new Date(0);return l.setFullYear(u,0,4),l.setHours(0,0,0,0),(i=(0,a.default)(l)).setDate(i.getDate()+c),i};var r=i(toInteger.exports),n=i(toDate.exports),a=i(startOfISOWeekYear.exports),o=i(differenceInCalendarDays.exports),s=i(requiredArgs.exports);function i(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default}(setISOWeekYear,setISOWeekYear.exports),function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){(0,o.default)(2,arguments);var s=(0,r.default)(t);return(0,a.default)(e,(0,n.default)(e)+s)};var r=s(toInteger.exports),n=s(getISOWeekYear.exports),a=s(setISOWeekYear.exports),o=s(requiredArgs.exports);function s(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default}(addISOWeekYears,addISOWeekYears.exports);var addMinutes={exports:{}};!function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){(0,a.default)(2,arguments);var o=(0,r.default)(t);return(0,n.default)(e,o*s)};var r=o(toInteger.exports),n=o(addMilliseconds.exports),a=o(requiredArgs.exports);function o(e){return e&&e.__esModule?e:{default:e}}var s=6e4;e.exports=t.default}(addMinutes,addMinutes.exports);var addQuarters={exports:{}};!function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){(0,a.default)(2,arguments);var o=3*(0,r.default)(t);return(0,n.default)(e,o)};var r=o(toInteger.exports),n=o(addMonths.exports),a=o(requiredArgs.exports);function o(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default}(addQuarters,addQuarters.exports);var addSeconds={exports:{}};!function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){(0,a.default)(2,arguments);var o=(0,r.default)(t);return(0,n.default)(e,1e3*o)};var r=o(toInteger.exports),n=o(addMilliseconds.exports),a=o(requiredArgs.exports);function o(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default}(addSeconds,addSeconds.exports);var addWeeks={exports:{}};!function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){(0,a.default)(2,arguments);var o=7*(0,r.default)(t);return(0,n.default)(e,o)};var r=o(toInteger.exports),n=o(addDays.exports),a=o(requiredArgs.exports);function o(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default}(addWeeks,addWeeks.exports);var addYears={exports:{}};!function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){(0,a.default)(2,arguments);var o=(0,r.default)(t);return(0,n.default)(e,12*o)};var r=o(toInteger.exports),n=o(addMonths.exports),a=o(requiredArgs.exports);function o(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default}(addYears,addYears.exports);var areIntervalsOverlapping={exports:{}};!function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{inclusive:!1};(0,n.default)(2,arguments);var o=e||{},s=t||{},i=(0,r.default)(o.start).getTime(),u=(0,r.default)(o.end).getTime(),c=(0,r.default)(s.start).getTime(),l=(0,r.default)(s.end).getTime();if(!(i<=u&&c<=l))throw new RangeError("Invalid interval");if(a.inclusive)return i<=l&&c<=u;return i<l&&c<u};var r=a(toDate.exports),n=a(requiredArgs.exports);function a(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default}(areIntervalsOverlapping,areIntervalsOverlapping.exports);var clamp={exports:{}},max={exports:{}};!function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t,a;if((0,n.default)(1,arguments),e&&"function"==typeof e.forEach)t=e;else{if("object"!=typeof e||null===e)return new Date(NaN);t=Array.prototype.slice.call(e)}return t.forEach((function(e){var t=(0,r.default)(e);(void 0===a||a<t||isNaN(Number(t)))&&(a=t)})),a||new Date(NaN)};var r=a(toDate.exports),n=a(requiredArgs.exports);function a(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default}(max,max.exports);var min={exports:{}};!function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t,a;if((0,n.default)(1,arguments),e&&"function"==typeof e.forEach)t=e;else{if("object"!=typeof e||null===e)return new Date(NaN);t=Array.prototype.slice.call(e)}return t.forEach((function(e){var t=(0,r.default)(e);(void 0===a||a>t||isNaN(t.getDate()))&&(a=t)})),a||new Date(NaN)};var r=a(toDate.exports),n=a(requiredArgs.exports);function a(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default}(min,min.exports),function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var o=t.start,s=t.end;return(0,a.default)(2,arguments),(0,n.default)([(0,r.default)([e,o]),s])};var r=o(max.exports),n=o(min.exports),a=o(requiredArgs.exports);function o(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default}(clamp,clamp.exports);var closestIndexTo={exports:{}};!function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){(0,n.default)(2,arguments);var a=(0,r.default)(e);if(isNaN(Number(a)))return NaN;var o,s,i,u=a.getTime();o=null==t?[]:"function"==typeof t.forEach?t:Array.prototype.slice.call(t);return o.forEach((function(e,t){var n=(0,r.default)(e);if(isNaN(Number(n)))return s=NaN,void(i=NaN);var a=Math.abs(u-n.getTime());(null==s||a<Number(i))&&(s=t,i=a)})),s};var r=a(toDate.exports),n=a(requiredArgs.exports);function a(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default}(closestIndexTo,closestIndexTo.exports);var closestTo={exports:{}};!function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){(0,n.default)(2,arguments);var a=(0,r.default)(e);if(isNaN(Number(a)))return new Date(NaN);var o,s,i,u=a.getTime();o=null==t?[]:"function"==typeof t.forEach?t:Array.prototype.slice.call(t);return o.forEach((function(e){var t=(0,r.default)(e);if(isNaN(Number(t)))return s=new Date(NaN),void(i=NaN);var n=Math.abs(u-t.getTime());(null==s||n<Number(i))&&(s=t,i=n)})),s};var r=a(toDate.exports),n=a(requiredArgs.exports);function a(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default}(closestTo,closestTo.exports);var compareAsc={exports:{}};!function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){(0,n.default)(2,arguments);var a=(0,r.default)(e),o=(0,r.default)(t),s=a.getTime()-o.getTime();return s<0?-1:s>0?1:s};var r=a(toDate.exports),n=a(requiredArgs.exports);function a(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default}(compareAsc,compareAsc.exports);var compareDesc={exports:{}};!function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){(0,n.default)(2,arguments);var a=(0,r.default)(e),o=(0,r.default)(t),s=a.getTime()-o.getTime();return s>0?-1:s<0?1:s};var r=a(toDate.exports),n=a(requiredArgs.exports);function a(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default}(compareDesc,compareDesc.exports);var daysToWeeks={exports:{}},constants={};Object.defineProperty(constants,"__esModule",{value:!0}),constants.secondsInMinute=constants.secondsInHour=constants.quartersInYear=constants.monthsInYear=constants.monthsInQuarter=constants.minutesInHour=constants.minTime=constants.millisecondsInSecond=constants.millisecondsInHour=constants.millisecondsInMinute=constants.maxTime=constants.daysInWeek=void 0;var daysInWeek=7;constants.daysInWeek=daysInWeek;var maxTime=24*Math.pow(10,8)*60*60*1e3;constants.maxTime=maxTime;var millisecondsInMinute=6e4;constants.millisecondsInMinute=millisecondsInMinute;var millisecondsInHour=36e5;constants.millisecondsInHour=millisecondsInHour;var millisecondsInSecond=1e3;constants.millisecondsInSecond=millisecondsInSecond;var minTime=-maxTime;constants.minTime=minTime;var minutesInHour=60;constants.minutesInHour=minutesInHour;var monthsInQuarter=3;constants.monthsInQuarter=monthsInQuarter;var monthsInYear=12;constants.monthsInYear=monthsInYear;var quartersInYear=4;constants.quartersInYear=quartersInYear;var secondsInHour=3600;constants.secondsInHour=secondsInHour;var secondsInMinute=60;constants.secondsInMinute=secondsInMinute,function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){(0,n.default)(1,arguments);var t=e/a.daysInWeek;return Math.floor(t)};var r,n=(r=requiredArgs.exports)&&r.__esModule?r:{default:r},a=constants;e.exports=t.default}(daysToWeeks,daysToWeeks.exports);var differenceInBusinessDays={exports:{}},isSameDay={exports:{}};!function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){(0,n.default)(2,arguments);var a=(0,r.default)(e),o=(0,r.default)(t);return a.getTime()===o.getTime()};var r=a(startOfDay.exports),n=a(requiredArgs.exports);function a(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default}(isSameDay,isSameDay.exports);var isValid={exports:{}},isDate={exports:{}};!function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,n.default)(1,arguments),e instanceof Date||"object"==typeof e&&"[object Date]"===Object.prototype.toString.call(e)};var r,n=(r=requiredArgs.exports)&&r.__esModule?r:{default:r};e.exports=t.default}(isDate,isDate.exports),function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){if((0,a.default)(1,arguments),!(0,r.default)(e)&&"number"!=typeof e)return!1;var t=(0,n.default)(e);return!isNaN(Number(t))};var r=o(isDate.exports),n=o(toDate.exports),a=o(requiredArgs.exports);function o(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default}(isValid,isValid.exports),function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){(0,u.default)(2,arguments);var l=(0,i.default)(e),d=(0,i.default)(t);if(!(0,o.default)(l)||!(0,o.default)(d))return NaN;var f=(0,n.default)(l,d),_=f<0?-1:1,p=(0,c.default)(f/7),g=5*p;d=(0,r.default)(d,7*p);for(;!(0,a.default)(l,d);)g+=(0,s.default)(d)?0:_,d=(0,r.default)(d,_);return 0===g?0:g};var r=l(addDays.exports),n=l(differenceInCalendarDays.exports),a=l(isSameDay.exports),o=l(isValid.exports),s=l(isWeekend.exports),i=l(toDate.exports),u=l(requiredArgs.exports),c=l(toInteger.exports);function l(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default}(differenceInBusinessDays,differenceInBusinessDays.exports);var differenceInCalendarISOWeekYears={exports:{}};!function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){return(0,n.default)(2,arguments),(0,r.default)(e)-(0,r.default)(t)};var r=a(getISOWeekYear.exports),n=a(requiredArgs.exports);function a(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default}(differenceInCalendarISOWeekYears,differenceInCalendarISOWeekYears.exports);var differenceInCalendarISOWeeks={exports:{}};!function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){(0,a.default)(2,arguments);var o=(0,n.default)(e),i=(0,n.default)(t),u=o.getTime()-(0,r.default)(o),c=i.getTime()-(0,r.default)(i);return Math.round((u-c)/s)};var r=o(getTimezoneOffsetInMilliseconds.exports),n=o(startOfISOWeek.exports),a=o(requiredArgs.exports);function o(e){return e&&e.__esModule?e:{default:e}}var s=6048e5;e.exports=t.default}(differenceInCalendarISOWeeks,differenceInCalendarISOWeeks.exports);var differenceInCalendarMonths={exports:{}};!function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){(0,n.default)(2,arguments);var a=(0,r.default)(e),o=(0,r.default)(t),s=a.getFullYear()-o.getFullYear(),i=a.getMonth()-o.getMonth();return 12*s+i};var r=a(toDate.exports),n=a(requiredArgs.exports);function a(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default}(differenceInCalendarMonths,differenceInCalendarMonths.exports);var differenceInCalendarQuarters={exports:{}},getQuarter={exports:{}};!function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){(0,n.default)(1,arguments);var t=(0,r.default)(e);return Math.floor(t.getMonth()/3)+1};var r=a(toDate.exports),n=a(requiredArgs.exports);function a(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default}(getQuarter,getQuarter.exports),function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){(0,a.default)(2,arguments);var o=(0,n.default)(e),s=(0,n.default)(t),i=o.getFullYear()-s.getFullYear(),u=(0,r.default)(o)-(0,r.default)(s);return 4*i+u};var r=o(getQuarter.exports),n=o(toDate.exports),a=o(requiredArgs.exports);function o(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default}(differenceInCalendarQuarters,differenceInCalendarQuarters.exports);var differenceInCalendarWeeks={exports:{}};!function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,o){(0,a.default)(2,arguments);var i=(0,r.default)(e,o),u=(0,r.default)(t,o),c=i.getTime()-(0,n.default)(i),l=u.getTime()-(0,n.default)(u);return Math.round((c-l)/s)};var r=o(startOfWeek.exports),n=o(getTimezoneOffsetInMilliseconds.exports),a=o(requiredArgs.exports);function o(e){return e&&e.__esModule?e:{default:e}}var s=6048e5;e.exports=t.default}(differenceInCalendarWeeks,differenceInCalendarWeeks.exports);var differenceInCalendarYears={exports:{}};!function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){(0,n.default)(2,arguments);var a=(0,r.default)(e),o=(0,r.default)(t);return a.getFullYear()-o.getFullYear()};var r=a(toDate.exports),n=a(requiredArgs.exports);function a(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default}(differenceInCalendarYears,differenceInCalendarYears.exports);var differenceInDays={exports:{}};!function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){(0,a.default)(2,arguments);var o=(0,r.default)(e),i=(0,r.default)(t),u=s(o,i),c=Math.abs((0,n.default)(o,i));o.setDate(o.getDate()-u*c);var l=Number(s(o,i)===-u),d=u*(c-l);return 0===d?0:d};var r=o(toDate.exports),n=o(differenceInCalendarDays.exports),a=o(requiredArgs.exports);function o(e){return e&&e.__esModule?e:{default:e}}function s(e,t){var r=e.getFullYear()-t.getFullYear()||e.getMonth()-t.getMonth()||e.getDate()-t.getDate()||e.getHours()-t.getHours()||e.getMinutes()-t.getMinutes()||e.getSeconds()-t.getSeconds()||e.getMilliseconds()-t.getMilliseconds();return r<0?-1:r>0?1:r}e.exports=t.default}(differenceInDays,differenceInDays.exports);var differenceInHours={exports:{}},differenceInMilliseconds={exports:{}};!function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){return(0,n.default)(2,arguments),(0,r.default)(e).getTime()-(0,r.default)(t).getTime()};var r=a(toDate.exports),n=a(requiredArgs.exports);function a(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default}(differenceInMilliseconds,differenceInMilliseconds.exports);var roundingMethods={};Object.defineProperty(roundingMethods,"__esModule",{value:!0}),roundingMethods.getRoundingMethod=getRoundingMethod;var roundingMap={ceil:Math.ceil,round:Math.round,floor:Math.floor,trunc:function(e){return e<0?Math.ceil(e):Math.floor(e)}},defaultRoundingMethod="trunc";function getRoundingMethod(e){return e?roundingMap[e]:roundingMap[defaultRoundingMethod]}!function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,s){(0,a.default)(2,arguments);var i=(0,n.default)(e,t)/r.millisecondsInHour;return(0,o.getRoundingMethod)(null==s?void 0:s.roundingMethod)(i)};var r=constants,n=s(differenceInMilliseconds.exports),a=s(requiredArgs.exports),o=roundingMethods;function s(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default}(differenceInHours,differenceInHours.exports);var differenceInISOWeekYears={exports:{}},subISOWeekYears={exports:{}};!function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){(0,a.default)(2,arguments);var o=(0,r.default)(t);return(0,n.default)(e,-o)};var r=o(toInteger.exports),n=o(addISOWeekYears.exports),a=o(requiredArgs.exports);function o(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default}(subISOWeekYears,subISOWeekYears.exports),function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){(0,s.default)(2,arguments);var i=(0,r.default)(e),u=(0,r.default)(t),c=(0,a.default)(i,u),l=Math.abs((0,n.default)(i,u));i=(0,o.default)(i,c*l);var d=Number((0,a.default)(i,u)===-c),f=c*(l-d);return 0===f?0:f};var r=i(toDate.exports),n=i(differenceInCalendarISOWeekYears.exports),a=i(compareAsc.exports),o=i(subISOWeekYears.exports),s=i(requiredArgs.exports);function i(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default}(differenceInISOWeekYears,differenceInISOWeekYears.exports);var differenceInMinutes={exports:{}};!function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,s){(0,a.default)(2,arguments);var i=(0,n.default)(e,t)/r.millisecondsInMinute;return(0,o.getRoundingMethod)(null==s?void 0:s.roundingMethod)(i)};var r=constants,n=s(differenceInMilliseconds.exports),a=s(requiredArgs.exports),o=roundingMethods;function s(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default}(differenceInMinutes,differenceInMinutes.exports);var differenceInMonths={exports:{}},isLastDayOfMonth={exports:{}},endOfDay={exports:{}};!function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){(0,n.default)(1,arguments);var t=(0,r.default)(e);return t.setHours(23,59,59,999),t};var r=a(toDate.exports),n=a(requiredArgs.exports);function a(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default}(endOfDay,endOfDay.exports);var endOfMonth={exports:{}};!function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){(0,n.default)(1,arguments);var t=(0,r.default)(e),a=t.getMonth();return t.setFullYear(t.getFullYear(),a+1,0),t.setHours(23,59,59,999),t};var r=a(toDate.exports),n=a(requiredArgs.exports);function a(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default}(endOfMonth,endOfMonth.exports),function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){(0,o.default)(1,arguments);var t=(0,r.default)(e);return(0,n.default)(t).getTime()===(0,a.default)(t).getTime()};var r=s(toDate.exports),n=s(endOfDay.exports),a=s(endOfMonth.exports),o=s(requiredArgs.exports);function s(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default}(isLastDayOfMonth,isLastDayOfMonth.exports),function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){(0,o.default)(2,arguments);var i,u=(0,r.default)(e),c=(0,r.default)(t),l=(0,a.default)(u,c),d=Math.abs((0,n.default)(u,c));if(d<1)i=0;else{1===u.getMonth()&&u.getDate()>27&&u.setDate(30),u.setMonth(u.getMonth()-l*d);var f=(0,a.default)(u,c)===-l;(0,s.default)((0,r.default)(e))&&1===d&&1===(0,a.default)(e,c)&&(f=!1),i=l*(d-Number(f))}return 0===i?0:i};var r=i(toDate.exports),n=i(differenceInCalendarMonths.exports),a=i(compareAsc.exports),o=i(requiredArgs.exports),s=i(isLastDayOfMonth.exports);function i(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default}(differenceInMonths,differenceInMonths.exports);var differenceInQuarters={exports:{}};!function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,o){(0,n.default)(2,arguments);var s=(0,r.default)(e,t)/3;return(0,a.getRoundingMethod)(null==o?void 0:o.roundingMethod)(s)};var r=o(differenceInMonths.exports),n=o(requiredArgs.exports),a=roundingMethods;function o(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default}(differenceInQuarters,differenceInQuarters.exports);var differenceInSeconds={exports:{}};!function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,o){(0,n.default)(2,arguments);var s=(0,r.default)(e,t)/1e3;return(0,a.getRoundingMethod)(null==o?void 0:o.roundingMethod)(s)};var r=o(differenceInMilliseconds.exports),n=o(requiredArgs.exports),a=roundingMethods;function o(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default}(differenceInSeconds,differenceInSeconds.exports);var differenceInWeeks={exports:{}};!function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,o){(0,n.default)(2,arguments);var s=(0,r.default)(e,t)/7;return(0,a.getRoundingMethod)(null==o?void 0:o.roundingMethod)(s)};var r=o(differenceInDays.exports),n=o(requiredArgs.exports),a=roundingMethods;function o(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default}(differenceInWeeks,differenceInWeeks.exports);var differenceInYears={exports:{}};!function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){(0,o.default)(2,arguments);var s=(0,r.default)(e),i=(0,r.default)(t),u=(0,a.default)(s,i),c=Math.abs((0,n.default)(s,i));s.setFullYear(1584),i.setFullYear(1584);var l=(0,a.default)(s,i)===-u,d=u*(c-Number(l));return 0===d?0:d};var r=s(toDate.exports),n=s(differenceInCalendarYears.exports),a=s(compareAsc.exports),o=s(requiredArgs.exports);function s(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default}(differenceInYears,differenceInYears.exports);var eachDayOfInterval={exports:{}};!function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){(0,n.default)(1,arguments);var a=e||{},o=(0,r.default)(a.start),s=(0,r.default)(a.end).getTime();if(!(o.getTime()<=s))throw new RangeError("Invalid interval");var i=[],u=o;u.setHours(0,0,0,0);var c=t&&"step"in t?Number(t.step):1;if(c<1||isNaN(c))throw new RangeError("`options.step` must be a number greater than 1");for(;u.getTime()<=s;)i.push((0,r.default)(u)),u.setDate(u.getDate()+c),u.setHours(0,0,0,0);return i};var r=a(toDate.exports),n=a(requiredArgs.exports);function a(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default}(eachDayOfInterval,eachDayOfInterval.exports);var eachHourOfInterval={exports:{}};!function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){(0,a.default)(1,arguments);var o=e||{},s=(0,n.default)(o.start),i=(0,n.default)(o.end),u=s.getTime(),c=i.getTime();if(!(u<=c))throw new RangeError("Invalid interval");var l=[],d=s;d.setMinutes(0,0,0);var f=t&&"step"in t?Number(t.step):1;if(f<1||isNaN(f))throw new RangeError("`options.step` must be a number greater than 1");for(;d.getTime()<=c;)l.push((0,n.default)(d)),d=(0,r.default)(d,f);return l};var r=o(addHours.exports),n=o(toDate.exports),a=o(requiredArgs.exports);function o(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default}(eachHourOfInterval,eachHourOfInterval.exports);var eachMinuteOfInterval={exports:{}},startOfMinute={exports:{}};!function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){(0,n.default)(1,arguments);var t=(0,r.default)(e);return t.setSeconds(0,0),t};var r=a(toDate.exports),n=a(requiredArgs.exports);function a(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default}(startOfMinute,startOfMinute.exports),function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){(0,o.default)(1,arguments);var s=(0,a.default)((0,n.default)(e.start)),i=(0,n.default)(e.end),u=s.getTime(),c=i.getTime();if(u>=c)throw new RangeError("Invalid interval");var l=[],d=s,f=t&&"step"in t?Number(t.step):1;if(f<1||isNaN(f))throw new RangeError("`options.step` must be a number equal or greater than 1");for(;d.getTime()<=c;)l.push((0,n.default)(d)),d=(0,r.default)(d,f);return l};var r=s(addMinutes.exports),n=s(toDate.exports),a=s(startOfMinute.exports),o=s(requiredArgs.exports);function s(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default}(eachMinuteOfInterval,eachMinuteOfInterval.exports);var eachMonthOfInterval={exports:{}};!function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){(0,n.default)(1,arguments);var t=e||{},a=(0,r.default)(t.start),o=(0,r.default)(t.end).getTime(),s=[];if(!(a.getTime()<=o))throw new RangeError("Invalid interval");var i=a;i.setHours(0,0,0,0),i.setDate(1);for(;i.getTime()<=o;)s.push((0,r.default)(i)),i.setMonth(i.getMonth()+1);return s};var r=a(toDate.exports),n=a(requiredArgs.exports);function a(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default}(eachMonthOfInterval,eachMonthOfInterval.exports);var eachQuarterOfInterval={exports:{}},startOfQuarter={exports:{}};!function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){(0,n.default)(1,arguments);var t=(0,r.default)(e),a=t.getMonth(),o=a-a%3;return t.setMonth(o,1),t.setHours(0,0,0,0),t};var r=a(toDate.exports),n=a(requiredArgs.exports);function a(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default}(startOfQuarter,startOfQuarter.exports),function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){(0,o.default)(1,arguments);var t=e||{},s=(0,a.default)(t.start),i=(0,a.default)(t.end),u=i.getTime();if(!(s.getTime()<=u))throw new RangeError("Invalid interval");var c=(0,n.default)(s),l=(0,n.default)(i);u=l.getTime();var d=[],f=c;for(;f.getTime()<=u;)d.push((0,a.default)(f)),f=(0,r.default)(f,1);return d};var r=s(addQuarters.exports),n=s(startOfQuarter.exports),a=s(toDate.exports),o=s(requiredArgs.exports);function s(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default}(eachQuarterOfInterval,eachQuarterOfInterval.exports);var eachWeekOfInterval={exports:{}};!function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){(0,o.default)(1,arguments);var s=e||{},i=(0,a.default)(s.start),u=(0,a.default)(s.end),c=u.getTime();if(!(i.getTime()<=c))throw new RangeError("Invalid interval");var l=(0,n.default)(i,t),d=(0,n.default)(u,t);l.setHours(15),d.setHours(15),c=d.getTime();var f=[],_=l;for(;_.getTime()<=c;)_.setHours(0),f.push((0,a.default)(_)),(_=(0,r.default)(_,1)).setHours(15);return f};var r=s(addWeeks.exports),n=s(startOfWeek.exports),a=s(toDate.exports),o=s(requiredArgs.exports);function s(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default}(eachWeekOfInterval,eachWeekOfInterval.exports);var eachWeekendOfInterval={exports:{}};!function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){(0,o.default)(1,arguments);var t=(0,r.default)(e),s=[],i=0;for(;i<t.length;){var u=t[i++];(0,a.default)(u)&&(s.push(u),(0,n.default)(u)&&(i+=5))}return s};var r=s(eachDayOfInterval.exports),n=s(isSunday.exports),a=s(isWeekend.exports),o=s(requiredArgs.exports);function s(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default}(eachWeekendOfInterval,eachWeekendOfInterval.exports);var eachWeekendOfMonth={exports:{}},startOfMonth={exports:{}};!function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){(0,n.default)(1,arguments);var t=(0,r.default)(e);return t.setDate(1),t.setHours(0,0,0,0),t};var r=a(toDate.exports),n=a(requiredArgs.exports);function a(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default}(startOfMonth,startOfMonth.exports),function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){(0,o.default)(1,arguments);var t=(0,n.default)(e);if(isNaN(t.getTime()))throw new RangeError("The passed date is invalid");var s=(0,a.default)(e);return(0,r.default)({start:t,end:s})};var r=s(eachWeekendOfInterval.exports),n=s(startOfMonth.exports),a=s(endOfMonth.exports),o=s(requiredArgs.exports);function s(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default}(eachWeekendOfMonth,eachWeekendOfMonth.exports);var eachWeekendOfYear={exports:{}},startOfYear={exports:{}};!function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){(0,n.default)(1,arguments);var t=(0,r.default)(e),a=new Date(0);return a.setFullYear(t.getFullYear(),0,1),a.setHours(0,0,0,0),a};var r=a(toDate.exports),n=a(requiredArgs.exports);function a(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default}(startOfYear,startOfYear.exports);var endOfYear={exports:{}};!function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){(0,n.default)(1,arguments);var t=(0,r.default)(e),a=t.getFullYear();return t.setFullYear(a+1,0,0),t.setHours(23,59,59,999),t};var r=a(toDate.exports),n=a(requiredArgs.exports);function a(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default}(endOfYear,endOfYear.exports),function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){(0,o.default)(1,arguments);var t=(0,n.default)(e);if(isNaN(t))throw new RangeError("The passed date is invalid");var s=(0,a.default)(e);return(0,r.default)({start:t,end:s})};var r=s(eachWeekendOfInterval.exports),n=s(startOfYear.exports),a=s(endOfYear.exports),o=s(requiredArgs.exports);function s(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default}(eachWeekendOfYear,eachWeekendOfYear.exports);var eachYearOfInterval={exports:{}};!function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){(0,n.default)(1,arguments);var t=e||{},a=(0,r.default)(t.start),o=(0,r.default)(t.end).getTime();if(!(a.getTime()<=o))throw new RangeError("Invalid interval");var s=[],i=a;i.setHours(0,0,0,0),i.setMonth(0,1);for(;i.getTime()<=o;)s.push((0,r.default)(i)),i.setFullYear(i.getFullYear()+1);return s};var r=a(toDate.exports),n=a(requiredArgs.exports);function a(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default}(eachYearOfInterval,eachYearOfInterval.exports);var endOfDecade={exports:{}};!function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){(0,n.default)(1,arguments);var t=(0,r.default)(e),a=t.getFullYear(),o=9+10*Math.floor(a/10);return t.setFullYear(o,11,31),t.setHours(23,59,59,999),t};var r=a(toDate.exports),n=a(requiredArgs.exports);function a(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default}(endOfDecade,endOfDecade.exports);var endOfHour={exports:{}};!function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){(0,n.default)(1,arguments);var t=(0,r.default)(e);return t.setMinutes(59,59,999),t};var r=a(toDate.exports),n=a(requiredArgs.exports);function a(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default}(endOfHour,endOfHour.exports);var endOfISOWeek={exports:{}},endOfWeek={exports:{}};!function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){(0,a.default)(1,arguments);var o=t||{},s=o.locale,i=s&&s.options&&s.options.weekStartsOn,u=null==i?0:(0,n.default)(i),c=null==o.weekStartsOn?u:(0,n.default)(o.weekStartsOn);if(!(c>=0&&c<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var l=(0,r.default)(e),d=l.getDay(),f=6+(d<c?-7:0)-(d-c);return l.setDate(l.getDate()+f),l.setHours(23,59,59,999),l};var r=o(toDate.exports),n=o(toInteger.exports),a=o(requiredArgs.exports);function o(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default}(endOfWeek,endOfWeek.exports),function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,n.default)(1,arguments),(0,r.default)(e,{weekStartsOn:1})};var r=a(endOfWeek.exports),n=a(requiredArgs.exports);function a(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default}(endOfISOWeek,endOfISOWeek.exports);var endOfISOWeekYear={exports:{}};!function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){(0,a.default)(1,arguments);var t=(0,r.default)(e),o=new Date(0);o.setFullYear(t+1,0,4),o.setHours(0,0,0,0);var s=(0,n.default)(o);return s.setMilliseconds(s.getMilliseconds()-1),s};var r=o(getISOWeekYear.exports),n=o(startOfISOWeek.exports),a=o(requiredArgs.exports);function o(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default}(endOfISOWeekYear,endOfISOWeekYear.exports);var endOfMinute={exports:{}};!function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){(0,n.default)(1,arguments);var t=(0,r.default)(e);return t.setSeconds(59,999),t};var r=a(toDate.exports),n=a(requiredArgs.exports);function a(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default}(endOfMinute,endOfMinute.exports);var endOfQuarter={exports:{}};!function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){(0,n.default)(1,arguments);var t=(0,r.default)(e),a=t.getMonth(),o=a-a%3+3;return t.setMonth(o,0),t.setHours(23,59,59,999),t};var r=a(toDate.exports),n=a(requiredArgs.exports);function a(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default}(endOfQuarter,endOfQuarter.exports);var endOfSecond={exports:{}};!function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){(0,n.default)(1,arguments);var t=(0,r.default)(e);return t.setMilliseconds(999),t};var r=a(toDate.exports),n=a(requiredArgs.exports);function a(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default}(endOfSecond,endOfSecond.exports);var endOfToday={exports:{}};!function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){return(0,n.default)(Date.now())};var r,n=(r=endOfDay.exports)&&r.__esModule?r:{default:r};e.exports=t.default}(endOfToday,endOfToday.exports);var endOfTomorrow={exports:{}};!function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var e=new Date,t=e.getFullYear(),r=e.getMonth(),n=e.getDate(),a=new Date(0);return a.setFullYear(t,r,n+1),a.setHours(23,59,59,999),a},e.exports=t.default}(endOfTomorrow,endOfTomorrow.exports);var endOfYesterday={exports:{}};!function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var e=new Date,t=e.getFullYear(),r=e.getMonth(),n=e.getDate(),a=new Date(0);return a.setFullYear(t,r,n-1),a.setHours(23,59,59,999),a},e.exports=t.default}(endOfYesterday,endOfYesterday.exports);var format={exports:{}},enUS={exports:{}},formatDistance$1={exports:{}};!function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},n=function(e,t,n){var a,o=r[e];return a="string"==typeof o?o:1===t?o.one:o.other.replace("{{count}}",t.toString()),null!=n&&n.addSuffix?n.comparison&&n.comparison>0?"in "+a:a+" ago":a};t.default=n,e.exports=t.default}(formatDistance$1,formatDistance$1.exports);var formatLong={exports:{}},buildFormatLongFn={exports:{}};!function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=t.width?String(t.width):e.defaultWidth;return e.formats[r]||e.formats[e.defaultWidth]}},e.exports=t.default}(buildFormatLongFn,buildFormatLongFn.exports),function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,n=(r=buildFormatLongFn.exports)&&r.__esModule?r:{default:r};var a={date:(0,n.default)({formats:{full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},defaultWidth:"full"}),time:(0,n.default)({formats:{full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},defaultWidth:"full"}),dateTime:(0,n.default)({formats:{full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},defaultWidth:"full"})};t.default=a,e.exports=t.default}(formatLong,formatLong.exports);var formatRelative$1={exports:{}};!function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},n=function(e,t,n,a){return r[e]};t.default=n,e.exports=t.default}(formatRelative$1,formatRelative$1.exports);var localize={exports:{}},buildLocalizeFn={exports:{}};!function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return function(t,r){var n,a=r||{};if("formatting"===(a.context?String(a.context):"standalone")&&e.formattingValues){var o=e.defaultFormattingWidth||e.defaultWidth,s=a.width?String(a.width):o;n=e.formattingValues[s]||e.formattingValues[o]}else{var i=e.defaultWidth,u=a.width?String(a.width):e.defaultWidth;n=e.values[u]||e.values[i]}return n[e.argumentCallback?e.argumentCallback(t):t]}},e.exports=t.default}(buildLocalizeFn,buildLocalizeFn.exports),function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,n=(r=buildLocalizeFn.exports)&&r.__esModule?r:{default:r};var a={ordinalNumber:function(e,t){var r=Number(e),n=r%100;if(n>20||n<10)switch(n%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},era:(0,n.default)({values:{narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},defaultWidth:"wide"}),quarter:(0,n.default)({values:{narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},defaultWidth:"wide",argumentCallback:function(e){return e-1}}),month:(0,n.default)({values:{narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},defaultWidth:"wide"}),day:(0,n.default)({values:{narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},defaultWidth:"wide"}),dayPeriod:(0,n.default)({values:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},defaultWidth:"wide",formattingValues:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},defaultFormattingWidth:"wide"})};t.default=a,e.exports=t.default}(localize,localize.exports);var match={exports:{}},buildMatchFn={exports:{}};!function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return function(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=r.width,a=n&&e.matchPatterns[n]||e.matchPatterns[e.defaultMatchWidth],o=t.match(a);if(!o)return null;var s,i=o[0],u=n&&e.parsePatterns[n]||e.parsePatterns[e.defaultParseWidth],c=Array.isArray(u)?function(e,t){for(var r=0;r<e.length;r++)if(t(e[r]))return r;return}(u,(function(e){return e.test(i)})):function(e,t){for(var r in e)if(e.hasOwnProperty(r)&&t(e[r]))return r;return}(u,(function(e){return e.test(i)}));return s=e.valueCallback?e.valueCallback(c):c,{value:s=r.valueCallback?r.valueCallback(s):s,rest:t.slice(i.length)}}},e.exports=t.default}(buildMatchFn,buildMatchFn.exports);var buildMatchPatternFn={exports:{}};!function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return function(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.match(e.matchPattern);if(!n)return null;var a=n[0],o=t.match(e.parsePattern);if(!o)return null;var s=e.valueCallback?e.valueCallback(o[0]):o[0];return{value:s=r.valueCallback?r.valueCallback(s):s,rest:t.slice(a.length)}}},e.exports=t.default}(buildMatchPatternFn,buildMatchPatternFn.exports),function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(buildMatchFn.exports);function n(e){return e&&e.__esModule?e:{default:e}}var a={ordinalNumber:(0,n(buildMatchPatternFn.exports).default)({matchPattern:/^(\d+)(th|st|nd|rd)?/i,parsePattern:/\d+/i,valueCallback:function(e){return parseInt(e,10)}}),era:(0,r.default)({matchPatterns:{narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},defaultMatchWidth:"wide",parsePatterns:{any:[/^b/i,/^(a|c)/i]},defaultParseWidth:"any"}),quarter:(0,r.default)({matchPatterns:{narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},defaultMatchWidth:"wide",parsePatterns:{any:[/1/i,/2/i,/3/i,/4/i]},defaultParseWidth:"any",valueCallback:function(e){return e+1}}),month:(0,r.default)({matchPatterns:{narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},defaultParseWidth:"any"}),day:(0,r.default)({matchPatterns:{narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},defaultParseWidth:"any"}),dayPeriod:(0,r.default)({matchPatterns:{narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},defaultMatchWidth:"any",parsePatterns:{any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},defaultParseWidth:"any"})},o=a;t.default=o,e.exports=t.default}(match,match.exports),function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(formatDistance$1.exports),n=i(formatLong.exports),a=i(formatRelative$1.exports),o=i(localize.exports),s=i(match.exports);function i(e){return e&&e.__esModule?e:{default:e}}var u={code:"en-US",formatDistance:r.default,formatLong:n.default,formatRelative:a.default,localize:o.default,match:s.default,options:{weekStartsOn:0,firstWeekContainsDate:1}};t.default=u,e.exports=t.default}(enUS,enUS.exports);var subMilliseconds={exports:{}};!function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){(0,a.default)(2,arguments);var o=(0,r.default)(t);return(0,n.default)(e,-o)};var r=o(toInteger.exports),n=o(addMilliseconds.exports),a=o(requiredArgs.exports);function o(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default}(subMilliseconds,subMilliseconds.exports);var formatters={exports:{}},getUTCDayOfYear={exports:{}};!function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){(0,n.default)(1,arguments);var t=(0,r.default)(e),a=t.getTime();t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0);var s=t.getTime(),i=a-s;return Math.floor(i/o)+1};var r=a(toDate.exports),n=a(requiredArgs.exports);function a(e){return e&&e.__esModule?e:{default:e}}var o=864e5;e.exports=t.default}(getUTCDayOfYear,getUTCDayOfYear.exports);var getUTCISOWeek={exports:{}},startOfUTCISOWeek={exports:{}};!function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){(0,n.default)(1,arguments);var t=(0,r.default)(e),a=t.getUTCDay(),o=(a<1?7:0)+a-1;return t.setUTCDate(t.getUTCDate()-o),t.setUTCHours(0,0,0,0),t};var r=a(toDate.exports),n=a(requiredArgs.exports);function a(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default}(startOfUTCISOWeek,startOfUTCISOWeek.exports);var startOfUTCISOWeekYear={exports:{}},getUTCISOWeekYear={exports:{}};!function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){(0,n.default)(1,arguments);var t=(0,r.default)(e),o=t.getUTCFullYear(),s=new Date(0);s.setUTCFullYear(o+1,0,4),s.setUTCHours(0,0,0,0);var i=(0,a.default)(s),u=new Date(0);u.setUTCFullYear(o,0,4),u.setUTCHours(0,0,0,0);var c=(0,a.default)(u);return t.getTime()>=i.getTime()?o+1:t.getTime()>=c.getTime()?o:o-1};var r=o(toDate.exports),n=o(requiredArgs.exports),a=o(startOfUTCISOWeek.exports);function o(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default}(getUTCISOWeekYear,getUTCISOWeekYear.exports),function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){(0,a.default)(1,arguments);var t=(0,r.default)(e),o=new Date(0);return o.setUTCFullYear(t,0,4),o.setUTCHours(0,0,0,0),(0,n.default)(o)};var r=o(getUTCISOWeekYear.exports),n=o(startOfUTCISOWeek.exports),a=o(requiredArgs.exports);function o(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default}(startOfUTCISOWeekYear,startOfUTCISOWeekYear.exports),function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){(0,o.default)(1,arguments);var t=(0,r.default)(e),s=(0,n.default)(t).getTime()-(0,a.default)(t).getTime();return Math.round(s/i)+1};var r=s(toDate.exports),n=s(startOfUTCISOWeek.exports),a=s(startOfUTCISOWeekYear.exports),o=s(requiredArgs.exports);function s(e){return e&&e.__esModule?e:{default:e}}var i=6048e5;e.exports=t.default}(getUTCISOWeek,getUTCISOWeek.exports);var getUTCWeek={exports:{}},startOfUTCWeek={exports:{}};!function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){(0,n.default)(1,arguments);var o=t||{},s=o.locale,i=s&&s.options&&s.options.weekStartsOn,u=null==i?0:(0,a.default)(i),c=null==o.weekStartsOn?u:(0,a.default)(o.weekStartsOn);if(!(c>=0&&c<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var l=(0,r.default)(e),d=l.getUTCDay(),f=(d<c?7:0)+d-c;return l.setUTCDate(l.getUTCDate()-f),l.setUTCHours(0,0,0,0),l};var r=o(toDate.exports),n=o(requiredArgs.exports),a=o(toInteger.exports);function o(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default}(startOfUTCWeek,startOfUTCWeek.exports);var startOfUTCWeekYear={exports:{}},getUTCWeekYear={exports:{}};!function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){(0,n.default)(1,arguments);var s=(0,r.default)(e),i=s.getUTCFullYear(),u=t||{},c=u.locale,l=c&&c.options&&c.options.firstWeekContainsDate,d=null==l?1:(0,o.default)(l),f=null==u.firstWeekContainsDate?d:(0,o.default)(u.firstWeekContainsDate);if(!(f>=1&&f<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var _=new Date(0);_.setUTCFullYear(i+1,0,f),_.setUTCHours(0,0,0,0);var p=(0,a.default)(_,t),g=new Date(0);g.setUTCFullYear(i,0,f),g.setUTCHours(0,0,0,0);var h=(0,a.default)(g,t);return s.getTime()>=p.getTime()?i+1:s.getTime()>=h.getTime()?i:i-1};var r=s(toDate.exports),n=s(requiredArgs.exports),a=s(startOfUTCWeek.exports),o=s(toInteger.exports);function s(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default}(getUTCWeekYear,getUTCWeekYear.exports),function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){(0,n.default)(1,arguments);var s=t||{},i=s.locale,u=i&&i.options&&i.options.firstWeekContainsDate,c=null==u?1:(0,o.default)(u),l=null==s.firstWeekContainsDate?c:(0,o.default)(s.firstWeekContainsDate),d=(0,r.default)(e,t),f=new Date(0);return f.setUTCFullYear(d,0,l),f.setUTCHours(0,0,0,0),(0,a.default)(f,t)};var r=s(getUTCWeekYear.exports),n=s(requiredArgs.exports),a=s(startOfUTCWeek.exports),o=s(toInteger.exports);function s(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default}(startOfUTCWeekYear,startOfUTCWeekYear.exports),function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){(0,o.default)(1,arguments);var s=(0,r.default)(e),u=(0,n.default)(s,t).getTime()-(0,a.default)(s,t).getTime();return Math.round(u/i)+1};var r=s(toDate.exports),n=s(startOfUTCWeek.exports),a=s(startOfUTCWeekYear.exports),o=s(requiredArgs.exports);function s(e){return e&&e.__esModule?e:{default:e}}var i=6048e5;e.exports=t.default}(getUTCWeek,getUTCWeek.exports);var addLeadingZeros={exports:{}};!function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var r=e<0?"-":"",n=Math.abs(e).toString();for(;n.length<t;)n="0"+n;return r+n},e.exports=t.default}(addLeadingZeros,addLeadingZeros.exports);var lightFormatters={exports:{}};!function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,n=(r=addLeadingZeros.exports)&&r.__esModule?r:{default:r};var a={y:function(e,t){var r=e.getUTCFullYear(),a=r>0?r:1-r;return(0,n.default)("yy"===t?a%100:a,t.length)},M:function(e,t){var r=e.getUTCMonth();return"M"===t?String(r+1):(0,n.default)(r+1,2)},d:function(e,t){return(0,n.default)(e.getUTCDate(),t.length)},a:function(e,t){var r=e.getUTCHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];default:return"am"===r?"a.m.":"p.m."}},h:function(e,t){return(0,n.default)(e.getUTCHours()%12||12,t.length)},H:function(e,t){return(0,n.default)(e.getUTCHours(),t.length)},m:function(e,t){return(0,n.default)(e.getUTCMinutes(),t.length)},s:function(e,t){return(0,n.default)(e.getUTCSeconds(),t.length)},S:function(e,t){var r=t.length,a=e.getUTCMilliseconds(),o=Math.floor(a*Math.pow(10,r-3));return(0,n.default)(o,t.length)}},o=a;t.default=o,e.exports=t.default}(lightFormatters,lightFormatters.exports),function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=c(getUTCDayOfYear.exports),n=c(getUTCISOWeek.exports),a=c(getUTCISOWeekYear.exports),o=c(getUTCWeek.exports),s=c(getUTCWeekYear.exports),i=c(addLeadingZeros.exports),u=c(lightFormatters.exports);function c(e){return e&&e.__esModule?e:{default:e}}var l="midnight",d="noon",f="morning",_="afternoon",p="evening",g="night",h={G:function(e,t,r){var n=e.getUTCFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return r.era(n,{width:"abbreviated"});case"GGGGG":return r.era(n,{width:"narrow"});default:return r.era(n,{width:"wide"})}},y:function(e,t,r){if("yo"===t){var n=e.getUTCFullYear(),a=n>0?n:1-n;return r.ordinalNumber(a,{unit:"year"})}return u.default.y(e,t)},Y:function(e,t,r,n){var a=(0,s.default)(e,n),o=a>0?a:1-a;if("YY"===t){var u=o%100;return(0,i.default)(u,2)}return"Yo"===t?r.ordinalNumber(o,{unit:"year"}):(0,i.default)(o,t.length)},R:function(e,t){var r=(0,a.default)(e);return(0,i.default)(r,t.length)},u:function(e,t){var r=e.getUTCFullYear();return(0,i.default)(r,t.length)},Q:function(e,t,r){var n=Math.ceil((e.getUTCMonth()+1)/3);switch(t){case"Q":return String(n);case"QQ":return(0,i.default)(n,2);case"Qo":return r.ordinalNumber(n,{unit:"quarter"});case"QQQ":return r.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(n,{width:"narrow",context:"formatting"});default:return r.quarter(n,{width:"wide",context:"formatting"})}},q:function(e,t,r){var n=Math.ceil((e.getUTCMonth()+1)/3);switch(t){case"q":return String(n);case"qq":return(0,i.default)(n,2);case"qo":return r.ordinalNumber(n,{unit:"quarter"});case"qqq":return r.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(n,{width:"narrow",context:"standalone"});default:return r.quarter(n,{width:"wide",context:"standalone"})}},M:function(e,t,r){var n=e.getUTCMonth();switch(t){case"M":case"MM":return u.default.M(e,t);case"Mo":return r.ordinalNumber(n+1,{unit:"month"});case"MMM":return r.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(n,{width:"narrow",context:"formatting"});default:return r.month(n,{width:"wide",context:"formatting"})}},L:function(e,t,r){var n=e.getUTCMonth();switch(t){case"L":return String(n+1);case"LL":return(0,i.default)(n+1,2);case"Lo":return r.ordinalNumber(n+1,{unit:"month"});case"LLL":return r.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(n,{width:"narrow",context:"standalone"});default:return r.month(n,{width:"wide",context:"standalone"})}},w:function(e,t,r,n){var a=(0,o.default)(e,n);return"wo"===t?r.ordinalNumber(a,{unit:"week"}):(0,i.default)(a,t.length)},I:function(e,t,r){var a=(0,n.default)(e);return"Io"===t?r.ordinalNumber(a,{unit:"week"}):(0,i.default)(a,t.length)},d:function(e,t,r){return"do"===t?r.ordinalNumber(e.getUTCDate(),{unit:"date"}):u.default.d(e,t)},D:function(e,t,n){var a=(0,r.default)(e);return"Do"===t?n.ordinalNumber(a,{unit:"dayOfYear"}):(0,i.default)(a,t.length)},E:function(e,t,r){var n=e.getUTCDay();switch(t){case"E":case"EE":case"EEE":return r.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(n,{width:"short",context:"formatting"});default:return r.day(n,{width:"wide",context:"formatting"})}},e:function(e,t,r,n){var a=e.getUTCDay(),o=(a-n.weekStartsOn+8)%7||7;switch(t){case"e":return String(o);case"ee":return(0,i.default)(o,2);case"eo":return r.ordinalNumber(o,{unit:"day"});case"eee":return r.day(a,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(a,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(a,{width:"short",context:"formatting"});default:return r.day(a,{width:"wide",context:"formatting"})}},c:function(e,t,r,n){var a=e.getUTCDay(),o=(a-n.weekStartsOn+8)%7||7;switch(t){case"c":return String(o);case"cc":return(0,i.default)(o,t.length);case"co":return r.ordinalNumber(o,{unit:"day"});case"ccc":return r.day(a,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(a,{width:"narrow",context:"standalone"});case"cccccc":return r.day(a,{width:"short",context:"standalone"});default:return r.day(a,{width:"wide",context:"standalone"})}},i:function(e,t,r){var n=e.getUTCDay(),a=0===n?7:n;switch(t){case"i":return String(a);case"ii":return(0,i.default)(a,t.length);case"io":return r.ordinalNumber(a,{unit:"day"});case"iii":return r.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(n,{width:"short",context:"formatting"});default:return r.day(n,{width:"wide",context:"formatting"})}},a:function(e,t,r){var n=e.getUTCHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.dayPeriod(n,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(n,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(n,{width:"narrow",context:"formatting"});default:return r.dayPeriod(n,{width:"wide",context:"formatting"})}},b:function(e,t,r){var n,a=e.getUTCHours();switch(n=12===a?d:0===a?l:a/12>=1?"pm":"am",t){case"b":case"bb":return r.dayPeriod(n,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(n,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(n,{width:"narrow",context:"formatting"});default:return r.dayPeriod(n,{width:"wide",context:"formatting"})}},B:function(e,t,r){var n,a=e.getUTCHours();switch(n=a>=17?p:a>=12?_:a>=4?f:g,t){case"B":case"BB":case"BBB":return r.dayPeriod(n,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(n,{width:"narrow",context:"formatting"});default:return r.dayPeriod(n,{width:"wide",context:"formatting"})}},h:function(e,t,r){if("ho"===t){var n=e.getUTCHours()%12;return 0===n&&(n=12),r.ordinalNumber(n,{unit:"hour"})}return u.default.h(e,t)},H:function(e,t,r){return"Ho"===t?r.ordinalNumber(e.getUTCHours(),{unit:"hour"}):u.default.H(e,t)},K:function(e,t,r){var n=e.getUTCHours()%12;return"Ko"===t?r.ordinalNumber(n,{unit:"hour"}):(0,i.default)(n,t.length)},k:function(e,t,r){var n=e.getUTCHours();return 0===n&&(n=24),"ko"===t?r.ordinalNumber(n,{unit:"hour"}):(0,i.default)(n,t.length)},m:function(e,t,r){return"mo"===t?r.ordinalNumber(e.getUTCMinutes(),{unit:"minute"}):u.default.m(e,t)},s:function(e,t,r){return"so"===t?r.ordinalNumber(e.getUTCSeconds(),{unit:"second"}):u.default.s(e,t)},S:function(e,t){return u.default.S(e,t)},X:function(e,t,r,n){var a=(n._originalDate||e).getTimezoneOffset();if(0===a)return"Z";switch(t){case"X":return v(a);case"XXXX":case"XX":return y(a);default:return y(a,":")}},x:function(e,t,r,n){var a=(n._originalDate||e).getTimezoneOffset();switch(t){case"x":return v(a);case"xxxx":case"xx":return y(a);default:return y(a,":")}},O:function(e,t,r,n){var a=(n._originalDate||e).getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+m(a,":");default:return"GMT"+y(a,":")}},z:function(e,t,r,n){var a=(n._originalDate||e).getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+m(a,":");default:return"GMT"+y(a,":")}},t:function(e,t,r,n){var a=n._originalDate||e,o=Math.floor(a.getTime()/1e3);return(0,i.default)(o,t.length)},T:function(e,t,r,n){var a=(n._originalDate||e).getTime();return(0,i.default)(a,t.length)}};function m(e,t){var r=e>0?"-":"+",n=Math.abs(e),a=Math.floor(n/60),o=n%60;if(0===o)return r+String(a);var s=t||"";return r+String(a)+s+(0,i.default)(o,2)}function v(e,t){return e%60==0?(e>0?"-":"+")+(0,i.default)(Math.abs(e)/60,2):y(e,t)}function y(e,t){var r=t||"",n=e>0?"-":"+",a=Math.abs(e);return n+(0,i.default)(Math.floor(a/60),2)+r+(0,i.default)(a%60,2)}var x=h;t.default=x,e.exports=t.default}(formatters,formatters.exports);var longFormatters={exports:{}};!function(e,t){function r(e,t){switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});default:return t.date({width:"full"})}}function n(e,t){switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});default:return t.time({width:"full"})}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a={p:n,P:function(e,t){var a,o=e.match(/(P+)(p+)?/)||[],s=o[1],i=o[2];if(!i)return r(e,t);switch(s){case"P":a=t.dateTime({width:"short"});break;case"PP":a=t.dateTime({width:"medium"});break;case"PPP":a=t.dateTime({width:"long"});break;default:a=t.dateTime({width:"full"})}return a.replace("{{date}}",r(s,t)).replace("{{time}}",n(i,t))}},o=a;t.default=o,e.exports=t.default}(longFormatters,longFormatters.exports);var protectedTokens={};Object.defineProperty(protectedTokens,"__esModule",{value:!0}),protectedTokens.isProtectedDayOfYearToken=isProtectedDayOfYearToken,protectedTokens.isProtectedWeekYearToken=isProtectedWeekYearToken,protectedTokens.throwProtectedError=throwProtectedError;var protectedDayOfYearTokens=["D","DD"],protectedWeekYearTokens=["YY","YYYY"];function isProtectedDayOfYearToken(e){return-1!==protectedDayOfYearTokens.indexOf(e)}function isProtectedWeekYearToken(e){return-1!==protectedWeekYearTokens.indexOf(e)}function throwProtectedError(e,t,r){if("YYYY"===e)throw new RangeError("Use `yyyy` instead of `YYYY` (in `".concat(t,"`) for formatting years to the input `").concat(r,"`; see: https://git.io/fxCyr"));if("YY"===e)throw new RangeError("Use `yy` instead of `YY` (in `".concat(t,"`) for formatting years to the input `").concat(r,"`; see: https://git.io/fxCyr"));if("D"===e)throw new RangeError("Use `d` instead of `D` (in `".concat(t,"`) for formatting days of the month to the input `").concat(r,"`; see: https://git.io/fxCyr"));if("DD"===e)throw new RangeError("Use `dd` instead of `DD` (in `".concat(t,"`) for formatting days of the month to the input `").concat(r,"`; see: https://git.io/fxCyr"))}!function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,f){(0,d.default)(2,arguments);var v=String(t),y=f||{},x=y.locale||n.default,O=x.options&&x.options.firstWeekContainsDate,E=null==O?1:(0,l.default)(O),M=null==y.firstWeekContainsDate?E:(0,l.default)(y.firstWeekContainsDate);if(!(M>=1&&M<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var b=x.options&&x.options.weekStartsOn,D=null==b?0:(0,l.default)(b),P=null==y.weekStartsOn?D:(0,l.default)(y.weekStartsOn);if(!(P>=0&&P<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(!x.localize)throw new RangeError("locale must contain localize property");if(!x.formatLong)throw new RangeError("locale must contain formatLong property");var T=(0,o.default)(e);if(!(0,r.default)(T))throw new RangeError("Invalid time value");var I=(0,u.default)(T),C=(0,a.default)(T,I),w={firstWeekContainsDate:M,weekStartsOn:P,locale:x,_originalDate:T};return v.match(p).map((function(e){var t=e[0];return"p"===t||"P"===t?(0,i.default[t])(e,x.formatLong,w):e})).join("").match(_).map((function(r){if("''"===r)return"'";var n=r[0];if("'"===n)return r.match(g)[1].replace(h,"'");var a=s.default[n];if(a)return!y.useAdditionalWeekYearTokens&&(0,c.isProtectedWeekYearToken)(r)&&(0,c.throwProtectedError)(r,t,e),!y.useAdditionalDayOfYearTokens&&(0,c.isProtectedDayOfYearToken)(r)&&(0,c.throwProtectedError)(r,t,e),a(C,r,x.localize,w);if(n.match(m))throw new RangeError("Format string contains an unescaped latin alphabet character `"+n+"`");return r})).join("")};var r=f(isValid.exports),n=f(enUS.exports),a=f(subMilliseconds.exports),o=f(toDate.exports),s=f(formatters.exports),i=f(longFormatters.exports),u=f(getTimezoneOffsetInMilliseconds.exports),c=protectedTokens,l=f(toInteger.exports),d=f(requiredArgs.exports);function f(e){return e&&e.__esModule?e:{default:e}}var _=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,p=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,g=/^'([^]*?)'?$/,h=/''/g,m=/[a-zA-Z]/;e.exports=t.default}(format,format.exports);var formatDistance={exports:{}},cloneObject={exports:{}},assign={exports:{}};!function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if(null==e)throw new TypeError("assign requires that input parameter not be null or undefined");for(var r in t=t||{})Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},e.exports=t.default}(assign,assign.exports),function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,n.default)({},e)};var r,n=(r=assign.exports)&&r.__esModule?r:{default:r};e.exports=t.default}(cloneObject,cloneObject.exports),function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var l=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};(0,c.default)(2,arguments);var g=l.locale||o.default;if(!g.formatDistance)throw new RangeError("locale must contain formatDistance property");var h=(0,r.default)(e,t);if(isNaN(h))throw new RangeError("Invalid time value");var m,v,y=(0,i.default)(l);y.addSuffix=Boolean(l.addSuffix),y.comparison=h,h>0?(m=(0,s.default)(t),v=(0,s.default)(e)):(m=(0,s.default)(e),v=(0,s.default)(t));var x,O=(0,a.default)(v,m),E=((0,u.default)(v)-(0,u.default)(m))/1e3,M=Math.round((O-E)/60);if(M<2)return l.includeSeconds?O<5?g.formatDistance("lessThanXSeconds",5,y):O<10?g.formatDistance("lessThanXSeconds",10,y):O<20?g.formatDistance("lessThanXSeconds",20,y):O<40?g.formatDistance("halfAMinute",null,y):O<60?g.formatDistance("lessThanXMinutes",1,y):g.formatDistance("xMinutes",1,y):0===M?g.formatDistance("lessThanXMinutes",1,y):g.formatDistance("xMinutes",M,y);if(M<45)return g.formatDistance("xMinutes",M,y);if(M<90)return g.formatDistance("aboutXHours",1,y);if(M<d){var b=Math.round(M/60);return g.formatDistance("aboutXHours",b,y)}if(M<f)return g.formatDistance("xDays",1,y);if(M<_){var D=Math.round(M/d);return g.formatDistance("xDays",D,y)}if(M<p)return x=Math.round(M/_),g.formatDistance("aboutXMonths",x,y);if((x=(0,n.default)(v,m))<12){var P=Math.round(M/_);return g.formatDistance("xMonths",P,y)}var T=x%12,I=Math.floor(x/12);return T<3?g.formatDistance("aboutXYears",I,y):T<9?g.formatDistance("overXYears",I,y):g.formatDistance("almostXYears",I+1,y)};var r=l(compareAsc.exports),n=l(differenceInMonths.exports),a=l(differenceInSeconds.exports),o=l(enUS.exports),s=l(toDate.exports),i=l(cloneObject.exports),u=l(getTimezoneOffsetInMilliseconds.exports),c=l(requiredArgs.exports);function l(e){return e&&e.__esModule?e:{default:e}}var d=1440,f=2520,_=43200,p=86400;e.exports=t.default}(formatDistance,formatDistance.exports);var formatDistanceStrict={exports:{}};!function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var u=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};(0,i.default)(2,arguments);var _=u.locale||s.default;if(!_.formatDistance)throw new RangeError("locale must contain localize.formatDistance property");var p=(0,n.default)(e,t);if(isNaN(p))throw new RangeError("Invalid time value");var g,h,m=(0,o.default)(u);m.addSuffix=Boolean(u.addSuffix),m.comparison=p,p>0?(g=(0,a.default)(t),h=(0,a.default)(e)):(g=(0,a.default)(e),h=(0,a.default)(t));var v,y=null==u.roundingMethod?"round":String(u.roundingMethod);if("floor"===y)v=Math.floor;else if("ceil"===y)v=Math.ceil;else{if("round"!==y)throw new RangeError("roundingMethod must be 'floor', 'ceil' or 'round'");v=Math.round}var x,O=h.getTime()-g.getTime(),E=O/c,M=(0,r.default)(h)-(0,r.default)(g),b=(O-M)/c;x=null==u.unit?E<1?"second":E<60?"minute":E<l?"hour":b<d?"day":b<f?"month":"year":String(u.unit);if("second"===x){var D=v(O/1e3);return _.formatDistance("xSeconds",D,m)}if("minute"===x){var P=v(E);return _.formatDistance("xMinutes",P,m)}if("hour"===x){var T=v(E/60);return _.formatDistance("xHours",T,m)}if("day"===x){var I=v(b/l);return _.formatDistance("xDays",I,m)}if("month"===x){var C=v(b/d);return 12===C&&"month"!==u.unit?_.formatDistance("xYears",1,m):_.formatDistance("xMonths",C,m)}if("year"===x){var w=v(b/f);return _.formatDistance("xYears",w,m)}throw new RangeError("unit must be 'second', 'minute', 'hour', 'day', 'month' or 'year'")};var r=u(getTimezoneOffsetInMilliseconds.exports),n=u(compareAsc.exports),a=u(toDate.exports),o=u(cloneObject.exports),s=u(enUS.exports),i=u(requiredArgs.exports);function u(e){return e&&e.__esModule?e:{default:e}}var c=6e4,l=1440,d=30*l,f=365*l;e.exports=t.default}(formatDistanceStrict,formatDistanceStrict.exports);var formatDistanceToNow={exports:{}};!function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){return(0,n.default)(1,arguments),(0,r.default)(e,Date.now(),t)};var r=a(formatDistance.exports),n=a(requiredArgs.exports);function a(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default}(formatDistanceToNow,formatDistanceToNow.exports);var formatDistanceToNowStrict={exports:{}};!function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){return(0,n.default)(1,arguments),(0,r.default)(e,Date.now(),t)};var r=a(formatDistanceStrict.exports),n=a(requiredArgs.exports);function a(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default}(formatDistanceToNowStrict,formatDistanceToNowStrict.exports);var formatDuration={exports:{}};!function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(arguments.length<1)throw new TypeError("1 argument required, but only ".concat(arguments.length," present"));var r=(null==t?void 0:t.format)||a,o=(null==t?void 0:t.locale)||n.default,s=(null==t?void 0:t.zero)||!1,i=(null==t?void 0:t.delimiter)||" ",u=r.reduce((function(t,r){var n="x".concat(r.replace(/(^.)/,(function(e){return e.toUpperCase()})));return"number"==typeof e[r]&&(s||e[r])&&o.formatDistance?t.concat(o.formatDistance(n,e[r])):t}),[]).join(i);return u};var r,n=(r=enUS.exports)&&r.__esModule?r:{default:r};var a=["years","months","weeks","days","hours","minutes","seconds"];e.exports=t.default}(formatDuration,formatDuration.exports);var formatISO={exports:{}};!function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){(0,a.default)(1,arguments);var o=(0,r.default)(e);if(isNaN(o.getTime()))throw new RangeError("Invalid time value");var s=null!=t&&t.format?String(t.format):"extended",i=null!=t&&t.representation?String(t.representation):"complete";if("extended"!==s&&"basic"!==s)throw new RangeError("format must be 'extended' or 'basic'");if("date"!==i&&"time"!==i&&"complete"!==i)throw new RangeError("representation must be 'date', 'time', or 'complete'");var u="",c="",l="extended"===s?"-":"",d="extended"===s?":":"";if("time"!==i){var f=(0,n.default)(o.getDate(),2),_=(0,n.default)(o.getMonth()+1,2),p=(0,n.default)(o.getFullYear(),4);u="".concat(p).concat(l).concat(_).concat(l).concat(f)}if("date"!==i){var g=o.getTimezoneOffset();if(0!==g){var h=Math.abs(g),m=(0,n.default)(Math.floor(h/60),2),v=(0,n.default)(h%60,2);c="".concat(g<0?"+":"-").concat(m,":").concat(v)}else c="Z";var y=""===u?"":"T",x=[(0,n.default)(o.getHours(),2),(0,n.default)(o.getMinutes(),2),(0,n.default)(o.getSeconds(),2)].join(d);u="".concat(u).concat(y).concat(x).concat(c)}return u};var r=o(toDate.exports),n=o(addLeadingZeros.exports),a=o(requiredArgs.exports);function o(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default}(formatISO,formatISO.exports);var formatISO9075={exports:{}};!function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if(arguments.length<1)throw new TypeError("1 argument required, but only ".concat(arguments.length," present"));var o=(0,r.default)(e);if(!(0,n.default)(o))throw new RangeError("Invalid time value");var s=t||{},i=null==s.format?"extended":String(s.format),u=null==s.representation?"complete":String(s.representation);if("extended"!==i&&"basic"!==i)throw new RangeError("format must be 'extended' or 'basic'");if("date"!==u&&"time"!==u&&"complete"!==u)throw new RangeError("representation must be 'date', 'time', or 'complete'");var c="",l="extended"===i?"-":"",d="extended"===i?":":"";if("time"!==u){var f=(0,a.default)(o.getDate(),2),_=(0,a.default)(o.getMonth()+1,2),p=(0,a.default)(o.getFullYear(),4);c="".concat(p).concat(l).concat(_).concat(l).concat(f)}if("date"!==u){var g=(0,a.default)(o.getHours(),2),h=(0,a.default)(o.getMinutes(),2),m=(0,a.default)(o.getSeconds(),2),v=""===c?"":" ";c="".concat(c).concat(v).concat(g).concat(d).concat(h).concat(d).concat(m)}return c};var r=o(toDate.exports),n=o(isValid.exports),a=o(addLeadingZeros.exports);function o(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default}(formatISO9075,formatISO9075.exports);var formatISODuration={exports:{}};!function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){if((0,n.default)(1,arguments),"object"!=typeof e)throw new Error("Duration must be an object");var t=e.years,r=void 0===t?0:t,a=e.months,o=void 0===a?0:a,s=e.days,i=void 0===s?0:s,u=e.hours,c=void 0===u?0:u,l=e.minutes,d=void 0===l?0:l,f=e.seconds,_=void 0===f?0:f;return"P".concat(r,"Y").concat(o,"M").concat(i,"DT").concat(c,"H").concat(d,"M").concat(_,"S")};var r,n=(r=requiredArgs.exports)&&r.__esModule?r:{default:r};e.exports=t.default}(formatISODuration,formatISODuration.exports);var formatRFC3339={exports:{}};!function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if(arguments.length<1)throw new TypeError("1 arguments required, but only ".concat(arguments.length," present"));var s=(0,r.default)(e);if(!(0,n.default)(s))throw new RangeError("Invalid time value");var i=(t||{}).fractionDigits,u=void 0===i?0:i;if(!(u>=0&&u<=3))throw new RangeError("fractionDigits must be between 0 and 3 inclusively");var c=(0,a.default)(s.getDate(),2),l=(0,a.default)(s.getMonth()+1,2),d=s.getFullYear(),f=(0,a.default)(s.getHours(),2),_=(0,a.default)(s.getMinutes(),2),p=(0,a.default)(s.getSeconds(),2),g="";if(u>0){var h=s.getMilliseconds(),m=Math.floor(h*Math.pow(10,u-3));g="."+(0,a.default)(m,u)}var v="",y=s.getTimezoneOffset();if(0!==y){var x=Math.abs(y),O=(0,a.default)((0,o.default)(x/60),2),E=(0,a.default)(x%60,2);v="".concat(y<0?"+":"-").concat(O,":").concat(E)}else v="Z";return"".concat(d,"-").concat(l,"-").concat(c,"T").concat(f,":").concat(_,":").concat(p).concat(g).concat(v)};var r=s(toDate.exports),n=s(isValid.exports),a=s(addLeadingZeros.exports),o=s(toInteger.exports);function s(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default}(formatRFC3339,formatRFC3339.exports);var formatRFC7231={exports:{}};!function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){if(arguments.length<1)throw new TypeError("1 arguments required, but only ".concat(arguments.length," present"));var t=(0,r.default)(e);if(!(0,n.default)(t))throw new RangeError("Invalid time value");var o=s[t.getUTCDay()],u=(0,a.default)(t.getUTCDate(),2),c=i[t.getUTCMonth()],l=t.getUTCFullYear(),d=(0,a.default)(t.getUTCHours(),2),f=(0,a.default)(t.getUTCMinutes(),2),_=(0,a.default)(t.getUTCSeconds(),2);return"".concat(o,", ").concat(u," ").concat(c," ").concat(l," ").concat(d,":").concat(f,":").concat(_," GMT")};var r=o(toDate.exports),n=o(isValid.exports),a=o(addLeadingZeros.exports);function o(e){return e&&e.__esModule?e:{default:e}}var s=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],i=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];e.exports=t.default}(formatRFC7231,formatRFC7231.exports);var formatRelative={exports:{}};!function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,c){(0,u.default)(2,arguments);var l=(0,s.default)(e),d=(0,s.default)(t),f=c||{},_=f.locale,p=void 0===_?a.default:_,g=f.weekStartsOn,h=void 0===g?0:g;if(!p.localize)throw new RangeError("locale must contain localize property");if(!p.formatLong)throw new RangeError("locale must contain formatLong property");if(!p.formatRelative)throw new RangeError("locale must contain formatRelative property");var m,v=(0,r.default)(l,d);if(isNaN(v))throw new RangeError("Invalid time value");m=v<-6?"other":v<-1?"lastWeek":v<0?"yesterday":v<1?"today":v<2?"tomorrow":v<7?"nextWeek":"other";var y=(0,o.default)(l,(0,i.default)(l)),x=(0,o.default)(d,(0,i.default)(d)),O=p.formatRelative(m,y,x,{locale:p,weekStartsOn:h});return(0,n.default)(l,O,{locale:p,weekStartsOn:h})};var r=c(differenceInCalendarDays.exports),n=c(format.exports),a=c(enUS.exports),o=c(subMilliseconds.exports),s=c(toDate.exports),i=c(getTimezoneOffsetInMilliseconds.exports),u=c(requiredArgs.exports);function c(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default}(formatRelative,formatRelative.exports);var fromUnixTime={exports:{}};!function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){(0,a.default)(1,arguments);var t=(0,n.default)(e);return(0,r.default)(1e3*t)};var r=o(toDate.exports),n=o(toInteger.exports),a=o(requiredArgs.exports);function o(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default}(fromUnixTime,fromUnixTime.exports);var getDate={exports:{}};!function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,n.default)(1,arguments),(0,r.default)(e).getDate()};var r=a(toDate.exports),n=a(requiredArgs.exports);function a(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default}(getDate,getDate.exports);var getDay={exports:{}};!function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,n.default)(1,arguments),(0,r.default)(e).getDay()};var r=a(toDate.exports),n=a(requiredArgs.exports);function a(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default}(getDay,getDay.exports);var getDayOfYear={exports:{}};!function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){(0,o.default)(1,arguments);var t=(0,r.default)(e);return(0,a.default)(t,(0,n.default)(t))+1};var r=s(toDate.exports),n=s(startOfYear.exports),a=s(differenceInCalendarDays.exports),o=s(requiredArgs.exports);function s(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default}(getDayOfYear,getDayOfYear.exports);var getDaysInMonth={exports:{}};!function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){(0,n.default)(1,arguments);var t=(0,r.default)(e),a=t.getFullYear(),o=t.getMonth(),s=new Date(0);return s.setFullYear(a,o+1,0),s.setHours(0,0,0,0),s.getDate()};var r=a(toDate.exports),n=a(requiredArgs.exports);function a(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default}(getDaysInMonth,getDaysInMonth.exports);var getDaysInYear={exports:{}},isLeapYear={exports:{}};!function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){(0,n.default)(1,arguments);var t=(0,r.default)(e).getFullYear();return t%400==0||t%4==0&&t%100!=0};var r=a(toDate.exports),n=a(requiredArgs.exports);function a(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default}(isLeapYear,isLeapYear.exports),function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){(0,a.default)(1,arguments);var t=(0,r.default)(e);if("Invalid Date"===String(new Date(t)))return NaN;return(0,n.default)(t)?366:365};var r=o(toDate.exports),n=o(isLeapYear.exports),a=o(requiredArgs.exports);function o(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default}(getDaysInYear,getDaysInYear.exports);var getDecade={exports:{}};!function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){(0,n.default)(1,arguments);var t=(0,r.default)(e).getFullYear();return 10*Math.floor(t/10)};var r=a(toDate.exports),n=a(requiredArgs.exports);function a(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default}(getDecade,getDecade.exports);var getHours={exports:{}};!function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,n.default)(1,arguments),(0,r.default)(e).getHours()};var r=a(toDate.exports),n=a(requiredArgs.exports);function a(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default}(getHours,getHours.exports);var getISODay={exports:{}};!function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){(0,n.default)(1,arguments);var t=(0,r.default)(e).getDay();0===t&&(t=7);return t};var r=a(toDate.exports),n=a(requiredArgs.exports);function a(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default}(getISODay,getISODay.exports);var getISOWeek={exports:{}};!function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){(0,o.default)(1,arguments);var t=(0,r.default)(e),s=(0,n.default)(t).getTime()-(0,a.default)(t).getTime();return Math.round(s/i)+1};var r=s(toDate.exports),n=s(startOfISOWeek.exports),a=s(startOfISOWeekYear.exports),o=s(requiredArgs.exports);function s(e){return e&&e.__esModule?e:{default:e}}var i=6048e5;e.exports=t.default}(getISOWeek,getISOWeek.exports);var getISOWeeksInYear={exports:{}};!function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){(0,a.default)(1,arguments);var t=(0,r.default)(e),o=(0,r.default)((0,n.default)(t,60)).valueOf()-t.valueOf();return Math.round(o/s)};var r=o(startOfISOWeekYear.exports),n=o(addWeeks.exports),a=o(requiredArgs.exports);function o(e){return e&&e.__esModule?e:{default:e}}var s=6048e5;e.exports=t.default}(getISOWeeksInYear,getISOWeeksInYear.exports);var getMilliseconds={exports:{}};!function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){(0,n.default)(1,arguments);var t=(0,r.default)(e).getMilliseconds();return t};var r=a(toDate.exports),n=a(requiredArgs.exports);function a(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default}(getMilliseconds,getMilliseconds.exports);var getMinutes={exports:{}};!function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,n.default)(1,arguments),(0,r.default)(e).getMinutes()};var r=a(toDate.exports),n=a(requiredArgs.exports);function a(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default}(getMinutes,getMinutes.exports);var getMonth={exports:{}};!function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,n.default)(1,arguments),(0,r.default)(e).getMonth()};var r=a(toDate.exports),n=a(requiredArgs.exports);function a(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default}(getMonth,getMonth.exports);var getOverlappingDaysInIntervals={exports:{}};!function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){(0,n.default)(2,arguments);var a=e||{},s=t||{},i=(0,r.default)(a.start).getTime(),u=(0,r.default)(a.end).getTime(),c=(0,r.default)(s.start).getTime(),l=(0,r.default)(s.end).getTime();if(!(i<=u&&c<=l))throw new RangeError("Invalid interval");if(!(i<l&&c<u))return 0;var d=(l>u?u:l)-(c<i?i:c);return Math.ceil(d/o)};var r=a(toDate.exports),n=a(requiredArgs.exports);function a(e){return e&&e.__esModule?e:{default:e}}var o=864e5;e.exports=t.default}(getOverlappingDaysInIntervals,getOverlappingDaysInIntervals.exports);var getSeconds={exports:{}};!function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,n.default)(1,arguments),(0,r.default)(e).getSeconds()};var r=a(toDate.exports),n=a(requiredArgs.exports);function a(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default}(getSeconds,getSeconds.exports);var getTime={exports:{}};!function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,n.default)(1,arguments),(0,r.default)(e).getTime()};var r=a(toDate.exports),n=a(requiredArgs.exports);function a(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default}(getTime,getTime.exports);var getUnixTime={exports:{}};!function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,n.default)(1,arguments),Math.floor((0,r.default)(e)/1e3)};var r=a(getTime.exports),n=a(requiredArgs.exports);function a(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default}(getUnixTime,getUnixTime.exports);var getWeek={exports:{}},startOfWeekYear={exports:{}},getWeekYear={exports:{}};!function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var s,i;(0,o.default)(1,arguments);var u=(0,n.default)(e),c=u.getFullYear(),l=null==t||null===(s=t.locale)||void 0===s||null===(i=s.options)||void 0===i?void 0:i.firstWeekContainsDate,d=null==l?1:(0,a.default)(l),f=null==(null==t?void 0:t.firstWeekContainsDate)?d:(0,a.default)(t.firstWeekContainsDate);if(!(f>=1&&f<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var _=new Date(0);_.setFullYear(c+1,0,f),_.setHours(0,0,0,0);var p=(0,r.default)(_,t),g=new Date(0);g.setFullYear(c,0,f),g.setHours(0,0,0,0);var h=(0,r.default)(g,t);return u.getTime()>=p.getTime()?c+1:u.getTime()>=h.getTime()?c:c-1};var r=s(startOfWeek.exports),n=s(toDate.exports),a=s(toInteger.exports),o=s(requiredArgs.exports);function s(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default}(getWeekYear,getWeekYear.exports),function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){(0,o.default)(1,arguments);var s=t||{},i=s.locale,u=i&&i.options&&i.options.firstWeekContainsDate,c=null==u?1:(0,a.default)(u),l=null==s.firstWeekContainsDate?c:(0,a.default)(s.firstWeekContainsDate),d=(0,r.default)(e,t),f=new Date(0);return f.setFullYear(d,0,l),f.setHours(0,0,0,0),(0,n.default)(f,t)};var r=s(getWeekYear.exports),n=s(startOfWeek.exports),a=s(toInteger.exports),o=s(requiredArgs.exports);function s(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default}(startOfWeekYear,startOfWeekYear.exports),function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){(0,o.default)(1,arguments);var s=(0,a.default)(e),u=(0,r.default)(s,t).getTime()-(0,n.default)(s,t).getTime();return Math.round(u/i)+1};var r=s(startOfWeek.exports),n=s(startOfWeekYear.exports),a=s(toDate.exports),o=s(requiredArgs.exports);function s(e){return e&&e.__esModule?e:{default:e}}var i=6048e5;e.exports=t.default}(getWeek,getWeek.exports);var getWeekOfMonth={exports:{}};!function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var i,u;(0,o.default)(1,arguments);var c=(null==t||null===(i=t.locale)||void 0===i||null===(u=i.options)||void 0===u?void 0:u.weekStartsOn)||0,l=null==(null==t?void 0:t.weekStartsOn)?(0,s.default)(c):(0,s.default)(t.weekStartsOn);if(!(l>=0&&l<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var d=(0,r.default)(e);if(isNaN(d))return NaN;var f=(0,n.default)((0,a.default)(e)),_=l-f;_<=0&&(_+=7);var p=d-_;return Math.ceil(p/7)+1};var r=i(getDate.exports),n=i(getDay.exports),a=i(startOfMonth.exports),o=i(requiredArgs.exports),s=i(toInteger.exports);function i(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default}(getWeekOfMonth,getWeekOfMonth.exports);var getWeeksInMonth={exports:{}},lastDayOfMonth={exports:{}};!function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){(0,n.default)(1,arguments);var t=(0,r.default)(e),a=t.getMonth();return t.setFullYear(t.getFullYear(),a+1,0),t.setHours(0,0,0,0),t};var r=a(toDate.exports),n=a(requiredArgs.exports);function a(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default}(lastDayOfMonth,lastDayOfMonth.exports),function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){return(0,o.default)(1,arguments),(0,r.default)((0,n.default)(e),(0,a.default)(e),t)+1};var r=s(differenceInCalendarWeeks.exports),n=s(lastDayOfMonth.exports),a=s(startOfMonth.exports),o=s(requiredArgs.exports);function s(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default}(getWeeksInMonth,getWeeksInMonth.exports);var getYear={exports:{}};!function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,n.default)(1,arguments),(0,r.default)(e).getFullYear()};var r=a(toDate.exports),n=a(requiredArgs.exports);function a(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default}(getYear,getYear.exports);var hoursToMilliseconds={exports:{}};!function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,n.default)(1,arguments),Math.floor(e*a.millisecondsInHour)};var r,n=(r=requiredArgs.exports)&&r.__esModule?r:{default:r},a=constants;e.exports=t.default}(hoursToMilliseconds,hoursToMilliseconds.exports);var hoursToMinutes={exports:{}};!function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,n.default)(1,arguments),Math.floor(e*a.minutesInHour)};var r,n=(r=requiredArgs.exports)&&r.__esModule?r:{default:r},a=constants;e.exports=t.default}(hoursToMinutes,hoursToMinutes.exports);var hoursToSeconds={exports:{}};!function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,n.default)(1,arguments),Math.floor(e*a.secondsInHour)};var r,n=(r=requiredArgs.exports)&&r.__esModule?r:{default:r},a=constants;e.exports=t.default}(hoursToSeconds,hoursToSeconds.exports);var intervalToDuration={exports:{}},sub={exports:{}},subDays={exports:{}};!function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){(0,a.default)(2,arguments);var o=(0,r.default)(t);return(0,n.default)(e,-o)};var r=o(toInteger.exports),n=o(addDays.exports),a=o(requiredArgs.exports);function o(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default}(subDays,subDays.exports);var subMonths={exports:{}};!function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){(0,a.default)(2,arguments);var o=(0,r.default)(t);return(0,n.default)(e,-o)};var r=o(toInteger.exports),n=o(addMonths.exports),a=o(requiredArgs.exports);function o(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default}(subMonths,subMonths.exports),function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if((0,a.default)(2,arguments),!t||"object"!=typeof t)return new Date(NaN);var s=t.years?(0,o.default)(t.years):0,i=t.months?(0,o.default)(t.months):0,u=t.weeks?(0,o.default)(t.weeks):0,c=t.days?(0,o.default)(t.days):0,l=t.hours?(0,o.default)(t.hours):0,d=t.minutes?(0,o.default)(t.minutes):0,f=t.seconds?(0,o.default)(t.seconds):0,_=(0,n.default)(e,i+12*s),p=(0,r.default)(_,c+7*u),g=1e3*(f+60*(d+60*l));return new Date(p.getTime()-g)};var r=s(subDays.exports),n=s(subMonths.exports),a=s(requiredArgs.exports),o=s(toInteger.exports);function s(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default}(sub,sub.exports),function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.start,_=e.end;(0,l.default)(1,arguments);var p=(0,d.default)(t),g=(0,d.default)(_);if(!(0,c.default)(p))throw new RangeError("Start Date is invalid");if(!(0,c.default)(g))throw new RangeError("End Date is invalid");var h={years:0,months:0,days:0,hours:0,minutes:0,seconds:0},m=(0,r.default)(p,g);h.years=Math.abs((0,n.default)(p,g));var v=(0,f.default)(p,{years:m*h.years});h.months=Math.abs((0,a.default)(v,g));var y=(0,f.default)(v,{months:m*h.months});h.days=Math.abs((0,o.default)(y,g));var x=(0,f.default)(y,{days:m*h.days});h.hours=Math.abs((0,s.default)(x,g));var O=(0,f.default)(x,{hours:m*h.hours});h.minutes=Math.abs((0,i.default)(O,g));var E=(0,f.default)(O,{minutes:m*h.minutes});return h.seconds=Math.abs((0,u.default)(E,g)),h};var r=_(compareAsc.exports),n=_(differenceInYears.exports),a=_(differenceInMonths.exports),o=_(differenceInDays.exports),s=_(differenceInHours.exports),i=_(differenceInMinutes.exports),u=_(differenceInSeconds.exports),c=_(isValid.exports),l=_(requiredArgs.exports),d=_(toDate.exports),f=_(sub.exports);function _(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default}(intervalToDuration,intervalToDuration.exports);var intlFormat={exports:{}};!function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,r){var a,o;(0,n.default)(1,arguments),function(e){return void 0!==e&&!("locale"in e)}(t)?o=t:r=t;return new Intl.DateTimeFormat(null===(a=r)||void 0===a?void 0:a.locale,o).format(e)};var r,n=(r=requiredArgs.exports)&&r.__esModule?r:{default:r};e.exports=t.default}(intlFormat,intlFormat.exports);var isAfter={exports:{}};!function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){(0,n.default)(2,arguments);var a=(0,r.default)(e),o=(0,r.default)(t);return a.getTime()>o.getTime()};var r=a(toDate.exports),n=a(requiredArgs.exports);function a(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default}(isAfter,isAfter.exports);var isBefore={exports:{}};!function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){(0,n.default)(2,arguments);var a=(0,r.default)(e),o=(0,r.default)(t);return a.getTime()<o.getTime()};var r=a(toDate.exports),n=a(requiredArgs.exports);function a(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default}(isBefore,isBefore.exports);var isEqual={exports:{}};!function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){(0,n.default)(2,arguments);var a=(0,r.default)(e),o=(0,r.default)(t);return a.getTime()===o.getTime()};var r=a(toDate.exports),n=a(requiredArgs.exports);function a(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default}(isEqual,isEqual.exports);var isExists={exports:{}};!function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,r){if(arguments.length<3)throw new TypeError("3 argument required, but only "+arguments.length+" present");var n=new Date(e,t,r);return n.getFullYear()===e&&n.getMonth()===t&&n.getDate()===r},e.exports=t.default}(isExists,isExists.exports);var isFirstDayOfMonth={exports:{}};!function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,n.default)(1,arguments),1===(0,r.default)(e).getDate()};var r=a(toDate.exports),n=a(requiredArgs.exports);function a(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default}(isFirstDayOfMonth,isFirstDayOfMonth.exports);var isFriday={exports:{}};!function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,n.default)(1,arguments),5===(0,r.default)(e).getDay()};var r=a(toDate.exports),n=a(requiredArgs.exports);function a(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default}(isFriday,isFriday.exports);var isFuture={exports:{}};!function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,n.default)(1,arguments),(0,r.default)(e).getTime()>Date.now()};var r=a(toDate.exports),n=a(requiredArgs.exports);function a(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default}(isFuture,isFuture.exports);var isMatch={exports:{}},parse={exports:{}},parsers={exports:{}},setUTCDay={exports:{}};!function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,o){(0,n.default)(2,arguments);var s=o||{},i=s.locale,u=i&&i.options&&i.options.weekStartsOn,c=null==u?0:(0,a.default)(u),l=null==s.weekStartsOn?c:(0,a.default)(s.weekStartsOn);if(!(l>=0&&l<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var d=(0,r.default)(e),f=(0,a.default)(t),_=d.getUTCDay(),p=((f%7+7)%7<l?7:0)+f-_;return d.setUTCDate(d.getUTCDate()+p),d};var r=o(toDate.exports),n=o(requiredArgs.exports),a=o(toInteger.exports);function o(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default}(setUTCDay,setUTCDay.exports);var setUTCISODay={exports:{}};!function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){(0,n.default)(2,arguments);var o=(0,a.default)(t);o%7==0&&(o-=7);var s=(0,r.default)(e),i=s.getUTCDay(),u=((o%7+7)%7<1?7:0)+o-i;return s.setUTCDate(s.getUTCDate()+u),s};var r=o(toDate.exports),n=o(requiredArgs.exports),a=o(toInteger.exports);function o(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default}(setUTCISODay,setUTCISODay.exports);var setUTCISOWeek={exports:{}};!function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){(0,o.default)(2,arguments);var s=(0,n.default)(e),i=(0,r.default)(t),u=(0,a.default)(s)-i;return s.setUTCDate(s.getUTCDate()-7*u),s};var r=s(toInteger.exports),n=s(toDate.exports),a=s(getUTCISOWeek.exports),o=s(requiredArgs.exports);function s(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default}(setUTCISOWeek,setUTCISOWeek.exports);var setUTCWeek={exports:{}};!function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,s){(0,o.default)(2,arguments);var i=(0,n.default)(e),u=(0,r.default)(t),c=(0,a.default)(i,s)-u;return i.setUTCDate(i.getUTCDate()-7*c),i};var r=s(toInteger.exports),n=s(toDate.exports),a=s(getUTCWeek.exports),o=s(requiredArgs.exports);function s(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default}(setUTCWeek,setUTCWeek.exports),function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=c(getUTCWeekYear.exports),n=c(setUTCDay.exports),a=c(setUTCISODay.exports),o=c(setUTCISOWeek.exports),s=c(setUTCWeek.exports),i=c(startOfUTCISOWeek.exports),u=c(startOfUTCWeek.exports);function c(e){return e&&e.__esModule?e:{default:e}}var l=36e5,d=6e4,f=1e3,_={month:/^(1[0-2]|0?\d)/,date:/^(3[0-1]|[0-2]?\d)/,dayOfYear:/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,week:/^(5[0-3]|[0-4]?\d)/,hour23h:/^(2[0-3]|[0-1]?\d)/,hour24h:/^(2[0-4]|[0-1]?\d)/,hour11h:/^(1[0-1]|0?\d)/,hour12h:/^(1[0-2]|0?\d)/,minute:/^[0-5]?\d/,second:/^[0-5]?\d/,singleDigit:/^\d/,twoDigits:/^\d{1,2}/,threeDigits:/^\d{1,3}/,fourDigits:/^\d{1,4}/,anyDigitsSigned:/^-?\d+/,singleDigitSigned:/^-?\d/,twoDigitsSigned:/^-?\d{1,2}/,threeDigitsSigned:/^-?\d{1,3}/,fourDigitsSigned:/^-?\d{1,4}/},p=/^([+-])(\d{2})(\d{2})?|Z/,g=/^([+-])(\d{2})(\d{2})|Z/,h=/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,m=/^([+-])(\d{2}):(\d{2})|Z/,v=/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/;function y(e,t,r){var n=t.match(e);if(!n)return null;var a=parseInt(n[0],10);return{value:r?r(a):a,rest:t.slice(n[0].length)}}function x(e,t){var r=t.match(e);if(!r)return null;if("Z"===r[0])return{value:0,rest:t.slice(1)};var n="+"===r[1]?1:-1,a=r[2]?parseInt(r[2],10):0,o=r[3]?parseInt(r[3],10):0,s=r[5]?parseInt(r[5],10):0;return{value:n*(a*l+o*d+s*f),rest:t.slice(r[0].length)}}function O(e,t){return y(_.anyDigitsSigned,e,t)}function E(e,t,r){switch(e){case 1:return y(_.singleDigit,t,r);case 2:return y(_.twoDigits,t,r);case 3:return y(_.threeDigits,t,r);case 4:return y(_.fourDigits,t,r);default:return y(new RegExp("^\\d{1,"+e+"}"),t,r)}}function M(e,t,r){switch(e){case 1:return y(_.singleDigitSigned,t,r);case 2:return y(_.twoDigitsSigned,t,r);case 3:return y(_.threeDigitsSigned,t,r);case 4:return y(_.fourDigitsSigned,t,r);default:return y(new RegExp("^-?\\d{1,"+e+"}"),t,r)}}function b(e){switch(e){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;default:return 0}}function D(e,t){var r,n=t>0,a=n?t:1-t;if(a<=50)r=e||100;else{var o=a+50;r=e+100*Math.floor(o/100)-(e>=o%100?100:0)}return n?r:1-r}var P=[31,28,31,30,31,30,31,31,30,31,30,31],T=[31,29,31,30,31,30,31,31,30,31,30,31];function I(e){return e%400==0||e%4==0&&e%100!=0}var C={G:{priority:140,parse:function(e,t,r,n){switch(t){case"G":case"GG":case"GGG":return r.era(e,{width:"abbreviated"})||r.era(e,{width:"narrow"});case"GGGGG":return r.era(e,{width:"narrow"});default:return r.era(e,{width:"wide"})||r.era(e,{width:"abbreviated"})||r.era(e,{width:"narrow"})}},set:function(e,t,r,n){return t.era=r,e.setUTCFullYear(r,0,1),e.setUTCHours(0,0,0,0),e},incompatibleTokens:["R","u","t","T"]},y:{priority:130,parse:function(e,t,r,n){var a=function(e){return{year:e,isTwoDigitYear:"yy"===t}};switch(t){case"y":return E(4,e,a);case"yo":return r.ordinalNumber(e,{unit:"year",valueCallback:a});default:return E(t.length,e,a)}},validate:function(e,t,r){return t.isTwoDigitYear||t.year>0},set:function(e,t,r,n){var a=e.getUTCFullYear();if(r.isTwoDigitYear){var o=D(r.year,a);return e.setUTCFullYear(o,0,1),e.setUTCHours(0,0,0,0),e}var s="era"in t&&1!==t.era?1-r.year:r.year;return e.setUTCFullYear(s,0,1),e.setUTCHours(0,0,0,0),e},incompatibleTokens:["Y","R","u","w","I","i","e","c","t","T"]},Y:{priority:130,parse:function(e,t,r,n){var a=function(e){return{year:e,isTwoDigitYear:"YY"===t}};switch(t){case"Y":return E(4,e,a);case"Yo":return r.ordinalNumber(e,{unit:"year",valueCallback:a});default:return E(t.length,e,a)}},validate:function(e,t,r){return t.isTwoDigitYear||t.year>0},set:function(e,t,n,a){var o=(0,r.default)(e,a);if(n.isTwoDigitYear){var s=D(n.year,o);return e.setUTCFullYear(s,0,a.firstWeekContainsDate),e.setUTCHours(0,0,0,0),(0,u.default)(e,a)}var i="era"in t&&1!==t.era?1-n.year:n.year;return e.setUTCFullYear(i,0,a.firstWeekContainsDate),e.setUTCHours(0,0,0,0),(0,u.default)(e,a)},incompatibleTokens:["y","R","u","Q","q","M","L","I","d","D","i","t","T"]},R:{priority:130,parse:function(e,t,r,n){return M("R"===t?4:t.length,e)},set:function(e,t,r,n){var a=new Date(0);return a.setUTCFullYear(r,0,4),a.setUTCHours(0,0,0,0),(0,i.default)(a)},incompatibleTokens:["G","y","Y","u","Q","q","M","L","w","d","D","e","c","t","T"]},u:{priority:130,parse:function(e,t,r,n){return M("u"===t?4:t.length,e)},set:function(e,t,r,n){return e.setUTCFullYear(r,0,1),e.setUTCHours(0,0,0,0),e},incompatibleTokens:["G","y","Y","R","w","I","i","e","c","t","T"]},Q:{priority:120,parse:function(e,t,r,n){switch(t){case"Q":case"QQ":return E(t.length,e);case"Qo":return r.ordinalNumber(e,{unit:"quarter"});case"QQQ":return r.quarter(e,{width:"abbreviated",context:"formatting"})||r.quarter(e,{width:"narrow",context:"formatting"});case"QQQQQ":return r.quarter(e,{width:"narrow",context:"formatting"});default:return r.quarter(e,{width:"wide",context:"formatting"})||r.quarter(e,{width:"abbreviated",context:"formatting"})||r.quarter(e,{width:"narrow",context:"formatting"})}},validate:function(e,t,r){return t>=1&&t<=4},set:function(e,t,r,n){return e.setUTCMonth(3*(r-1),1),e.setUTCHours(0,0,0,0),e},incompatibleTokens:["Y","R","q","M","L","w","I","d","D","i","e","c","t","T"]},q:{priority:120,parse:function(e,t,r,n){switch(t){case"q":case"qq":return E(t.length,e);case"qo":return r.ordinalNumber(e,{unit:"quarter"});case"qqq":return r.quarter(e,{width:"abbreviated",context:"standalone"})||r.quarter(e,{width:"narrow",context:"standalone"});case"qqqqq":return r.quarter(e,{width:"narrow",context:"standalone"});default:return r.quarter(e,{width:"wide",context:"standalone"})||r.quarter(e,{width:"abbreviated",context:"standalone"})||r.quarter(e,{width:"narrow",context:"standalone"})}},validate:function(e,t,r){return t>=1&&t<=4},set:function(e,t,r,n){return e.setUTCMonth(3*(r-1),1),e.setUTCHours(0,0,0,0),e},incompatibleTokens:["Y","R","Q","M","L","w","I","d","D","i","e","c","t","T"]},M:{priority:110,parse:function(e,t,r,n){var a=function(e){return e-1};switch(t){case"M":return y(_.month,e,a);case"MM":return E(2,e,a);case"Mo":return r.ordinalNumber(e,{unit:"month",valueCallback:a});case"MMM":return r.month(e,{width:"abbreviated",context:"formatting"})||r.month(e,{width:"narrow",context:"formatting"});case"MMMMM":return r.month(e,{width:"narrow",context:"formatting"});default:return r.month(e,{width:"wide",context:"formatting"})||r.month(e,{width:"abbreviated",context:"formatting"})||r.month(e,{width:"narrow",context:"formatting"})}},validate:function(e,t,r){return t>=0&&t<=11},set:function(e,t,r,n){return e.setUTCMonth(r,1),e.setUTCHours(0,0,0,0),e},incompatibleTokens:["Y","R","q","Q","L","w","I","D","i","e","c","t","T"]},L:{priority:110,parse:function(e,t,r,n){var a=function(e){return e-1};switch(t){case"L":return y(_.month,e,a);case"LL":return E(2,e,a);case"Lo":return r.ordinalNumber(e,{unit:"month",valueCallback:a});case"LLL":return r.month(e,{width:"abbreviated",context:"standalone"})||r.month(e,{width:"narrow",context:"standalone"});case"LLLLL":return r.month(e,{width:"narrow",context:"standalone"});default:return r.month(e,{width:"wide",context:"standalone"})||r.month(e,{width:"abbreviated",context:"standalone"})||r.month(e,{width:"narrow",context:"standalone"})}},validate:function(e,t,r){return t>=0&&t<=11},set:function(e,t,r,n){return e.setUTCMonth(r,1),e.setUTCHours(0,0,0,0),e},incompatibleTokens:["Y","R","q","Q","M","w","I","D","i","e","c","t","T"]},w:{priority:100,parse:function(e,t,r,n){switch(t){case"w":return y(_.week,e);case"wo":return r.ordinalNumber(e,{unit:"week"});default:return E(t.length,e)}},validate:function(e,t,r){return t>=1&&t<=53},set:function(e,t,r,n){return(0,u.default)((0,s.default)(e,r,n),n)},incompatibleTokens:["y","R","u","q","Q","M","L","I","d","D","i","t","T"]},I:{priority:100,parse:function(e,t,r,n){switch(t){case"I":return y(_.week,e);case"Io":return r.ordinalNumber(e,{unit:"week"});default:return E(t.length,e)}},validate:function(e,t,r){return t>=1&&t<=53},set:function(e,t,r,n){return(0,i.default)((0,o.default)(e,r,n),n)},incompatibleTokens:["y","Y","u","q","Q","M","L","w","d","D","e","c","t","T"]},d:{priority:90,subPriority:1,parse:function(e,t,r,n){switch(t){case"d":return y(_.date,e);case"do":return r.ordinalNumber(e,{unit:"date"});default:return E(t.length,e)}},validate:function(e,t,r){var n=I(e.getUTCFullYear()),a=e.getUTCMonth();return n?t>=1&&t<=T[a]:t>=1&&t<=P[a]},set:function(e,t,r,n){return e.setUTCDate(r),e.setUTCHours(0,0,0,0),e},incompatibleTokens:["Y","R","q","Q","w","I","D","i","e","c","t","T"]},D:{priority:90,subPriority:1,parse:function(e,t,r,n){switch(t){case"D":case"DD":return y(_.dayOfYear,e);case"Do":return r.ordinalNumber(e,{unit:"date"});default:return E(t.length,e)}},validate:function(e,t,r){return I(e.getUTCFullYear())?t>=1&&t<=366:t>=1&&t<=365},set:function(e,t,r,n){return e.setUTCMonth(0,r),e.setUTCHours(0,0,0,0),e},incompatibleTokens:["Y","R","q","Q","M","L","w","I","d","E","i","e","c","t","T"]},E:{priority:90,parse:function(e,t,r,n){switch(t){case"E":case"EE":case"EEE":return r.day(e,{width:"abbreviated",context:"formatting"})||r.day(e,{width:"short",context:"formatting"})||r.day(e,{width:"narrow",context:"formatting"});case"EEEEE":return r.day(e,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(e,{width:"short",context:"formatting"})||r.day(e,{width:"narrow",context:"formatting"});default:return r.day(e,{width:"wide",context:"formatting"})||r.day(e,{width:"abbreviated",context:"formatting"})||r.day(e,{width:"short",context:"formatting"})||r.day(e,{width:"narrow",context:"formatting"})}},validate:function(e,t,r){return t>=0&&t<=6},set:function(e,t,r,a){return(e=(0,n.default)(e,r,a)).setUTCHours(0,0,0,0),e},incompatibleTokens:["D","i","e","c","t","T"]},e:{priority:90,parse:function(e,t,r,n){var a=function(e){var t=7*Math.floor((e-1)/7);return(e+n.weekStartsOn+6)%7+t};switch(t){case"e":case"ee":return E(t.length,e,a);case"eo":return r.ordinalNumber(e,{unit:"day",valueCallback:a});case"eee":return r.day(e,{width:"abbreviated",context:"formatting"})||r.day(e,{width:"short",context:"formatting"})||r.day(e,{width:"narrow",context:"formatting"});case"eeeee":return r.day(e,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(e,{width:"short",context:"formatting"})||r.day(e,{width:"narrow",context:"formatting"});default:return r.day(e,{width:"wide",context:"formatting"})||r.day(e,{width:"abbreviated",context:"formatting"})||r.day(e,{width:"short",context:"formatting"})||r.day(e,{width:"narrow",context:"formatting"})}},validate:function(e,t,r){return t>=0&&t<=6},set:function(e,t,r,a){return(e=(0,n.default)(e,r,a)).setUTCHours(0,0,0,0),e},incompatibleTokens:["y","R","u","q","Q","M","L","I","d","D","E","i","c","t","T"]},c:{priority:90,parse:function(e,t,r,n){var a=function(e){var t=7*Math.floor((e-1)/7);return(e+n.weekStartsOn+6)%7+t};switch(t){case"c":case"cc":return E(t.length,e,a);case"co":return r.ordinalNumber(e,{unit:"day",valueCallback:a});case"ccc":return r.day(e,{width:"abbreviated",context:"standalone"})||r.day(e,{width:"short",context:"standalone"})||r.day(e,{width:"narrow",context:"standalone"});case"ccccc":return r.day(e,{width:"narrow",context:"standalone"});case"cccccc":return r.day(e,{width:"short",context:"standalone"})||r.day(e,{width:"narrow",context:"standalone"});default:return r.day(e,{width:"wide",context:"standalone"})||r.day(e,{width:"abbreviated",context:"standalone"})||r.day(e,{width:"short",context:"standalone"})||r.day(e,{width:"narrow",context:"standalone"})}},validate:function(e,t,r){return t>=0&&t<=6},set:function(e,t,r,a){return(e=(0,n.default)(e,r,a)).setUTCHours(0,0,0,0),e},incompatibleTokens:["y","R","u","q","Q","M","L","I","d","D","E","i","e","t","T"]},i:{priority:90,parse:function(e,t,r,n){var a=function(e){return 0===e?7:e};switch(t){case"i":case"ii":return E(t.length,e);case"io":return r.ordinalNumber(e,{unit:"day"});case"iii":return r.day(e,{width:"abbreviated",context:"formatting",valueCallback:a})||r.day(e,{width:"short",context:"formatting",valueCallback:a})||r.day(e,{width:"narrow",context:"formatting",valueCallback:a});case"iiiii":return r.day(e,{width:"narrow",context:"formatting",valueCallback:a});case"iiiiii":return r.day(e,{width:"short",context:"formatting",valueCallback:a})||r.day(e,{width:"narrow",context:"formatting",valueCallback:a});default:return r.day(e,{width:"wide",context:"formatting",valueCallback:a})||r.day(e,{width:"abbreviated",context:"formatting",valueCallback:a})||r.day(e,{width:"short",context:"formatting",valueCallback:a})||r.day(e,{width:"narrow",context:"formatting",valueCallback:a})}},validate:function(e,t,r){return t>=1&&t<=7},set:function(e,t,r,n){return(e=(0,a.default)(e,r,n)).setUTCHours(0,0,0,0),e},incompatibleTokens:["y","Y","u","q","Q","M","L","w","d","D","E","e","c","t","T"]},a:{priority:80,parse:function(e,t,r,n){switch(t){case"a":case"aa":case"aaa":return r.dayPeriod(e,{width:"abbreviated",context:"formatting"})||r.dayPeriod(e,{width:"narrow",context:"formatting"});case"aaaaa":return r.dayPeriod(e,{width:"narrow",context:"formatting"});default:return r.dayPeriod(e,{width:"wide",context:"formatting"})||r.dayPeriod(e,{width:"abbreviated",context:"formatting"})||r.dayPeriod(e,{width:"narrow",context:"formatting"})}},set:function(e,t,r,n){return e.setUTCHours(b(r),0,0,0),e},incompatibleTokens:["b","B","H","k","t","T"]},b:{priority:80,parse:function(e,t,r,n){switch(t){case"b":case"bb":case"bbb":return r.dayPeriod(e,{width:"abbreviated",context:"formatting"})||r.dayPeriod(e,{width:"narrow",context:"formatting"});case"bbbbb":return r.dayPeriod(e,{width:"narrow",context:"formatting"});default:return r.dayPeriod(e,{width:"wide",context:"formatting"})||r.dayPeriod(e,{width:"abbreviated",context:"formatting"})||r.dayPeriod(e,{width:"narrow",context:"formatting"})}},set:function(e,t,r,n){return e.setUTCHours(b(r),0,0,0),e},incompatibleTokens:["a","B","H","k","t","T"]},B:{priority:80,parse:function(e,t,r,n){switch(t){case"B":case"BB":case"BBB":return r.dayPeriod(e,{width:"abbreviated",context:"formatting"})||r.dayPeriod(e,{width:"narrow",context:"formatting"});case"BBBBB":return r.dayPeriod(e,{width:"narrow",context:"formatting"});default:return r.dayPeriod(e,{width:"wide",context:"formatting"})||r.dayPeriod(e,{width:"abbreviated",context:"formatting"})||r.dayPeriod(e,{width:"narrow",context:"formatting"})}},set:function(e,t,r,n){return e.setUTCHours(b(r),0,0,0),e},incompatibleTokens:["a","b","t","T"]},h:{priority:70,parse:function(e,t,r,n){switch(t){case"h":return y(_.hour12h,e);case"ho":return r.ordinalNumber(e,{unit:"hour"});default:return E(t.length,e)}},validate:function(e,t,r){return t>=1&&t<=12},set:function(e,t,r,n){var a=e.getUTCHours()>=12;return a&&r<12?e.setUTCHours(r+12,0,0,0):a||12!==r?e.setUTCHours(r,0,0,0):e.setUTCHours(0,0,0,0),e},incompatibleTokens:["H","K","k","t","T"]},H:{priority:70,parse:function(e,t,r,n){switch(t){case"H":return y(_.hour23h,e);case"Ho":return r.ordinalNumber(e,{unit:"hour"});default:return E(t.length,e)}},validate:function(e,t,r){return t>=0&&t<=23},set:function(e,t,r,n){return e.setUTCHours(r,0,0,0),e},incompatibleTokens:["a","b","h","K","k","t","T"]},K:{priority:70,parse:function(e,t,r,n){switch(t){case"K":return y(_.hour11h,e);case"Ko":return r.ordinalNumber(e,{unit:"hour"});default:return E(t.length,e)}},validate:function(e,t,r){return t>=0&&t<=11},set:function(e,t,r,n){return e.getUTCHours()>=12&&r<12?e.setUTCHours(r+12,0,0,0):e.setUTCHours(r,0,0,0),e},incompatibleTokens:["h","H","k","t","T"]},k:{priority:70,parse:function(e,t,r,n){switch(t){case"k":return y(_.hour24h,e);case"ko":return r.ordinalNumber(e,{unit:"hour"});default:return E(t.length,e)}},validate:function(e,t,r){return t>=1&&t<=24},set:function(e,t,r,n){var a=r<=24?r%24:r;return e.setUTCHours(a,0,0,0),e},incompatibleTokens:["a","b","h","H","K","t","T"]},m:{priority:60,parse:function(e,t,r,n){switch(t){case"m":return y(_.minute,e);case"mo":return r.ordinalNumber(e,{unit:"minute"});default:return E(t.length,e)}},validate:function(e,t,r){return t>=0&&t<=59},set:function(e,t,r,n){return e.setUTCMinutes(r,0,0),e},incompatibleTokens:["t","T"]},s:{priority:50,parse:function(e,t,r,n){switch(t){case"s":return y(_.second,e);case"so":return r.ordinalNumber(e,{unit:"second"});default:return E(t.length,e)}},validate:function(e,t,r){return t>=0&&t<=59},set:function(e,t,r,n){return e.setUTCSeconds(r,0),e},incompatibleTokens:["t","T"]},S:{priority:30,parse:function(e,t,r,n){return E(t.length,e,(function(e){return Math.floor(e*Math.pow(10,3-t.length))}))},set:function(e,t,r,n){return e.setUTCMilliseconds(r),e},incompatibleTokens:["t","T"]},X:{priority:10,parse:function(e,t,r,n){switch(t){case"X":return x(p,e);case"XX":return x(g,e);case"XXXX":return x(h,e);case"XXXXX":return x(v,e);default:return x(m,e)}},set:function(e,t,r,n){return t.timestampIsSet?e:new Date(e.getTime()-r)},incompatibleTokens:["t","T","x"]},x:{priority:10,parse:function(e,t,r,n){switch(t){case"x":return x(p,e);case"xx":return x(g,e);case"xxxx":return x(h,e);case"xxxxx":return x(v,e);default:return x(m,e)}},set:function(e,t,r,n){return t.timestampIsSet?e:new Date(e.getTime()-r)},incompatibleTokens:["t","T","X"]},t:{priority:40,parse:function(e,t,r,n){return O(e)},set:function(e,t,r,n){return[new Date(1e3*r),{timestampIsSet:!0}]},incompatibleTokens:"*"},T:{priority:20,parse:function(e,t,r,n){return O(e)},set:function(e,t,r,n){return[new Date(r),{timestampIsSet:!0}]},incompatibleTokens:"*"}},w=C;t.default=w,e.exports=t.default}(parsers,parsers.exports),function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,f,O){(0,d.default)(3,arguments);var E=String(e),M=String(t),b=O||{},D=b.locale||r.default;if(!D.match)throw new RangeError("locale must contain match property");var P=D.options&&D.options.firstWeekContainsDate,T=null==P?1:(0,c.default)(P),I=null==b.firstWeekContainsDate?T:(0,c.default)(b.firstWeekContainsDate);if(!(I>=1&&I<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var C=D.options&&D.options.weekStartsOn,w=null==C?0:(0,c.default)(C),S=null==b.weekStartsOn?w:(0,c.default)(b.weekStartsOn);if(!(S>=0&&S<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(""===M)return""===E?(0,a.default)(f):new Date(NaN);var k,A={firstWeekContainsDate:I,weekStartsOn:S,locale:D},R=[{priority:_,subPriority:-1,set:x,index:0}],W=M.match(g).map((function(e){var t=e[0];return"p"===t||"P"===t?(0,s.default[t])(e,D.formatLong,A):e})).join("").match(p),U=[];for(k=0;k<W.length;k++){var L=W[k];!b.useAdditionalWeekYearTokens&&(0,u.isProtectedWeekYearToken)(L)&&(0,u.throwProtectedError)(L,M,e),!b.useAdditionalDayOfYearTokens&&(0,u.isProtectedDayOfYearToken)(L)&&(0,u.throwProtectedError)(L,M,e);var B=L[0],N=l.default[B];if(N){var j=N.incompatibleTokens;if(Array.isArray(j)){for(var K=void 0,Y=0;Y<U.length;Y++){var q=U[Y].token;if(-1!==j.indexOf(q)||q===B){K=U[Y];break}}if(K)throw new RangeError("The format string mustn't contain `".concat(K.fullToken,"` and `").concat(L,"` at the same time"))}else if("*"===N.incompatibleTokens&&U.length)throw new RangeError("The format string mustn't contain `".concat(L,"` and any other token at the same time"));U.push({token:B,fullToken:L});var F=N.parse(E,L,D.match,A);if(!F)return new Date(NaN);R.push({priority:N.priority,subPriority:N.subPriority||0,set:N.set,validate:N.validate,value:F.value,index:R.length}),E=F.rest}else{if(B.match(y))throw new RangeError("Format string contains an unescaped latin alphabet character `"+B+"`");if("''"===L?L="'":"'"===B&&(L=L.match(h)[1].replace(m,"'")),0!==E.indexOf(L))return new Date(NaN);E=E.slice(L.length)}}if(E.length>0&&v.test(E))return new Date(NaN);var $=R.map((function(e){return e.priority})).sort((function(e,t){return t-e})).filter((function(e,t,r){return r.indexOf(e)===t})).map((function(e){return R.filter((function(t){return t.priority===e})).sort((function(e,t){return t.subPriority-e.subPriority}))})).map((function(e){return e[0]})),H=(0,a.default)(f);if(isNaN(H))return new Date(NaN);var Q=(0,n.default)(H,(0,i.default)(H)),V={};for(k=0;k<$.length;k++){var z=$[k];if(z.validate&&!z.validate(Q,z.value,A))return new Date(NaN);var G=z.set(Q,V,z.value,A);G[0]?(Q=G[0],(0,o.default)(V,G[1])):Q=G}return Q};var r=f(enUS.exports),n=f(subMilliseconds.exports),a=f(toDate.exports),o=f(assign.exports),s=f(longFormatters.exports),i=f(getTimezoneOffsetInMilliseconds.exports),u=protectedTokens,c=f(toInteger.exports),l=f(parsers.exports),d=f(requiredArgs.exports);function f(e){return e&&e.__esModule?e:{default:e}}var _=10,p=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,g=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,h=/^'([^]*?)'?$/,m=/''/g,v=/\S/,y=/[a-zA-Z]/;function x(e,t){if(t.timestampIsSet)return e;var r=new Date(0);return r.setFullYear(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate()),r.setHours(e.getUTCHours(),e.getUTCMinutes(),e.getUTCSeconds(),e.getUTCMilliseconds()),r}e.exports=t.default}(parse,parse.exports),function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,o){return(0,a.default)(2,arguments),(0,n.default)((0,r.default)(e,t,new Date,o))};var r=o(parse.exports),n=o(isValid.exports),a=o(requiredArgs.exports);function o(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default}(isMatch,isMatch.exports);var isMonday={exports:{}};!function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,n.default)(1,arguments),1===(0,r.default)(e).getDay()};var r=a(toDate.exports),n=a(requiredArgs.exports);function a(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default}(isMonday,isMonday.exports);var isPast={exports:{}};!function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,n.default)(1,arguments),(0,r.default)(e).getTime()<Date.now()};var r=a(toDate.exports),n=a(requiredArgs.exports);function a(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default}(isPast,isPast.exports);var isSameHour={exports:{}},startOfHour={exports:{}};!function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){(0,n.default)(1,arguments);var t=(0,r.default)(e);return t.setMinutes(0,0,0),t};var r=a(toDate.exports),n=a(requiredArgs.exports);function a(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default}(startOfHour,startOfHour.exports),function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){(0,n.default)(2,arguments);var a=(0,r.default)(e),o=(0,r.default)(t);return a.getTime()===o.getTime()};var r=a(startOfHour.exports),n=a(requiredArgs.exports);function a(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default}(isSameHour,isSameHour.exports);var isSameISOWeek={exports:{}},isSameWeek={exports:{}};!function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,a){(0,n.default)(2,arguments);var o=(0,r.default)(e,a),s=(0,r.default)(t,a);return o.getTime()===s.getTime()};var r=a(startOfWeek.exports),n=a(requiredArgs.exports);function a(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default}(isSameWeek,isSameWeek.exports),function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){return(0,n.default)(2,arguments),(0,r.default)(e,t,{weekStartsOn:1})};var r=a(isSameWeek.exports),n=a(requiredArgs.exports);function a(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default}(isSameISOWeek,isSameISOWeek.exports);var isSameISOWeekYear={exports:{}};!function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){(0,n.default)(2,arguments);var a=(0,r.default)(e),o=(0,r.default)(t);return a.getTime()===o.getTime()};var r=a(startOfISOWeekYear.exports),n=a(requiredArgs.exports);function a(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default}(isSameISOWeekYear,isSameISOWeekYear.exports);var isSameMinute={exports:{}};!function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){(0,n.default)(2,arguments);var a=(0,r.default)(e),o=(0,r.default)(t);return a.getTime()===o.getTime()};var r=a(startOfMinute.exports),n=a(requiredArgs.exports);function a(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default}(isSameMinute,isSameMinute.exports);var isSameMonth={exports:{}};!function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){(0,n.default)(2,arguments);var a=(0,r.default)(e),o=(0,r.default)(t);return a.getFullYear()===o.getFullYear()&&a.getMonth()===o.getMonth()};var r=a(toDate.exports),n=a(requiredArgs.exports);function a(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default}(isSameMonth,isSameMonth.exports);var isSameQuarter={exports:{}};!function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){(0,n.default)(2,arguments);var a=(0,r.default)(e),o=(0,r.default)(t);return a.getTime()===o.getTime()};var r=a(startOfQuarter.exports),n=a(requiredArgs.exports);function a(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default}(isSameQuarter,isSameQuarter.exports);var isSameSecond={exports:{}},startOfSecond={exports:{}};!function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){(0,n.default)(1,arguments);var t=(0,r.default)(e);return t.setMilliseconds(0),t};var r=a(toDate.exports),n=a(requiredArgs.exports);function a(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default}(startOfSecond,startOfSecond.exports),function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){(0,n.default)(2,arguments);var a=(0,r.default)(e),o=(0,r.default)(t);return a.getTime()===o.getTime()};var r=a(startOfSecond.exports),n=a(requiredArgs.exports);function a(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default}(isSameSecond,isSameSecond.exports);var isSameYear={exports:{}};!function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){(0,n.default)(2,arguments);var a=(0,r.default)(e),o=(0,r.default)(t);return a.getFullYear()===o.getFullYear()};var r=a(toDate.exports),n=a(requiredArgs.exports);function a(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default}(isSameYear,isSameYear.exports);var isThisHour={exports:{}};!function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,n.default)(1,arguments),(0,r.default)(Date.now(),e)};var r=a(isSameHour.exports),n=a(requiredArgs.exports);function a(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default}(isThisHour,isThisHour.exports);var isThisISOWeek={exports:{}};!function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,n.default)(1,arguments),(0,r.default)(e,Date.now())};var r=a(isSameISOWeek.exports),n=a(requiredArgs.exports);function a(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default}(isThisISOWeek,isThisISOWeek.exports);var isThisMinute={exports:{}};!function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,n.default)(1,arguments),(0,r.default)(Date.now(),e)};var r=a(isSameMinute.exports),n=a(requiredArgs.exports);function a(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default}(isThisMinute,isThisMinute.exports);var isThisMonth={exports:{}};!function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,n.default)(1,arguments),(0,r.default)(Date.now(),e)};var r=a(isSameMonth.exports),n=a(requiredArgs.exports);function a(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default}(isThisMonth,isThisMonth.exports);var isThisQuarter={exports:{}};!function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,n.default)(1,arguments),(0,r.default)(Date.now(),e)};var r=a(isSameQuarter.exports),n=a(requiredArgs.exports);function a(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default}(isThisQuarter,isThisQuarter.exports);var isThisSecond={exports:{}};!function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,n.default)(1,arguments),(0,r.default)(Date.now(),e)};var r=a(isSameSecond.exports),n=a(requiredArgs.exports);function a(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default}(isThisSecond,isThisSecond.exports);var isThisWeek={exports:{}};!function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){return(0,n.default)(1,arguments),(0,r.default)(e,Date.now(),t)};var r=a(isSameWeek.exports),n=a(requiredArgs.exports);function a(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default}(isThisWeek,isThisWeek.exports);var isThisYear={exports:{}};!function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,n.default)(1,arguments),(0,r.default)(e,Date.now())};var r=a(isSameYear.exports),n=a(requiredArgs.exports);function a(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default}(isThisYear,isThisYear.exports);var isThursday={exports:{}};!function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,n.default)(1,arguments),4===(0,r.default)(e).getDay()};var r=a(toDate.exports),n=a(requiredArgs.exports);function a(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default}(isThursday,isThursday.exports);var isToday={exports:{}};!function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,n.default)(1,arguments),(0,r.default)(e,Date.now())};var r=a(isSameDay.exports),n=a(requiredArgs.exports);function a(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default}(isToday,isToday.exports);var isTomorrow={exports:{}};!function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,a.default)(1,arguments),(0,n.default)(e,(0,r.default)(Date.now(),1))};var r=o(addDays.exports),n=o(isSameDay.exports),a=o(requiredArgs.exports);function o(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default}(isTomorrow,isTomorrow.exports);var isTuesday={exports:{}};!function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,n.default)(1,arguments),2===(0,r.default)(e).getDay()};var r=a(toDate.exports),n=a(requiredArgs.exports);function a(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default}(isTuesday,isTuesday.exports);var isWednesday={exports:{}};!function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,n.default)(1,arguments),3===(0,r.default)(e).getDay()};var r=a(toDate.exports),n=a(requiredArgs.exports);function a(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default}(isWednesday,isWednesday.exports);var isWithinInterval={exports:{}};!function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){(0,n.default)(2,arguments);var a=(0,r.default)(e).getTime(),o=(0,r.default)(t.start).getTime(),s=(0,r.default)(t.end).getTime();if(!(o<=s))throw new RangeError("Invalid interval");return a>=o&&a<=s};var r=a(toDate.exports),n=a(requiredArgs.exports);function a(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default}(isWithinInterval,isWithinInterval.exports);var isYesterday={exports:{}};!function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,a.default)(1,arguments),(0,r.default)(e,(0,n.default)(Date.now(),1))};var r=o(isSameDay.exports),n=o(subDays.exports),a=o(requiredArgs.exports);function o(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default}(isYesterday,isYesterday.exports);var lastDayOfDecade={exports:{}};!function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){(0,n.default)(1,arguments);var t=(0,r.default)(e),a=t.getFullYear(),o=9+10*Math.floor(a/10);return t.setFullYear(o+1,0,0),t.setHours(0,0,0,0),t};var r=a(toDate.exports),n=a(requiredArgs.exports);function a(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default}(lastDayOfDecade,lastDayOfDecade.exports);var lastDayOfISOWeek={exports:{}},lastDayOfWeek={exports:{}};!function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){(0,a.default)(1,arguments);var o=t||{},s=o.locale,i=s&&s.options&&s.options.weekStartsOn,u=null==i?0:(0,n.default)(i),c=null==o.weekStartsOn?u:(0,n.default)(o.weekStartsOn);if(!(c>=0&&c<=6))throw new RangeError("weekStartsOn must be between 0 and 6");var l=(0,r.default)(e),d=l.getDay(),f=6+(d<c?-7:0)-(d-c);return l.setHours(0,0,0,0),l.setDate(l.getDate()+f),l};var r=o(toDate.exports),n=o(toInteger.exports),a=o(requiredArgs.exports);function o(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default}(lastDayOfWeek,lastDayOfWeek.exports),function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,n.default)(1,arguments),(0,r.default)(e,{weekStartsOn:1})};var r=a(lastDayOfWeek.exports),n=a(requiredArgs.exports);function a(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default}(lastDayOfISOWeek,lastDayOfISOWeek.exports);var lastDayOfISOWeekYear={exports:{}};!function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){(0,a.default)(1,arguments);var t=(0,r.default)(e),o=new Date(0);o.setFullYear(t+1,0,4),o.setHours(0,0,0,0);var s=(0,n.default)(o);return s.setDate(s.getDate()-1),s};var r=o(getISOWeekYear.exports),n=o(startOfISOWeek.exports),a=o(requiredArgs.exports);function o(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default}(lastDayOfISOWeekYear,lastDayOfISOWeekYear.exports);var lastDayOfQuarter={exports:{}};!function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){(0,n.default)(1,arguments);var t=(0,r.default)(e),a=t.getMonth(),o=a-a%3+3;return t.setMonth(o,0),t.setHours(0,0,0,0),t};var r=a(toDate.exports),n=a(requiredArgs.exports);function a(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default}(lastDayOfQuarter,lastDayOfQuarter.exports);var lastDayOfYear={exports:{}};!function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){(0,n.default)(1,arguments);var t=(0,r.default)(e),a=t.getFullYear();return t.setFullYear(a+1,0,0),t.setHours(0,0,0,0),t};var r=a(toDate.exports),n=a(requiredArgs.exports);function a(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default}(lastDayOfYear,lastDayOfYear.exports);var lightFormat={exports:{}};!function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){(0,i.default)(2,arguments);var u=(0,r.default)(e);if(!(0,o.default)(u))throw new RangeError("Invalid time value");var _=(0,a.default)(u),p=(0,s.default)(u,_),g=t.match(c);return g?g.map((function(e){if("''"===e)return"'";var t=e[0];if("'"===t)return function(e){var t=e.match(l);if(!t)return e;return t[1].replace(d,"'")}(e);var r=n.default[t];if(r)return r(p,e);if(t.match(f))throw new RangeError("Format string contains an unescaped latin alphabet character `"+t+"`");return e})).join(""):""};var r=u(toDate.exports),n=u(lightFormatters.exports),a=u(getTimezoneOffsetInMilliseconds.exports),o=u(isValid.exports),s=u(subMilliseconds.exports),i=u(requiredArgs.exports);function u(e){return e&&e.__esModule?e:{default:e}}var c=/(\w)\1*|''|'(''|[^'])+('|$)|./g,l=/^'([^]*?)'?$/,d=/''/g,f=/[a-zA-Z]/;e.exports=t.default}(lightFormat,lightFormat.exports);var milliseconds={exports:{}};!function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.years,r=e.months,o=e.weeks,s=e.days,i=e.hours,u=e.minutes,c=e.seconds;(0,n.default)(1,arguments);var l=0;t&&(l+=t*a);r&&(l+=r*(a/12));o&&(l+=7*o);s&&(l+=s);var d=24*l*60*60;i&&(d+=60*i*60);u&&(d+=60*u);c&&(d+=c);return Math.round(1e3*d)};var r,n=(r=requiredArgs.exports)&&r.__esModule?r:{default:r};var a=365.2425;e.exports=t.default}(milliseconds,milliseconds.exports);var millisecondsToHours={exports:{}};!function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){(0,n.default)(1,arguments);var t=e/a.millisecondsInHour;return Math.floor(t)};var r,n=(r=requiredArgs.exports)&&r.__esModule?r:{default:r},a=constants;e.exports=t.default}(millisecondsToHours,millisecondsToHours.exports);var millisecondsToMinutes={exports:{}};!function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){(0,n.default)(1,arguments);var t=e/a.millisecondsInMinute;return Math.floor(t)};var r,n=(r=requiredArgs.exports)&&r.__esModule?r:{default:r},a=constants;e.exports=t.default}(millisecondsToMinutes,millisecondsToMinutes.exports);var millisecondsToSeconds={exports:{}};!function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){(0,n.default)(1,arguments);var t=e/a.millisecondsInSecond;return Math.floor(t)};var r,n=(r=requiredArgs.exports)&&r.__esModule?r:{default:r},a=constants;e.exports=t.default}(millisecondsToSeconds,millisecondsToSeconds.exports);var minutesToHours={exports:{}};!function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){(0,n.default)(1,arguments);var t=e/a.minutesInHour;return Math.floor(t)};var r,n=(r=requiredArgs.exports)&&r.__esModule?r:{default:r},a=constants;e.exports=t.default}(minutesToHours,minutesToHours.exports);var minutesToMilliseconds={exports:{}};!function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,n.default)(1,arguments),Math.floor(e*a.millisecondsInMinute)};var r,n=(r=requiredArgs.exports)&&r.__esModule?r:{default:r},a=constants;e.exports=t.default}(minutesToMilliseconds,minutesToMilliseconds.exports);var minutesToSeconds={exports:{}};!function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,n.default)(1,arguments),Math.floor(e*a.secondsInMinute)};var r,n=(r=requiredArgs.exports)&&r.__esModule?r:{default:r},a=constants;e.exports=t.default}(minutesToSeconds,minutesToSeconds.exports);var monthsToQuarters={exports:{}};!function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){(0,n.default)(1,arguments);var t=e/a.monthsInQuarter;return Math.floor(t)};var r,n=(r=requiredArgs.exports)&&r.__esModule?r:{default:r},a=constants;e.exports=t.default}(monthsToQuarters,monthsToQuarters.exports);var monthsToYears={exports:{}};!function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){(0,n.default)(1,arguments);var t=e/a.monthsInYear;return Math.floor(t)};var r,n=(r=requiredArgs.exports)&&r.__esModule?r:{default:r},a=constants;e.exports=t.default}(monthsToYears,monthsToYears.exports);var nextDay={exports:{}};!function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){(0,a.default)(2,arguments);var o=t-(0,n.default)(e);o<=0&&(o+=7);return(0,r.default)(e,o)};var r=o(addDays.exports),n=o(getDay.exports),a=o(requiredArgs.exports);function o(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default}(nextDay,nextDay.exports);var nextFriday={exports:{}};!function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,n.default)(1,arguments),(0,r.default)(e,5)};var r=a(nextDay.exports),n=a(requiredArgs.exports);function a(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default}(nextFriday,nextFriday.exports);var nextMonday={exports:{}};!function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,n.default)(1,arguments),(0,r.default)(e,1)};var r=a(nextDay.exports),n=a(requiredArgs.exports);function a(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default}(nextMonday,nextMonday.exports);var nextSaturday={exports:{}};!function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,n.default)(1,arguments),(0,r.default)(e,6)};var r=a(nextDay.exports),n=a(requiredArgs.exports);function a(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default}(nextSaturday,nextSaturday.exports);var nextSunday={exports:{}};!function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,n.default)(1,arguments),(0,r.default)(e,0)};var r=a(nextDay.exports),n=a(requiredArgs.exports);function a(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default}(nextSunday,nextSunday.exports);var nextThursday={exports:{}};!function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,n.default)(1,arguments),(0,r.default)(e,4)};var r=a(nextDay.exports),n=a(requiredArgs.exports);function a(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default}(nextThursday,nextThursday.exports);var nextTuesday={exports:{}};!function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,n.default)(1,arguments),(0,r.default)(e,2)};var r=a(nextDay.exports),n=a(requiredArgs.exports);function a(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default}(nextTuesday,nextTuesday.exports);var nextWednesday={exports:{}};!function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,n.default)(1,arguments),(0,r.default)(e,3)};var r=a(nextDay.exports),n=a(requiredArgs.exports);function a(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default}(nextWednesday,nextWednesday.exports);var parseISO={exports:{}};!function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){(0,n.default)(1,arguments);var o=t||{},p=null==o.additionalDigits?2:(0,a.default)(o.additionalDigits);if(2!==p&&1!==p&&0!==p)throw new RangeError("additionalDigits must be 0, 1 or 2");if("string"!=typeof e&&"[object String]"!==Object.prototype.toString.call(e))return new Date(NaN);var g,h=function(e){var t,r={},n=e.split(s.dateTimeDelimiter);if(n.length>2)return r;/:/.test(n[0])?t=n[0]:(r.date=n[0],t=n[1],s.timeZoneDelimiter.test(r.date)&&(r.date=e.split(s.timeZoneDelimiter)[0],t=e.substr(r.date.length,e.length)));if(t){var a=s.timezone.exec(t);a?(r.time=t.replace(a[1],""),r.timezone=a[1]):r.time=t}return r}(e);if(h.date){var m=function(e,t){var r=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+t)+"})|(\\d{2}|[+-]\\d{"+(2+t)+"})$)"),n=e.match(r);if(!n)return{year:NaN,restDateString:""};var a=n[1]?parseInt(n[1]):null,o=n[2]?parseInt(n[2]):null;return{year:null===o?a:100*o,restDateString:e.slice((n[1]||n[2]).length)}}(h.date,p);g=function(e,t){if(null===t)return new Date(NaN);var r=e.match(i);if(!r)return new Date(NaN);var n=!!r[4],a=l(r[1]),o=l(r[2])-1,s=l(r[3]),u=l(r[4]),c=l(r[5])-1;if(n)return function(e,t,r){return t>=1&&t<=53&&r>=0&&r<=6}(0,u,c)?function(e,t,r){var n=new Date(0);n.setUTCFullYear(e,0,4);var a=n.getUTCDay()||7,o=7*(t-1)+r+1-a;return n.setUTCDate(n.getUTCDate()+o),n}(t,u,c):new Date(NaN);var d=new Date(0);return function(e,t,r){return t>=0&&t<=11&&r>=1&&r<=(f[t]||(_(e)?29:28))}(t,o,s)&&function(e,t){return t>=1&&t<=(_(e)?366:365)}(t,a)?(d.setUTCFullYear(t,o,Math.max(a,s)),d):new Date(NaN)}(m.restDateString,m.year)}if(!g||isNaN(g.getTime()))return new Date(NaN);var v,y=g.getTime(),x=0;if(h.time&&(x=function(e){var t=e.match(u);if(!t)return NaN;var n=d(t[1]),a=d(t[2]),o=d(t[3]);if(!function(e,t,r){if(24===e)return 0===t&&0===r;return r>=0&&r<60&&t>=0&&t<60&&e>=0&&e<25}(n,a,o))return NaN;return n*r.millisecondsInHour+a*r.millisecondsInMinute+1e3*o}(h.time),isNaN(x)))return new Date(NaN);if(!h.timezone){var O=new Date(y+x),E=new Date(0);return E.setFullYear(O.getUTCFullYear(),O.getUTCMonth(),O.getUTCDate()),E.setHours(O.getUTCHours(),O.getUTCMinutes(),O.getUTCSeconds(),O.getUTCMilliseconds()),E}if(v=function(e){if("Z"===e)return 0;var t=e.match(c);if(!t)return 0;var n="+"===t[1]?-1:1,a=parseInt(t[2]),o=t[3]&&parseInt(t[3])||0;if(!function(e,t){return t>=0&&t<=59}(0,o))return NaN;return n*(a*r.millisecondsInHour+o*r.millisecondsInMinute)}(h.timezone),isNaN(v))return new Date(NaN);return new Date(y+x+v)};var r=constants,n=o(requiredArgs.exports),a=o(toInteger.exports);function o(e){return e&&e.__esModule?e:{default:e}}var s={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},i=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,u=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,c=/^([+-])(\d{2})(?::?(\d{2}))?$/;function l(e){return e?parseInt(e):1}function d(e){return e&&parseFloat(e.replace(",","."))||0}var f=[31,null,31,30,31,30,31,31,30,31,30,31];function _(e){return e%400==0||e%4==0&&e%100!=0}e.exports=t.default}(parseISO,parseISO.exports);var parseJSON={exports:{}};!function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){if((0,n.default)(1,arguments),"string"==typeof e){var t=e.match(/(\d{4})-(\d{2})-(\d{2})[T ](\d{2}):(\d{2}):(\d{2})(?:\.(\d{0,7}))?(?:Z|(.)(\d{2}):?(\d{2})?)?/);return t?new Date(Date.UTC(+t[1],+t[2]-1,+t[3],+t[4]-(+t[9]||0)*("-"==t[8]?-1:1),+t[5]-(+t[10]||0)*("-"==t[8]?-1:1),+t[6],+((t[7]||"0")+"00").substring(0,3))):new Date(NaN)}return(0,r.default)(e)};var r=a(toDate.exports),n=a(requiredArgs.exports);function a(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default}(parseJSON,parseJSON.exports);var previousDay={exports:{}};!function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){(0,r.default)(2,arguments);var o=(0,n.default)(e)-t;o<=0&&(o+=7);return(0,a.default)(e,o)};var r=o(requiredArgs.exports),n=o(getDay.exports),a=o(subDays.exports);function o(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default}(previousDay,previousDay.exports);var previousFriday={exports:{}};!function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,r.default)(1,arguments),(0,n.default)(e,5)};var r=a(requiredArgs.exports),n=a(previousDay.exports);function a(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default}(previousFriday,previousFriday.exports);var previousMonday={exports:{}};!function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,r.default)(1,arguments),(0,n.default)(e,1)};var r=a(requiredArgs.exports),n=a(previousDay.exports);function a(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default}(previousMonday,previousMonday.exports);var previousSaturday={exports:{}};!function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,r.default)(1,arguments),(0,n.default)(e,6)};var r=a(requiredArgs.exports),n=a(previousDay.exports);function a(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default}(previousSaturday,previousSaturday.exports);var previousSunday={exports:{}};!function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,r.default)(1,arguments),(0,n.default)(e,0)};var r=a(requiredArgs.exports),n=a(previousDay.exports);function a(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default}(previousSunday,previousSunday.exports);var previousThursday={exports:{}};!function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,r.default)(1,arguments),(0,n.default)(e,4)};var r=a(requiredArgs.exports),n=a(previousDay.exports);function a(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default}(previousThursday,previousThursday.exports);var previousTuesday={exports:{}};!function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,r.default)(1,arguments),(0,n.default)(e,2)};var r=a(requiredArgs.exports),n=a(previousDay.exports);function a(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default}(previousTuesday,previousTuesday.exports);var previousWednesday={exports:{}};!function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,r.default)(1,arguments),(0,n.default)(e,3)};var r=a(requiredArgs.exports),n=a(previousDay.exports);function a(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default}(previousWednesday,previousWednesday.exports);var quartersToMonths={exports:{}};!function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,n.default)(1,arguments),Math.floor(e*a.monthsInQuarter)};var r,n=(r=requiredArgs.exports)&&r.__esModule?r:{default:r},a=constants;e.exports=t.default}(quartersToMonths,quartersToMonths.exports);var quartersToYears={exports:{}};!function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){(0,n.default)(1,arguments);var t=e/a.quartersInYear;return Math.floor(t)};var r,n=(r=requiredArgs.exports)&&r.__esModule?r:{default:r},a=constants;e.exports=t.default}(quartersToYears,quartersToYears.exports);var roundToNearestMinutes={exports:{}};!function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if(arguments.length<1)throw new TypeError("1 argument required, but only none provided present");var a=t&&"nearestTo"in t?(0,n.default)(t.nearestTo):1;if(a<1||a>30)throw new RangeError("`options.nearestTo` must be between 1 and 30");var o=(0,r.default)(e),s=o.getSeconds(),i=o.getMinutes()+s/60,u=Math.floor(i/a)*a,c=i%a,l=Math.round(c/a)*a;return new Date(o.getFullYear(),o.getMonth(),o.getDate(),o.getHours(),u+l)};var r=a(toDate.exports),n=a(toInteger.exports);function a(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default}(roundToNearestMinutes,roundToNearestMinutes.exports);var secondsToHours={exports:{}};!function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){(0,n.default)(1,arguments);var t=e/a.secondsInHour;return Math.floor(t)};var r,n=(r=requiredArgs.exports)&&r.__esModule?r:{default:r},a=constants;e.exports=t.default}(secondsToHours,secondsToHours.exports);var secondsToMilliseconds={exports:{}};!function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,n.default)(1,arguments),e*a.millisecondsInSecond};var r,n=(r=requiredArgs.exports)&&r.__esModule?r:{default:r},a=constants;e.exports=t.default}(secondsToMilliseconds,secondsToMilliseconds.exports);var secondsToMinutes={exports:{}};!function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){(0,n.default)(1,arguments);var t=e/a.secondsInMinute;return Math.floor(t)};var r,n=(r=requiredArgs.exports)&&r.__esModule?r:{default:r},a=constants;e.exports=t.default}(secondsToMinutes,secondsToMinutes.exports);var set={exports:{}},setMonth={exports:{}};!function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){(0,o.default)(2,arguments);var s=(0,n.default)(e),i=(0,r.default)(t),u=s.getFullYear(),c=s.getDate(),l=new Date(0);l.setFullYear(u,i,15),l.setHours(0,0,0,0);var d=(0,a.default)(l);return s.setMonth(i,Math.min(c,d)),s};var r=s(toInteger.exports),n=s(toDate.exports),a=s(getDaysInMonth.exports),o=s(requiredArgs.exports);function s(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default}(setMonth,setMonth.exports),function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if((0,o.default)(2,arguments),"object"!=typeof t||null===t)throw new RangeError("values parameter must be an object");var s=(0,r.default)(e);if(isNaN(s.getTime()))return new Date(NaN);null!=t.year&&s.setFullYear(t.year);null!=t.month&&(s=(0,n.default)(s,t.month));null!=t.date&&s.setDate((0,a.default)(t.date));null!=t.hours&&s.setHours((0,a.default)(t.hours));null!=t.minutes&&s.setMinutes((0,a.default)(t.minutes));null!=t.seconds&&s.setSeconds((0,a.default)(t.seconds));null!=t.milliseconds&&s.setMilliseconds((0,a.default)(t.milliseconds));return s};var r=s(toDate.exports),n=s(setMonth.exports),a=s(toInteger.exports),o=s(requiredArgs.exports);function s(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default}(set,set.exports);var setDate={exports:{}};!function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){(0,a.default)(2,arguments);var o=(0,n.default)(e),s=(0,r.default)(t);return o.setDate(s),o};var r=o(toInteger.exports),n=o(toDate.exports),a=o(requiredArgs.exports);function o(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default}(setDate,setDate.exports);var setDay={exports:{}};!function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,s){(0,o.default)(2,arguments);var i=s||{},u=i.locale,c=u&&u.options&&u.options.weekStartsOn,l=null==c?0:(0,a.default)(c),d=null==i.weekStartsOn?l:(0,a.default)(i.weekStartsOn);if(!(d>=0&&d<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var f=(0,n.default)(e),_=(0,a.default)(t),p=f.getDay(),g=(_%7+7)%7,h=7-d,m=_<0||_>6?_-(p+h)%7:(g+h)%7-(p+h)%7;return(0,r.default)(f,m)};var r=s(addDays.exports),n=s(toDate.exports),a=s(toInteger.exports),o=s(requiredArgs.exports);function s(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default}(setDay,setDay.exports);var setDayOfYear={exports:{}};!function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){(0,a.default)(2,arguments);var o=(0,n.default)(e),s=(0,r.default)(t);return o.setMonth(0),o.setDate(s),o};var r=o(toInteger.exports),n=o(toDate.exports),a=o(requiredArgs.exports);function o(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default}(setDayOfYear,setDayOfYear.exports);var setHours={exports:{}};!function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){(0,a.default)(2,arguments);var o=(0,n.default)(e),s=(0,r.default)(t);return o.setHours(s),o};var r=o(toInteger.exports),n=o(toDate.exports),a=o(requiredArgs.exports);function o(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default}(setHours,setHours.exports);var setISODay={exports:{}};!function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){(0,s.default)(2,arguments);var i=(0,n.default)(e),u=(0,r.default)(t),c=(0,o.default)(i),l=u-c;return(0,a.default)(i,l)};var r=i(toInteger.exports),n=i(toDate.exports),a=i(addDays.exports),o=i(getISODay.exports),s=i(requiredArgs.exports);function i(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default}(setISODay,setISODay.exports);var setISOWeek={exports:{}};!function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){(0,o.default)(2,arguments);var s=(0,n.default)(e),i=(0,r.default)(t),u=(0,a.default)(s)-i;return s.setDate(s.getDate()-7*u),s};var r=s(toInteger.exports),n=s(toDate.exports),a=s(getISOWeek.exports),o=s(requiredArgs.exports);function s(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default}(setISOWeek,setISOWeek.exports);var setMilliseconds={exports:{}};!function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){(0,a.default)(2,arguments);var o=(0,n.default)(e),s=(0,r.default)(t);return o.setMilliseconds(s),o};var r=o(toInteger.exports),n=o(toDate.exports),a=o(requiredArgs.exports);function o(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default}(setMilliseconds,setMilliseconds.exports);var setMinutes={exports:{}};!function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){(0,a.default)(2,arguments);var o=(0,n.default)(e),s=(0,r.default)(t);return o.setMinutes(s),o};var r=o(toInteger.exports),n=o(toDate.exports),a=o(requiredArgs.exports);function o(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default}(setMinutes,setMinutes.exports);var setQuarter={exports:{}};!function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){(0,o.default)(2,arguments);var s=(0,n.default)(e),i=(0,r.default)(t),u=Math.floor(s.getMonth()/3)+1,c=i-u;return(0,a.default)(s,s.getMonth()+3*c)};var r=s(toInteger.exports),n=s(toDate.exports),a=s(setMonth.exports),o=s(requiredArgs.exports);function s(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default}(setQuarter,setQuarter.exports);var setSeconds={exports:{}};!function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){(0,a.default)(2,arguments);var o=(0,n.default)(e),s=(0,r.default)(t);return o.setSeconds(s),o};var r=o(toInteger.exports),n=o(toDate.exports),a=o(requiredArgs.exports);function o(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default}(setSeconds,setSeconds.exports);var setWeek={exports:{}};!function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,s){(0,o.default)(2,arguments);var i=(0,n.default)(e),u=(0,a.default)(t),c=(0,r.default)(i,s)-u;return i.setDate(i.getDate()-7*c),i};var r=s(getWeek.exports),n=s(toDate.exports),a=s(toInteger.exports),o=s(requiredArgs.exports);function s(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default}(setWeek,setWeek.exports);var setWeekYear={exports:{}};!function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};(0,s.default)(2,arguments);var u=i.locale,c=u&&u.options&&u.options.firstWeekContainsDate,l=null==c?1:(0,o.default)(c),d=null==i.firstWeekContainsDate?l:(0,o.default)(i.firstWeekContainsDate),f=(0,a.default)(e),_=(0,o.default)(t),p=(0,r.default)(f,(0,n.default)(f,i)),g=new Date(0);return g.setFullYear(_,0,d),g.setHours(0,0,0,0),(f=(0,n.default)(g,i)).setDate(f.getDate()+p),f};var r=i(differenceInCalendarDays.exports),n=i(startOfWeekYear.exports),a=i(toDate.exports),o=i(toInteger.exports),s=i(requiredArgs.exports);function i(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default}(setWeekYear,setWeekYear.exports);var setYear={exports:{}};!function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){(0,a.default)(2,arguments);var o=(0,n.default)(e),s=(0,r.default)(t);if(isNaN(o.getTime()))return new Date(NaN);return o.setFullYear(s),o};var r=o(toInteger.exports),n=o(toDate.exports),a=o(requiredArgs.exports);function o(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default}(setYear,setYear.exports);var startOfDecade={exports:{}};!function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){(0,n.default)(1,arguments);var t=(0,r.default)(e),a=t.getFullYear(),o=10*Math.floor(a/10);return t.setFullYear(o,0,1),t.setHours(0,0,0,0),t};var r=a(toDate.exports),n=a(requiredArgs.exports);function a(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default}(startOfDecade,startOfDecade.exports);var startOfToday={exports:{}};!function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){return(0,n.default)(Date.now())};var r,n=(r=startOfDay.exports)&&r.__esModule?r:{default:r};e.exports=t.default}(startOfToday,startOfToday.exports);var startOfTomorrow={exports:{}};!function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var e=new Date,t=e.getFullYear(),r=e.getMonth(),n=e.getDate(),a=new Date(0);return a.setFullYear(t,r,n+1),a.setHours(0,0,0,0),a},e.exports=t.default}(startOfTomorrow,startOfTomorrow.exports);var startOfYesterday={exports:{}};!function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var e=new Date,t=e.getFullYear(),r=e.getMonth(),n=e.getDate(),a=new Date(0);return a.setFullYear(t,r,n-1),a.setHours(0,0,0,0),a},e.exports=t.default}(startOfYesterday,startOfYesterday.exports);var subBusinessDays={exports:{}};!function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){(0,n.default)(2,arguments);var o=(0,a.default)(t);return(0,r.default)(e,-o)};var r=o(addBusinessDays.exports),n=o(requiredArgs.exports),a=o(toInteger.exports);function o(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default}(subBusinessDays,subBusinessDays.exports);var subHours={exports:{}};!function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){(0,a.default)(2,arguments);var o=(0,r.default)(t);return(0,n.default)(e,-o)};var r=o(toInteger.exports),n=o(addHours.exports),a=o(requiredArgs.exports);function o(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default}(subHours,subHours.exports);var subMinutes={exports:{}};!function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){(0,a.default)(2,arguments);var o=(0,r.default)(t);return(0,n.default)(e,-o)};var r=o(toInteger.exports),n=o(addMinutes.exports),a=o(requiredArgs.exports);function o(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default}(subMinutes,subMinutes.exports);var subQuarters={exports:{}};!function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){(0,a.default)(2,arguments);var o=(0,r.default)(t);return(0,n.default)(e,-o)};var r=o(toInteger.exports),n=o(addQuarters.exports),a=o(requiredArgs.exports);function o(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default}(subQuarters,subQuarters.exports);var subSeconds={exports:{}};!function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){(0,a.default)(2,arguments);var o=(0,r.default)(t);return(0,n.default)(e,-o)};var r=o(toInteger.exports),n=o(addSeconds.exports),a=o(requiredArgs.exports);function o(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default}(subSeconds,subSeconds.exports);var subWeeks={exports:{}};!function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){(0,a.default)(2,arguments);var o=(0,r.default)(t);return(0,n.default)(e,-o)};var r=o(toInteger.exports),n=o(addWeeks.exports),a=o(requiredArgs.exports);function o(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default}(subWeeks,subWeeks.exports);var subYears={exports:{}};!function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){(0,a.default)(2,arguments);var o=(0,r.default)(t);return(0,n.default)(e,-o)};var r=o(toInteger.exports),n=o(addYears.exports),a=o(requiredArgs.exports);function o(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default}(subYears,subYears.exports);var weeksToDays={exports:{}};!function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,n.default)(1,arguments),Math.floor(e*a.daysInWeek)};var r,n=(r=requiredArgs.exports)&&r.__esModule?r:{default:r},a=constants;e.exports=t.default}(weeksToDays,weeksToDays.exports);var yearsToMonths={exports:{}};!function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,n.default)(1,arguments),Math.floor(e*a.monthsInYear)};var r,n=(r=requiredArgs.exports)&&r.__esModule?r:{default:r},a=constants;e.exports=t.default}(yearsToMonths,yearsToMonths.exports);var yearsToQuarters={exports:{}},ListDelimiter;function slotValueToSpeech(e,t){var r;switch(void 0===t&&(t="ssml"),typeof e){case"string":r=e;break;case"number":r="".concat(e)}return isDateTime(e)&&(r=dateTimeToSpeech(e,t)),isDateTimeRange(e)&&(r=dateTimeRangeToSpeech(e,t)),isDuration(e)&&(r=durationToSpeech(e,t)),Array.isArray(e)&&(r=listisize(e,ListDelimiter.and)),r}function isDateTime(e){return!(!e||!e.date&&!e.time)}function isDateTimeRange(e){return!(!e||!e.start&&!e.end)}function isDuration(e){return!!e&&"object"==typeof e&&"number"==typeof e.amount&&"string"==typeof e.format}function dateTimeToSpeech(e,t){if(void 0===t&&(t="ssml"),!e)return"";var r=__assign({},e);r.date||(r.date="yyyy-MM-dd");var n=Date.parse(dateTimeToString(r)),a="";return e.date&&(a+="ssml"===t?'<say-as interpret-as="date" format="ymd">'.concat(dateFns.format(n,"yyyy-MM-dd"),"</say-as>"):"".concat(dateFns.format(n,"M-d-yyyy"))),e.time&&("ssml"===t?a+='<say-as interpret-as="time">'.concat(dateFns.format(n,"h:mm aa"),"</say-as>"):(a.length>0&&(a+=" "),a+="".concat(dateFns.format(n,"h:mm aa")))),a}function dateTimeRangeToSpeech(e,t){if(void 0===t&&(t="ssml"),!e)return"";var r=e.start,n=e.end,a=new Date,o="".concat(dateTimeToSpeech(r,t)," to ").concat(dateTimeToSpeech(n,t));return dateFns.isSameDay(dateFns.parse(r.date,"y-M-d",a),dateFns.parse(n.date,"y-M-d",a))&&(o="on ".concat(dateTimeToSpeech({date:r.date},t)," from ").concat(dateTimeToSpeech({time:r.time},t)," to ").concat(dateTimeToSpeech({time:n.time},t))),o}function durationToSpeech(e,t){if(void 0===t&&(t="ssml"),!e)return"";var r=e.amount>1,n="ssml"===t?'<say-as interpret-as="cardinal">'.concat(e.amount,"</say-as>"):e.amount,a=DURATION_FORMAT_TO_MS_MULTIPLIER[e.format],o=e.format;Object.keys(DURATION_FORMAT_TO_MS_MULTIPLIER).forEach((function(e){DURATION_FORMAT_TO_MS_MULTIPLIER[e]===a&&e.length>o.length&&!e.endsWith("s")&&(o=e)}));var s=r?"".concat(o,"s"):o;return"".concat(n," ").concat(s)}function dateTimeToString(e){if("object"!=typeof e)return"";var t="";try{if(isDateTime(e)){var r=e.date?dateFns.format(dateFns.parse(e.date,"y-M-d",new Date),"yyyy-MM-dd"):void 0,n=e.time;t="".concat(r||"").concat(r&&n?"T":"").concat(n||"")}else{var a=e.start,o=e.end;if(a){r=a.date?dateFns.format(dateFns.parse(a.date,"y-M-d",new Date),"yyyy-MM-dd"):void 0,n=a.time;t="".concat(r||"").concat(r&&n?"T":"").concat(n||"")}if(a&&o&&(t+=" --\x3e "),o){r=o.date?dateFns.format(dateFns.parse(o.date,"y-M-d",new Date),"yyyy-MM-dd"):void 0,n=o.time;t+="".concat(r||"").concat(r&&n?"T":"").concat(n||"")}}}catch(s){console.error(s)}return t}!function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,n.default)(1,arguments),Math.floor(e*a.quartersInYear)};var r,n=(r=requiredArgs.exports)&&r.__esModule?r:{default:r},a=constants;e.exports=t.default}(yearsToQuarters,yearsToQuarters.exports),function(e){Object.defineProperty(e,"__esModule",{value:!0});var t={add:!0,addBusinessDays:!0,addDays:!0,addHours:!0,addISOWeekYears:!0,addMilliseconds:!0,addMinutes:!0,addMonths:!0,addQuarters:!0,addSeconds:!0,addWeeks:!0,addYears:!0,areIntervalsOverlapping:!0,clamp:!0,closestIndexTo:!0,closestTo:!0,compareAsc:!0,compareDesc:!0,daysToWeeks:!0,differenceInBusinessDays:!0,differenceInCalendarDays:!0,differenceInCalendarISOWeekYears:!0,differenceInCalendarISOWeeks:!0,differenceInCalendarMonths:!0,differenceInCalendarQuarters:!0,differenceInCalendarWeeks:!0,differenceInCalendarYears:!0,differenceInDays:!0,differenceInHours:!0,differenceInISOWeekYears:!0,differenceInMilliseconds:!0,differenceInMinutes:!0,differenceInMonths:!0,differenceInQuarters:!0,differenceInSeconds:!0,differenceInWeeks:!0,differenceInYears:!0,eachDayOfInterval:!0,eachHourOfInterval:!0,eachMinuteOfInterval:!0,eachMonthOfInterval:!0,eachQuarterOfInterval:!0,eachWeekOfInterval:!0,eachWeekendOfInterval:!0,eachWeekendOfMonth:!0,eachWeekendOfYear:!0,eachYearOfInterval:!0,endOfDay:!0,endOfDecade:!0,endOfHour:!0,endOfISOWeek:!0,endOfISOWeekYear:!0,endOfMinute:!0,endOfMonth:!0,endOfQuarter:!0,endOfSecond:!0,endOfToday:!0,endOfTomorrow:!0,endOfWeek:!0,endOfYear:!0,endOfYesterday:!0,format:!0,formatDistance:!0,formatDistanceStrict:!0,formatDistanceToNow:!0,formatDistanceToNowStrict:!0,formatDuration:!0,formatISO:!0,formatISO9075:!0,formatISODuration:!0,formatRFC3339:!0,formatRFC7231:!0,formatRelative:!0,fromUnixTime:!0,getDate:!0,getDay:!0,getDayOfYear:!0,getDaysInMonth:!0,getDaysInYear:!0,getDecade:!0,getHours:!0,getISODay:!0,getISOWeek:!0,getISOWeekYear:!0,getISOWeeksInYear:!0,getMilliseconds:!0,getMinutes:!0,getMonth:!0,getOverlappingDaysInIntervals:!0,getQuarter:!0,getSeconds:!0,getTime:!0,getUnixTime:!0,getWeek:!0,getWeekOfMonth:!0,getWeekYear:!0,getWeeksInMonth:!0,getYear:!0,hoursToMilliseconds:!0,hoursToMinutes:!0,hoursToSeconds:!0,intervalToDuration:!0,intlFormat:!0,isAfter:!0,isBefore:!0,isDate:!0,isEqual:!0,isExists:!0,isFirstDayOfMonth:!0,isFriday:!0,isFuture:!0,isLastDayOfMonth:!0,isLeapYear:!0,isMatch:!0,isMonday:!0,isPast:!0,isSameDay:!0,isSameHour:!0,isSameISOWeek:!0,isSameISOWeekYear:!0,isSameMinute:!0,isSameMonth:!0,isSameQuarter:!0,isSameSecond:!0,isSameWeek:!0,isSameYear:!0,isSaturday:!0,isSunday:!0,isThisHour:!0,isThisISOWeek:!0,isThisMinute:!0,isThisMonth:!0,isThisQuarter:!0,isThisSecond:!0,isThisWeek:!0,isThisYear:!0,isThursday:!0,isToday:!0,isTomorrow:!0,isTuesday:!0,isValid:!0,isWednesday:!0,isWeekend:!0,isWithinInterval:!0,isYesterday:!0,lastDayOfDecade:!0,lastDayOfISOWeek:!0,lastDayOfISOWeekYear:!0,lastDayOfMonth:!0,lastDayOfQuarter:!0,lastDayOfWeek:!0,lastDayOfYear:!0,lightFormat:!0,max:!0,milliseconds:!0,millisecondsToHours:!0,millisecondsToMinutes:!0,millisecondsToSeconds:!0,min:!0,minutesToHours:!0,minutesToMilliseconds:!0,minutesToSeconds:!0,monthsToQuarters:!0,monthsToYears:!0,nextDay:!0,nextFriday:!0,nextMonday:!0,nextSaturday:!0,nextSunday:!0,nextThursday:!0,nextTuesday:!0,nextWednesday:!0,parse:!0,parseISO:!0,parseJSON:!0,previousDay:!0,previousFriday:!0,previousMonday:!0,previousSaturday:!0,previousSunday:!0,previousThursday:!0,previousTuesday:!0,previousWednesday:!0,quartersToMonths:!0,quartersToYears:!0,roundToNearestMinutes:!0,secondsToHours:!0,secondsToMilliseconds:!0,secondsToMinutes:!0,set:!0,setDate:!0,setDay:!0,setDayOfYear:!0,setHours:!0,setISODay:!0,setISOWeek:!0,setISOWeekYear:!0,setMilliseconds:!0,setMinutes:!0,setMonth:!0,setQuarter:!0,setSeconds:!0,setWeek:!0,setWeekYear:!0,setYear:!0,startOfDay:!0,startOfDecade:!0,startOfHour:!0,startOfISOWeek:!0,startOfISOWeekYear:!0,startOfMinute:!0,startOfMonth:!0,startOfQuarter:!0,startOfSecond:!0,startOfToday:!0,startOfTomorrow:!0,startOfWeek:!0,startOfWeekYear:!0,startOfYear:!0,startOfYesterday:!0,sub:!0,subBusinessDays:!0,subDays:!0,subHours:!0,subISOWeekYears:!0,subMilliseconds:!0,subMinutes:!0,subMonths:!0,subQuarters:!0,subSeconds:!0,subWeeks:!0,subYears:!0,toDate:!0,weeksToDays:!0,yearsToMonths:!0,yearsToQuarters:!0};Object.defineProperty(e,"add",{enumerable:!0,get:function(){return r.default}}),Object.defineProperty(e,"addBusinessDays",{enumerable:!0,get:function(){return n.default}}),Object.defineProperty(e,"addDays",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(e,"addHours",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(e,"addISOWeekYears",{enumerable:!0,get:function(){return s.default}}),Object.defineProperty(e,"addMilliseconds",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(e,"addMinutes",{enumerable:!0,get:function(){return u.default}}),Object.defineProperty(e,"addMonths",{enumerable:!0,get:function(){return c.default}}),Object.defineProperty(e,"addQuarters",{enumerable:!0,get:function(){return l.default}}),Object.defineProperty(e,"addSeconds",{enumerable:!0,get:function(){return d.default}}),Object.defineProperty(e,"addWeeks",{enumerable:!0,get:function(){return f.default}}),Object.defineProperty(e,"addYears",{enumerable:!0,get:function(){return _.default}}),Object.defineProperty(e,"areIntervalsOverlapping",{enumerable:!0,get:function(){return p.default}}),Object.defineProperty(e,"clamp",{enumerable:!0,get:function(){return g.default}}),Object.defineProperty(e,"closestIndexTo",{enumerable:!0,get:function(){return h.default}}),Object.defineProperty(e,"closestTo",{enumerable:!0,get:function(){return m.default}}),Object.defineProperty(e,"compareAsc",{enumerable:!0,get:function(){return v.default}}),Object.defineProperty(e,"compareDesc",{enumerable:!0,get:function(){return y.default}}),Object.defineProperty(e,"daysToWeeks",{enumerable:!0,get:function(){return x.default}}),Object.defineProperty(e,"differenceInBusinessDays",{enumerable:!0,get:function(){return O.default}}),Object.defineProperty(e,"differenceInCalendarDays",{enumerable:!0,get:function(){return E.default}}),Object.defineProperty(e,"differenceInCalendarISOWeekYears",{enumerable:!0,get:function(){return M.default}}),Object.defineProperty(e,"differenceInCalendarISOWeeks",{enumerable:!0,get:function(){return b.default}}),Object.defineProperty(e,"differenceInCalendarMonths",{enumerable:!0,get:function(){return D.default}}),Object.defineProperty(e,"differenceInCalendarQuarters",{enumerable:!0,get:function(){return P.default}}),Object.defineProperty(e,"differenceInCalendarWeeks",{enumerable:!0,get:function(){return T.default}}),Object.defineProperty(e,"differenceInCalendarYears",{enumerable:!0,get:function(){return I.default}}),Object.defineProperty(e,"differenceInDays",{enumerable:!0,get:function(){return C.default}}),Object.defineProperty(e,"differenceInHours",{enumerable:!0,get:function(){return w.default}}),Object.defineProperty(e,"differenceInISOWeekYears",{enumerable:!0,get:function(){return S.default}}),Object.defineProperty(e,"differenceInMilliseconds",{enumerable:!0,get:function(){return k.default}}),Object.defineProperty(e,"differenceInMinutes",{enumerable:!0,get:function(){return A.default}}),Object.defineProperty(e,"differenceInMonths",{enumerable:!0,get:function(){return R.default}}),Object.defineProperty(e,"differenceInQuarters",{enumerable:!0,get:function(){return W.default}}),Object.defineProperty(e,"differenceInSeconds",{enumerable:!0,get:function(){return U.default}}),Object.defineProperty(e,"differenceInWeeks",{enumerable:!0,get:function(){return L.default}}),Object.defineProperty(e,"differenceInYears",{enumerable:!0,get:function(){return B.default}}),Object.defineProperty(e,"eachDayOfInterval",{enumerable:!0,get:function(){return N.default}}),Object.defineProperty(e,"eachHourOfInterval",{enumerable:!0,get:function(){return j.default}}),Object.defineProperty(e,"eachMinuteOfInterval",{enumerable:!0,get:function(){return K.default}}),Object.defineProperty(e,"eachMonthOfInterval",{enumerable:!0,get:function(){return Y.default}}),Object.defineProperty(e,"eachQuarterOfInterval",{enumerable:!0,get:function(){return q.default}}),Object.defineProperty(e,"eachWeekOfInterval",{enumerable:!0,get:function(){return F.default}}),Object.defineProperty(e,"eachWeekendOfInterval",{enumerable:!0,get:function(){return $.default}}),Object.defineProperty(e,"eachWeekendOfMonth",{enumerable:!0,get:function(){return H.default}}),Object.defineProperty(e,"eachWeekendOfYear",{enumerable:!0,get:function(){return Q.default}}),Object.defineProperty(e,"eachYearOfInterval",{enumerable:!0,get:function(){return V.default}}),Object.defineProperty(e,"endOfDay",{enumerable:!0,get:function(){return z.default}}),Object.defineProperty(e,"endOfDecade",{enumerable:!0,get:function(){return G.default}}),Object.defineProperty(e,"endOfHour",{enumerable:!0,get:function(){return J.default}}),Object.defineProperty(e,"endOfISOWeek",{enumerable:!0,get:function(){return X.default}}),Object.defineProperty(e,"endOfISOWeekYear",{enumerable:!0,get:function(){return Z.default}}),Object.defineProperty(e,"endOfMinute",{enumerable:!0,get:function(){return ee.default}}),Object.defineProperty(e,"endOfMonth",{enumerable:!0,get:function(){return te.default}}),Object.defineProperty(e,"endOfQuarter",{enumerable:!0,get:function(){return re.default}}),Object.defineProperty(e,"endOfSecond",{enumerable:!0,get:function(){return ne.default}}),Object.defineProperty(e,"endOfToday",{enumerable:!0,get:function(){return ae.default}}),Object.defineProperty(e,"endOfTomorrow",{enumerable:!0,get:function(){return oe.default}}),Object.defineProperty(e,"endOfWeek",{enumerable:!0,get:function(){return se.default}}),Object.defineProperty(e,"endOfYear",{enumerable:!0,get:function(){return ie.default}}),Object.defineProperty(e,"endOfYesterday",{enumerable:!0,get:function(){return ue.default}}),Object.defineProperty(e,"format",{enumerable:!0,get:function(){return ce.default}}),Object.defineProperty(e,"formatDistance",{enumerable:!0,get:function(){return le.default}}),Object.defineProperty(e,"formatDistanceStrict",{enumerable:!0,get:function(){return de.default}}),Object.defineProperty(e,"formatDistanceToNow",{enumerable:!0,get:function(){return fe.default}}),Object.defineProperty(e,"formatDistanceToNowStrict",{enumerable:!0,get:function(){return _e.default}}),Object.defineProperty(e,"formatDuration",{enumerable:!0,get:function(){return pe.default}}),Object.defineProperty(e,"formatISO",{enumerable:!0,get:function(){return ge.default}}),Object.defineProperty(e,"formatISO9075",{enumerable:!0,get:function(){return he.default}}),Object.defineProperty(e,"formatISODuration",{enumerable:!0,get:function(){return me.default}}),Object.defineProperty(e,"formatRFC3339",{enumerable:!0,get:function(){return ve.default}}),Object.defineProperty(e,"formatRFC7231",{enumerable:!0,get:function(){return ye.default}}),Object.defineProperty(e,"formatRelative",{enumerable:!0,get:function(){return xe.default}}),Object.defineProperty(e,"fromUnixTime",{enumerable:!0,get:function(){return Oe.default}}),Object.defineProperty(e,"getDate",{enumerable:!0,get:function(){return Ee.default}}),Object.defineProperty(e,"getDay",{enumerable:!0,get:function(){return Me.default}}),Object.defineProperty(e,"getDayOfYear",{enumerable:!0,get:function(){return be.default}}),Object.defineProperty(e,"getDaysInMonth",{enumerable:!0,get:function(){return De.default}}),Object.defineProperty(e,"getDaysInYear",{enumerable:!0,get:function(){return Pe.default}}),Object.defineProperty(e,"getDecade",{enumerable:!0,get:function(){return Te.default}}),Object.defineProperty(e,"getHours",{enumerable:!0,get:function(){return Ie.default}}),Object.defineProperty(e,"getISODay",{enumerable:!0,get:function(){return Ce.default}}),Object.defineProperty(e,"getISOWeek",{enumerable:!0,get:function(){return we.default}}),Object.defineProperty(e,"getISOWeekYear",{enumerable:!0,get:function(){return Se.default}}),Object.defineProperty(e,"getISOWeeksInYear",{enumerable:!0,get:function(){return ke.default}}),Object.defineProperty(e,"getMilliseconds",{enumerable:!0,get:function(){return Ae.default}}),Object.defineProperty(e,"getMinutes",{enumerable:!0,get:function(){return Re.default}}),Object.defineProperty(e,"getMonth",{enumerable:!0,get:function(){return We.default}}),Object.defineProperty(e,"getOverlappingDaysInIntervals",{enumerable:!0,get:function(){return Ue.default}}),Object.defineProperty(e,"getQuarter",{enumerable:!0,get:function(){return Le.default}}),Object.defineProperty(e,"getSeconds",{enumerable:!0,get:function(){return Be.default}}),Object.defineProperty(e,"getTime",{enumerable:!0,get:function(){return Ne.default}}),Object.defineProperty(e,"getUnixTime",{enumerable:!0,get:function(){return je.default}}),Object.defineProperty(e,"getWeek",{enumerable:!0,get:function(){return Ke.default}}),Object.defineProperty(e,"getWeekOfMonth",{enumerable:!0,get:function(){return Ye.default}}),Object.defineProperty(e,"getWeekYear",{enumerable:!0,get:function(){return qe.default}}),Object.defineProperty(e,"getWeeksInMonth",{enumerable:!0,get:function(){return Fe.default}}),Object.defineProperty(e,"getYear",{enumerable:!0,get:function(){return $e.default}}),Object.defineProperty(e,"hoursToMilliseconds",{enumerable:!0,get:function(){return He.default}}),Object.defineProperty(e,"hoursToMinutes",{enumerable:!0,get:function(){return Qe.default}}),Object.defineProperty(e,"hoursToSeconds",{enumerable:!0,get:function(){return Ve.default}}),Object.defineProperty(e,"intervalToDuration",{enumerable:!0,get:function(){return ze.default}}),Object.defineProperty(e,"intlFormat",{enumerable:!0,get:function(){return Ge.default}}),Object.defineProperty(e,"isAfter",{enumerable:!0,get:function(){return Je.default}}),Object.defineProperty(e,"isBefore",{enumerable:!0,get:function(){return Xe.default}}),Object.defineProperty(e,"isDate",{enumerable:!0,get:function(){return Ze.default}}),Object.defineProperty(e,"isEqual",{enumerable:!0,get:function(){return et.default}}),Object.defineProperty(e,"isExists",{enumerable:!0,get:function(){return tt.default}}),Object.defineProperty(e,"isFirstDayOfMonth",{enumerable:!0,get:function(){return rt.default}}),Object.defineProperty(e,"isFriday",{enumerable:!0,get:function(){return nt.default}}),Object.defineProperty(e,"isFuture",{enumerable:!0,get:function(){return at.default}}),Object.defineProperty(e,"isLastDayOfMonth",{enumerable:!0,get:function(){return ot.default}}),Object.defineProperty(e,"isLeapYear",{enumerable:!0,get:function(){return st.default}}),Object.defineProperty(e,"isMatch",{enumerable:!0,get:function(){return it.default}}),Object.defineProperty(e,"isMonday",{enumerable:!0,get:function(){return ut.default}}),Object.defineProperty(e,"isPast",{enumerable:!0,get:function(){return ct.default}}),Object.defineProperty(e,"isSameDay",{enumerable:!0,get:function(){return lt.default}}),Object.defineProperty(e,"isSameHour",{enumerable:!0,get:function(){return dt.default}}),Object.defineProperty(e,"isSameISOWeek",{enumerable:!0,get:function(){return ft.default}}),Object.defineProperty(e,"isSameISOWeekYear",{enumerable:!0,get:function(){return _t.default}}),Object.defineProperty(e,"isSameMinute",{enumerable:!0,get:function(){return pt.default}}),Object.defineProperty(e,"isSameMonth",{enumerable:!0,get:function(){return gt.default}}),Object.defineProperty(e,"isSameQuarter",{enumerable:!0,get:function(){return ht.default}}),Object.defineProperty(e,"isSameSecond",{enumerable:!0,get:function(){return mt.default}}),Object.defineProperty(e,"isSameWeek",{enumerable:!0,get:function(){return vt.default}}),Object.defineProperty(e,"isSameYear",{enumerable:!0,get:function(){return yt.default}}),Object.defineProperty(e,"isSaturday",{enumerable:!0,get:function(){return xt.default}}),Object.defineProperty(e,"isSunday",{enumerable:!0,get:function(){return Ot.default}}),Object.defineProperty(e,"isThisHour",{enumerable:!0,get:function(){return Et.default}}),Object.defineProperty(e,"isThisISOWeek",{enumerable:!0,get:function(){return Mt.default}}),Object.defineProperty(e,"isThisMinute",{enumerable:!0,get:function(){return bt.default}}),Object.defineProperty(e,"isThisMonth",{enumerable:!0,get:function(){return Dt.default}}),Object.defineProperty(e,"isThisQuarter",{enumerable:!0,get:function(){return Pt.default}}),Object.defineProperty(e,"isThisSecond",{enumerable:!0,get:function(){return Tt.default}}),Object.defineProperty(e,"isThisWeek",{enumerable:!0,get:function(){return It.default}}),Object.defineProperty(e,"isThisYear",{enumerable:!0,get:function(){return Ct.default}}),Object.defineProperty(e,"isThursday",{enumerable:!0,get:function(){return wt.default}}),Object.defineProperty(e,"isToday",{enumerable:!0,get:function(){return St.default}}),Object.defineProperty(e,"isTomorrow",{enumerable:!0,get:function(){return kt.default}}),Object.defineProperty(e,"isTuesday",{enumerable:!0,get:function(){return At.default}}),Object.defineProperty(e,"isValid",{enumerable:!0,get:function(){return Rt.default}}),Object.defineProperty(e,"isWednesday",{enumerable:!0,get:function(){return Wt.default}}),Object.defineProperty(e,"isWeekend",{enumerable:!0,get:function(){return Ut.default}}),Object.defineProperty(e,"isWithinInterval",{enumerable:!0,get:function(){return Lt.default}}),Object.defineProperty(e,"isYesterday",{enumerable:!0,get:function(){return Bt.default}}),Object.defineProperty(e,"lastDayOfDecade",{enumerable:!0,get:function(){return Nt.default}}),Object.defineProperty(e,"lastDayOfISOWeek",{enumerable:!0,get:function(){return jt.default}}),Object.defineProperty(e,"lastDayOfISOWeekYear",{enumerable:!0,get:function(){return Kt.default}}),Object.defineProperty(e,"lastDayOfMonth",{enumerable:!0,get:function(){return Yt.default}}),Object.defineProperty(e,"lastDayOfQuarter",{enumerable:!0,get:function(){return qt.default}}),Object.defineProperty(e,"lastDayOfWeek",{enumerable:!0,get:function(){return Ft.default}}),Object.defineProperty(e,"lastDayOfYear",{enumerable:!0,get:function(){return $t.default}}),Object.defineProperty(e,"lightFormat",{enumerable:!0,get:function(){return Ht.default}}),Object.defineProperty(e,"max",{enumerable:!0,get:function(){return Qt.default}}),Object.defineProperty(e,"milliseconds",{enumerable:!0,get:function(){return Vt.default}}),Object.defineProperty(e,"millisecondsToHours",{enumerable:!0,get:function(){return zt.default}}),Object.defineProperty(e,"millisecondsToMinutes",{enumerable:!0,get:function(){return Gt.default}}),Object.defineProperty(e,"millisecondsToSeconds",{enumerable:!0,get:function(){return Jt.default}}),Object.defineProperty(e,"min",{enumerable:!0,get:function(){return Xt.default}}),Object.defineProperty(e,"minutesToHours",{enumerable:!0,get:function(){return Zt.default}}),Object.defineProperty(e,"minutesToMilliseconds",{enumerable:!0,get:function(){return er.default}}),Object.defineProperty(e,"minutesToSeconds",{enumerable:!0,get:function(){return tr.default}}),Object.defineProperty(e,"monthsToQuarters",{enumerable:!0,get:function(){return rr.default}}),Object.defineProperty(e,"monthsToYears",{enumerable:!0,get:function(){return nr.default}}),Object.defineProperty(e,"nextDay",{enumerable:!0,get:function(){return ar.default}}),Object.defineProperty(e,"nextFriday",{enumerable:!0,get:function(){return or.default}}),Object.defineProperty(e,"nextMonday",{enumerable:!0,get:function(){return sr.default}}),Object.defineProperty(e,"nextSaturday",{enumerable:!0,get:function(){return ir.default}}),Object.defineProperty(e,"nextSunday",{enumerable:!0,get:function(){return ur.default}}),Object.defineProperty(e,"nextThursday",{enumerable:!0,get:function(){return cr.default}}),Object.defineProperty(e,"nextTuesday",{enumerable:!0,get:function(){return lr.default}}),Object.defineProperty(e,"nextWednesday",{enumerable:!0,get:function(){return dr.default}}),Object.defineProperty(e,"parse",{enumerable:!0,get:function(){return fr.default}}),Object.defineProperty(e,"parseISO",{enumerable:!0,get:function(){return _r.default}}),Object.defineProperty(e,"parseJSON",{enumerable:!0,get:function(){return pr.default}}),Object.defineProperty(e,"previousDay",{enumerable:!0,get:function(){return gr.default}}),Object.defineProperty(e,"previousFriday",{enumerable:!0,get:function(){return hr.default}}),Object.defineProperty(e,"previousMonday",{enumerable:!0,get:function(){return mr.default}}),Object.defineProperty(e,"previousSaturday",{enumerable:!0,get:function(){return vr.default}}),Object.defineProperty(e,"previousSunday",{enumerable:!0,get:function(){return yr.default}}),Object.defineProperty(e,"previousThursday",{enumerable:!0,get:function(){return xr.default}}),Object.defineProperty(e,"previousTuesday",{enumerable:!0,get:function(){return Or.default}}),Object.defineProperty(e,"previousWednesday",{enumerable:!0,get:function(){return Er.default}}),Object.defineProperty(e,"quartersToMonths",{enumerable:!0,get:function(){return Mr.default}}),Object.defineProperty(e,"quartersToYears",{enumerable:!0,get:function(){return br.default}}),Object.defineProperty(e,"roundToNearestMinutes",{enumerable:!0,get:function(){return Dr.default}}),Object.defineProperty(e,"secondsToHours",{enumerable:!0,get:function(){return Pr.default}}),Object.defineProperty(e,"secondsToMilliseconds",{enumerable:!0,get:function(){return Tr.default}}),Object.defineProperty(e,"secondsToMinutes",{enumerable:!0,get:function(){return Ir.default}}),Object.defineProperty(e,"set",{enumerable:!0,get:function(){return Cr.default}}),Object.defineProperty(e,"setDate",{enumerable:!0,get:function(){return wr.default}}),Object.defineProperty(e,"setDay",{enumerable:!0,get:function(){return Sr.default}}),Object.defineProperty(e,"setDayOfYear",{enumerable:!0,get:function(){return kr.default}}),Object.defineProperty(e,"setHours",{enumerable:!0,get:function(){return Ar.default}}),Object.defineProperty(e,"setISODay",{enumerable:!0,get:function(){return Rr.default}}),Object.defineProperty(e,"setISOWeek",{enumerable:!0,get:function(){return Wr.default}}),Object.defineProperty(e,"setISOWeekYear",{enumerable:!0,get:function(){return Ur.default}}),Object.defineProperty(e,"setMilliseconds",{enumerable:!0,get:function(){return Lr.default}}),Object.defineProperty(e,"setMinutes",{enumerable:!0,get:function(){return Br.default}}),Object.defineProperty(e,"setMonth",{enumerable:!0,get:function(){return Nr.default}}),Object.defineProperty(e,"setQuarter",{enumerable:!0,get:function(){return jr.default}}),Object.defineProperty(e,"setSeconds",{enumerable:!0,get:function(){return Kr.default}}),Object.defineProperty(e,"setWeek",{enumerable:!0,get:function(){return Yr.default}}),Object.defineProperty(e,"setWeekYear",{enumerable:!0,get:function(){return qr.default}}),Object.defineProperty(e,"setYear",{enumerable:!0,get:function(){return Fr.default}}),Object.defineProperty(e,"startOfDay",{enumerable:!0,get:function(){return $r.default}}),Object.defineProperty(e,"startOfDecade",{enumerable:!0,get:function(){return Hr.default}}),Object.defineProperty(e,"startOfHour",{enumerable:!0,get:function(){return Qr.default}}),Object.defineProperty(e,"startOfISOWeek",{enumerable:!0,get:function(){return Vr.default}}),Object.defineProperty(e,"startOfISOWeekYear",{enumerable:!0,get:function(){return zr.default}}),Object.defineProperty(e,"startOfMinute",{enumerable:!0,get:function(){return Gr.default}}),Object.defineProperty(e,"startOfMonth",{enumerable:!0,get:function(){return Jr.default}}),Object.defineProperty(e,"startOfQuarter",{enumerable:!0,get:function(){return Xr.default}}),Object.defineProperty(e,"startOfSecond",{enumerable:!0,get:function(){return Zr.default}}),Object.defineProperty(e,"startOfToday",{enumerable:!0,get:function(){return en.default}}),Object.defineProperty(e,"startOfTomorrow",{enumerable:!0,get:function(){return tn.default}}),Object.defineProperty(e,"startOfWeek",{enumerable:!0,get:function(){return rn.default}}),Object.defineProperty(e,"startOfWeekYear",{enumerable:!0,get:function(){return nn.default}}),Object.defineProperty(e,"startOfYear",{enumerable:!0,get:function(){return an.default}}),Object.defineProperty(e,"startOfYesterday",{enumerable:!0,get:function(){return on.default}}),Object.defineProperty(e,"sub",{enumerable:!0,get:function(){return sn.default}}),Object.defineProperty(e,"subBusinessDays",{enumerable:!0,get:function(){return un.default}}),Object.defineProperty(e,"subDays",{enumerable:!0,get:function(){return cn.default}}),Object.defineProperty(e,"subHours",{enumerable:!0,get:function(){return ln.default}}),Object.defineProperty(e,"subISOWeekYears",{enumerable:!0,get:function(){return dn.default}}),Object.defineProperty(e,"subMilliseconds",{enumerable:!0,get:function(){return fn.default}}),Object.defineProperty(e,"subMinutes",{enumerable:!0,get:function(){return _n.default}}),Object.defineProperty(e,"subMonths",{enumerable:!0,get:function(){return pn.default}}),Object.defineProperty(e,"subQuarters",{enumerable:!0,get:function(){return gn.default}}),Object.defineProperty(e,"subSeconds",{enumerable:!0,get:function(){return hn.default}}),Object.defineProperty(e,"subWeeks",{enumerable:!0,get:function(){return mn.default}}),Object.defineProperty(e,"subYears",{enumerable:!0,get:function(){return vn.default}}),Object.defineProperty(e,"toDate",{enumerable:!0,get:function(){return yn.default}}),Object.defineProperty(e,"weeksToDays",{enumerable:!0,get:function(){return xn.default}}),Object.defineProperty(e,"yearsToMonths",{enumerable:!0,get:function(){return On.default}}),Object.defineProperty(e,"yearsToQuarters",{enumerable:!0,get:function(){return En.default}});var r=bn(add.exports),n=bn(addBusinessDays.exports),a=bn(addDays.exports),o=bn(addHours.exports),s=bn(addISOWeekYears.exports),i=bn(addMilliseconds.exports),u=bn(addMinutes.exports),c=bn(addMonths.exports),l=bn(addQuarters.exports),d=bn(addSeconds.exports),f=bn(addWeeks.exports),_=bn(addYears.exports),p=bn(areIntervalsOverlapping.exports),g=bn(clamp.exports),h=bn(closestIndexTo.exports),m=bn(closestTo.exports),v=bn(compareAsc.exports),y=bn(compareDesc.exports),x=bn(daysToWeeks.exports),O=bn(differenceInBusinessDays.exports),E=bn(differenceInCalendarDays.exports),M=bn(differenceInCalendarISOWeekYears.exports),b=bn(differenceInCalendarISOWeeks.exports),D=bn(differenceInCalendarMonths.exports),P=bn(differenceInCalendarQuarters.exports),T=bn(differenceInCalendarWeeks.exports),I=bn(differenceInCalendarYears.exports),C=bn(differenceInDays.exports),w=bn(differenceInHours.exports),S=bn(differenceInISOWeekYears.exports),k=bn(differenceInMilliseconds.exports),A=bn(differenceInMinutes.exports),R=bn(differenceInMonths.exports),W=bn(differenceInQuarters.exports),U=bn(differenceInSeconds.exports),L=bn(differenceInWeeks.exports),B=bn(differenceInYears.exports),N=bn(eachDayOfInterval.exports),j=bn(eachHourOfInterval.exports),K=bn(eachMinuteOfInterval.exports),Y=bn(eachMonthOfInterval.exports),q=bn(eachQuarterOfInterval.exports),F=bn(eachWeekOfInterval.exports),$=bn(eachWeekendOfInterval.exports),H=bn(eachWeekendOfMonth.exports),Q=bn(eachWeekendOfYear.exports),V=bn(eachYearOfInterval.exports),z=bn(endOfDay.exports),G=bn(endOfDecade.exports),J=bn(endOfHour.exports),X=bn(endOfISOWeek.exports),Z=bn(endOfISOWeekYear.exports),ee=bn(endOfMinute.exports),te=bn(endOfMonth.exports),re=bn(endOfQuarter.exports),ne=bn(endOfSecond.exports),ae=bn(endOfToday.exports),oe=bn(endOfTomorrow.exports),se=bn(endOfWeek.exports),ie=bn(endOfYear.exports),ue=bn(endOfYesterday.exports),ce=bn(format.exports),le=bn(formatDistance.exports),de=bn(formatDistanceStrict.exports),fe=bn(formatDistanceToNow.exports),_e=bn(formatDistanceToNowStrict.exports),pe=bn(formatDuration.exports),ge=bn(formatISO.exports),he=bn(formatISO9075.exports),me=bn(formatISODuration.exports),ve=bn(formatRFC3339.exports),ye=bn(formatRFC7231.exports),xe=bn(formatRelative.exports),Oe=bn(fromUnixTime.exports),Ee=bn(getDate.exports),Me=bn(getDay.exports),be=bn(getDayOfYear.exports),De=bn(getDaysInMonth.exports),Pe=bn(getDaysInYear.exports),Te=bn(getDecade.exports),Ie=bn(getHours.exports),Ce=bn(getISODay.exports),we=bn(getISOWeek.exports),Se=bn(getISOWeekYear.exports),ke=bn(getISOWeeksInYear.exports),Ae=bn(getMilliseconds.exports),Re=bn(getMinutes.exports),We=bn(getMonth.exports),Ue=bn(getOverlappingDaysInIntervals.exports),Le=bn(getQuarter.exports),Be=bn(getSeconds.exports),Ne=bn(getTime.exports),je=bn(getUnixTime.exports),Ke=bn(getWeek.exports),Ye=bn(getWeekOfMonth.exports),qe=bn(getWeekYear.exports),Fe=bn(getWeeksInMonth.exports),$e=bn(getYear.exports),He=bn(hoursToMilliseconds.exports),Qe=bn(hoursToMinutes.exports),Ve=bn(hoursToSeconds.exports),ze=bn(intervalToDuration.exports),Ge=bn(intlFormat.exports),Je=bn(isAfter.exports),Xe=bn(isBefore.exports),Ze=bn(isDate.exports),et=bn(isEqual.exports),tt=bn(isExists.exports),rt=bn(isFirstDayOfMonth.exports),nt=bn(isFriday.exports),at=bn(isFuture.exports),ot=bn(isLastDayOfMonth.exports),st=bn(isLeapYear.exports),it=bn(isMatch.exports),ut=bn(isMonday.exports),ct=bn(isPast.exports),lt=bn(isSameDay.exports),dt=bn(isSameHour.exports),ft=bn(isSameISOWeek.exports),_t=bn(isSameISOWeekYear.exports),pt=bn(isSameMinute.exports),gt=bn(isSameMonth.exports),ht=bn(isSameQuarter.exports),mt=bn(isSameSecond.exports),vt=bn(isSameWeek.exports),yt=bn(isSameYear.exports),xt=bn(isSaturday.exports),Ot=bn(isSunday.exports),Et=bn(isThisHour.exports),Mt=bn(isThisISOWeek.exports),bt=bn(isThisMinute.exports),Dt=bn(isThisMonth.exports),Pt=bn(isThisQuarter.exports),Tt=bn(isThisSecond.exports),It=bn(isThisWeek.exports),Ct=bn(isThisYear.exports),wt=bn(isThursday.exports),St=bn(isToday.exports),kt=bn(isTomorrow.exports),At=bn(isTuesday.exports),Rt=bn(isValid.exports),Wt=bn(isWednesday.exports),Ut=bn(isWeekend.exports),Lt=bn(isWithinInterval.exports),Bt=bn(isYesterday.exports),Nt=bn(lastDayOfDecade.exports),jt=bn(lastDayOfISOWeek.exports),Kt=bn(lastDayOfISOWeekYear.exports),Yt=bn(lastDayOfMonth.exports),qt=bn(lastDayOfQuarter.exports),Ft=bn(lastDayOfWeek.exports),$t=bn(lastDayOfYear.exports),Ht=bn(lightFormat.exports),Qt=bn(max.exports),Vt=bn(milliseconds.exports),zt=bn(millisecondsToHours.exports),Gt=bn(millisecondsToMinutes.exports),Jt=bn(millisecondsToSeconds.exports),Xt=bn(min.exports),Zt=bn(minutesToHours.exports),er=bn(minutesToMilliseconds.exports),tr=bn(minutesToSeconds.exports),rr=bn(monthsToQuarters.exports),nr=bn(monthsToYears.exports),ar=bn(nextDay.exports),or=bn(nextFriday.exports),sr=bn(nextMonday.exports),ir=bn(nextSaturday.exports),ur=bn(nextSunday.exports),cr=bn(nextThursday.exports),lr=bn(nextTuesday.exports),dr=bn(nextWednesday.exports),fr=bn(parse.exports),_r=bn(parseISO.exports),pr=bn(parseJSON.exports),gr=bn(previousDay.exports),hr=bn(previousFriday.exports),mr=bn(previousMonday.exports),vr=bn(previousSaturday.exports),yr=bn(previousSunday.exports),xr=bn(previousThursday.exports),Or=bn(previousTuesday.exports),Er=bn(previousWednesday.exports),Mr=bn(quartersToMonths.exports),br=bn(quartersToYears.exports),Dr=bn(roundToNearestMinutes.exports),Pr=bn(secondsToHours.exports),Tr=bn(secondsToMilliseconds.exports),Ir=bn(secondsToMinutes.exports),Cr=bn(set.exports),wr=bn(setDate.exports),Sr=bn(setDay.exports),kr=bn(setDayOfYear.exports),Ar=bn(setHours.exports),Rr=bn(setISODay.exports),Wr=bn(setISOWeek.exports),Ur=bn(setISOWeekYear.exports),Lr=bn(setMilliseconds.exports),Br=bn(setMinutes.exports),Nr=bn(setMonth.exports),jr=bn(setQuarter.exports),Kr=bn(setSeconds.exports),Yr=bn(setWeek.exports),qr=bn(setWeekYear.exports),Fr=bn(setYear.exports),$r=bn(startOfDay.exports),Hr=bn(startOfDecade.exports),Qr=bn(startOfHour.exports),Vr=bn(startOfISOWeek.exports),zr=bn(startOfISOWeekYear.exports),Gr=bn(startOfMinute.exports),Jr=bn(startOfMonth.exports),Xr=bn(startOfQuarter.exports),Zr=bn(startOfSecond.exports),en=bn(startOfToday.exports),tn=bn(startOfTomorrow.exports),rn=bn(startOfWeek.exports),nn=bn(startOfWeekYear.exports),an=bn(startOfYear.exports),on=bn(startOfYesterday.exports),sn=bn(sub.exports),un=bn(subBusinessDays.exports),cn=bn(subDays.exports),ln=bn(subHours.exports),dn=bn(subISOWeekYears.exports),fn=bn(subMilliseconds.exports),_n=bn(subMinutes.exports),pn=bn(subMonths.exports),gn=bn(subQuarters.exports),hn=bn(subSeconds.exports),mn=bn(subWeeks.exports),vn=bn(subYears.exports),yn=bn(toDate.exports),xn=bn(weeksToDays.exports),On=bn(yearsToMonths.exports),En=bn(yearsToQuarters.exports),Mn=constants;function bn(e){return e&&e.__esModule?e:{default:e}}Object.keys(Mn).forEach((function(r){"default"!==r&&"__esModule"!==r&&(Object.prototype.hasOwnProperty.call(t,r)||Object.defineProperty(e,r,{enumerable:!0,get:function(){return Mn[r]}}))}))}(dateFns),function(e){e[e.or=0]="or",e[e.and=1]="and"}(ListDelimiter||(ListDelimiter={}));var DURATION_FORMAT_TO_MS_MULTIPLIER={ms:1,millisecond:1,milliseconds:1,s:1e3,second:1e3,seconds:1e3,m:6e4,minute:6e4,minutes:6e4,h:36e5,hour:36e5,hours:36e5,d:864e5,day:864e5,days:864e5,w:6048e5,week:6048e5,weeks:6048e5,M:2628e6,month:2628e6,months:2628e6,Q:7776e6,quarter:7776e6,quarters:7776e6,y:3154e7,years:3154e7,year:3154e7};function listisize(e,t){void 0===t&&(t=ListDelimiter.or);var r=ListDelimiter[t];if(!e||0===e.length)return"";if(1===e.length)return e[0];if(e.length>=2){var n=e.length-2;return e.reduce((function(e,t,a){return e+=t,a<n?e+=", ":a===n&&(e+=" ".concat(r," ")),e}),"")}}var TEMPLATE_REGEX=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g;function compileString(e,t,r,n){for(var a,o=e,s=new RegExp(TEMPLATE_REGEX);null!==(a=s.exec(e));){var i=void 0,u=t[a[1].trim()];u&&(i=slotValueToSpeech(u.value,r)),(i||n)&&(o=o.replace(a[0],i))}return o}function compileSlotValues(e,t,r){if(!e||!t)return e;var n=e;if("string"==typeof n)n=compileString(n,t,"displayText",r);else{var a=n;["ssml","displayText"].forEach((function(e){a[e]&&(a[e]=compileString(a[e],t,e,r))}))}return n}var FailureMessage=function(e){var t=e.agents,r=e.text,n=e.delay,a=e.time,o=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(n),s=o[0],i=o[1],u=Object.values(t).filter((function(e){return e.requestFailed}));(0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)((function(){if(0!==n)var e=n,t=setInterval((function(){e--,i(e),0===e&&clearInterval(t)}),1e3);else i(5)}),[n]);var c=(0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)((function(){return{sec:{name:"sec",value:s}}}),[s]),l=(0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)((function(){return compileSlotValues(r,c)}),[r,c]);return 0===s?react__WEBPACK_IMPORTED_MODULE_0__.createElement(react__WEBPACK_IMPORTED_MODULE_0__.Fragment,null):react__WEBPACK_IMPORTED_MODULE_0__.createElement(react__WEBPACK_IMPORTED_MODULE_0__.Fragment,null,u.map((function(e){return react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"chat-msg-container-wrapper",key:"failure-msg-".concat(e.user.nick)},react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"chat-msg-container agent",key:e.user.nick},react__WEBPACK_IMPORTED_MODULE_0__.createElement(ChatMessagePart,{user:e.user,showAvatar:!0},react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"chat-msg"},react__WEBPACK_IMPORTED_MODULE_0__.createElement(ChatMessageBubble,{owner:"others",hasTail:!0},react__WEBPACK_IMPORTED_MODULE_0__.createElement("span",{className:"message-sr-only"},"at "+a+" the bot said"),react__WEBPACK_IMPORTED_MODULE_0__.createElement("span",null,l))))))})))},MessageSvg=function(e){return react__WEBPACK_IMPORTED_MODULE_0__.createElement("svg",{className:"message-svg",width:"16",height:"12",viewBox:"0 0 16 12"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("path",{d:"M14.4 0H1.6C.72 0 .008.675.008 1.5L0 10.5c0 .825.72 1.5 1.6 1.5h12.8c.88 0 1.6-.675 1.6-1.5v-9c0-.825-.72-1.5-1.6-1.5zm0 3L8 6.75 1.6 3V1.5L8 5.25l6.4-3.75V3z",fill:"#424242",fillRule:"evenodd"}))},MessageForm=function(e){var t=(0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(null),r=(0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(null),n=(0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(null),a=(0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(null),o=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(!1),s=o[0],i=o[1];function u(){var e,t,n;(null===(e=r.current)||void 0===e?void 0:e.validity.patternMismatch)?null===(t=r.current)||void 0===t||t.setCustomValidity("This doesn't look like an email!"):null===(n=r.current)||void 0===n||n.setCustomValidity("")}function c(o){var s,u,c,l,d;o.preventDefault(),(null===(s=a.current)||void 0===s?void 0:s.checkValidity())?(e.onSubmit({name:null===(c=t.current)||void 0===c?void 0:c.value,email:null===(l=r.current)||void 0===l?void 0:l.value,message:null===(d=n.current)||void 0===d?void 0:d.value}),i(!0)):null===(u=a.current)||void 0===u||u.reportValidity()}function l(){i(!1)}return react__WEBPACK_IMPORTED_MODULE_0__.createElement(CardContainer,{title:e.title,addClass:"offline-card",contentAddClass:s?"sent":"",icon:react__WEBPACK_IMPORTED_MODULE_0__.createElement(MessageSvg,null)},s?react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{key:"sent",className:"message-form--sent"},"Your message has been sent. We will get back to you as soon as possible.",react__WEBPACK_IMPORTED_MODULE_0__.createElement(ActionButton,{addClass:"button-resend",label:"Send another",onClick:l})):react__WEBPACK_IMPORTED_MODULE_0__.createElement("form",{ref:a,key:"not-sent",className:"message-form",onSubmit:c},react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"content"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"section"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("label",{className:"label"},"Name"),react__WEBPACK_IMPORTED_MODULE_0__.createElement("input",{ref:t,maxLength:255})),react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"section"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("label",{className:"label"},"Email"),react__WEBPACK_IMPORTED_MODULE_0__.createElement("input",{ref:r,onChange:u,type:"email",required:!0,pattern:EMAIL_REGEX})),react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"section"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("label",{className:"label"},"Message"),react__WEBPACK_IMPORTED_MODULE_0__.createElement("textarea",{required:!0,ref:n}))),react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"button-container"},react__WEBPACK_IMPORTED_MODULE_0__.createElement(ActionButton,{type:"submit",addClass:"message-form__submit",label:"Send"}))))},OfflineForm=function(e){return react__WEBPACK_IMPORTED_MODULE_0__.createElement(MessageForm,{title:"Offline message card title",onSubmit:e.onSubmit})},OfflineFormContainer=function(e){var t=useChatServerDispatch(),r=(0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)((function(e){t(sendOfflineMsg(e))}),[t]);return react__WEBPACK_IMPORTED_MODULE_0__.createElement(react__WEBPACK_IMPORTED_MODULE_0__.Fragment,null,react__WEBPACK_IMPORTED_MODULE_0__.createElement("span",{className:"message-sr-only"},"at "+e.time+" system message"),react__WEBPACK_IMPORTED_MODULE_0__.createElement(OfflineForm,{onSubmit:r}))},PrechatForm=function(e){var t=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(!1),r=t[0],n=t[1],a=e.onSubmit,o=(0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)((function(e){a(e),n(!0)}),[a]);return react__WEBPACK_IMPORTED_MODULE_0__.createElement(react__WEBPACK_IMPORTED_MODULE_0__.Fragment,null,!r&&react__WEBPACK_IMPORTED_MODULE_0__.createElement(MessageForm,{title:"Introduce yourself!",onSubmit:o}))},PrechatFormContainer=function(e){var t=useChatServerDispatch(),r=(0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)((function(e){e.message&&(t(sendVisitorInfo({displayName:e.name,email:e.email})),t(executeAction(e.message)))}),[t]);return react__WEBPACK_IMPORTED_MODULE_0__.createElement(react__WEBPACK_IMPORTED_MODULE_0__.Fragment,null,react__WEBPACK_IMPORTED_MODULE_0__.createElement("span",{className:"message-sr-only"},"at "+e.time+" system message"),react__WEBPACK_IMPORTED_MODULE_0__.createElement(PrechatForm,{onSubmit:r}))},defaultProps$1={position:0},QueuePosition=function(e){return void 0===e&&(e=defaultProps$1),e.position<=0?null:react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"system-msg-container"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("span",{className:"system-msg"},"Queue position: ",e.position))};function getMessageByType(e){switch(e.type){case"chat.memberjoin":return"".concat(e.user.displayName||"Bot"," has joined the chat");case"chat.memberleave":return"".concat(e.user.displayName||"Bot"," has left the chat");case"chat.rating":if(e.newRating){var t=convertToSentenceCase(e.newRating);return"You have rated the chat service ".concat(t)}return"You have removed the chat rating";default:return JSON.stringify(e)}}var SystemMessage=function(e){return react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"system-msg-container"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("span",{className:"message-sr-only"},"at "+e.time+" system message"),react__WEBPACK_IMPORTED_MODULE_0__.createElement("span",{className:"system-msg"},getMessageByType(e.message)))};function convertToSentenceCase(e){return e[0].toUpperCase()+e.slice(1)}var TypingIndicator=function(e){return react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"typing-indicator"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"typing-indicator-part"}),react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"typing-indicator-part"}),react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"typing-indicator-part"}))},TypingStatus=function(e){var t=Object.values(e.agents).filter((function(e){return e.typing}));return react__WEBPACK_IMPORTED_MODULE_0__.createElement(react__WEBPACK_IMPORTED_MODULE_0__.Fragment,null,t.map((function(t){var r,n;return react__WEBPACK_IMPORTED_MODULE_0__.createElement(react__WEBPACK_IMPORTED_MODULE_0__.Fragment,null,e.textTypingStatusEnabled?react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{key:"typing-status-".concat(t.user.nick),className:"chat-msg-agent-typing"},null!==(n=null===(r=t.user)||void 0===r?void 0:r.displayName)&&void 0!==n?n:"Somebody"," is typing"):react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"chat-msg-container-wrapper",key:"typing-status-".concat(t.user.nick)},react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{key:t.user.nick,className:"chat-msg-container agent chat-typing-progress"},react__WEBPACK_IMPORTED_MODULE_0__.createElement(ChatMessagePart,{user:t.user,showAvatar:!0},react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"chat-msg"},react__WEBPACK_IMPORTED_MODULE_0__.createElement(ChatMessageBubble,{owner:"others",hasTail:!0},react__WEBPACK_IMPORTED_MODULE_0__.createElement(TypingIndicator,null)))))))})))},defaultProps={visible:!0,messages:[],agents:{},isOffline:!0,isChatting:!1,queuePosition:0,lastRatingRequestTimestamp:0,hasRating:!1,visitorId:"",onSend:function(){return Promise.resolve()},onWrite:function(){return Promise.resolve()},onOpenUrl:function(){}},MessageList=function(e){void 0===e&&(e=defaultProps);var t=e.onSend,r=e.onWrite,n=e.onOpenUrl,a=(0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(null);(0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)((function(){a.current.scrollIntoView({behavior:"smooth"})}),[e.messages,e.agents]);var o=(0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)((function(e){t(e),a.current.scrollIntoView({behavior:"smooth"})}),[t]),s=(0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)((function(e){r(e),a.current.scrollIntoView({behavior:"smooth"})}),[r]),i=(0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)((function(){return new MiddlewareContextFactory({send:o,write:s,openUrl:n})}),[o,s,n]),u=new Date,c=u.getHours()+":"+u.getMinutes();var l=e.agents,d=e.queuePosition;return react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"message-list-container"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"message-list-container__msgs"},e.messages.map((function(t){return function(t,r){var n,a;switch(t.user.nick.startsWith("visitor:")?a=t.user:(a=(null===(n=e.agents[t.user.nick])||void 0===n?void 0:n.user)||e.agent)||(console.warn('Could not get a user from agents list with nick: "'.concat(t.user.nick,'"')),a=t.user),t.type){case"chat.file":case"chat.msg":return react__WEBPACK_IMPORTED_MODULE_0__.createElement(ChatMessage,{key:t.type+t.timestamp,message:t,sibling:r,agent:a,time:c,messageMiddleware:e.messageMiddleware,middlewareContext:i.resolve(a)});case"chat.failureMsg":return react__WEBPACK_IMPORTED_MODULE_0__.createElement(FailureMessage,__assign({key:t.type+t.timestamp,agents:e.agents,time:c},t.failureMsg));case"chat.memberjoin":case"chat.memberleave":case"chat.rating":case"chat.typing":return react__WEBPACK_IMPORTED_MODULE_0__.createElement(SystemMessage,{key:t.type+t.timestamp,time:c,message:t});case"chat.request.rating":return react__WEBPACK_IMPORTED_MODULE_0__.createElement(ChatRatingContainer,{key:t.type+t.timestamp,agent:a,hasRating:e.hasRating,time:c,shouldDisplay:t.timestamp===e.lastRatingRequestTimestamp});case"chat.offline":return react__WEBPACK_IMPORTED_MODULE_0__.createElement(OfflineFormContainer,{key:"offline-".concat(t.timestamp),time:c});case"chat.prechat":return react__WEBPACK_IMPORTED_MODULE_0__.createElement(PrechatFormContainer,{key:"prechat",time:c});default:return react__WEBPACK_IMPORTED_MODULE_0__.createElement(react__WEBPACK_IMPORTED_MODULE_0__.Fragment,null,react__WEBPACK_IMPORTED_MODULE_0__.createElement("span",{className:"message-sr-only"},"at "+c+" system message"),react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{key:+new Date},"Unhandled message: ",JSON.stringify(t)))}}(t,!1)})),react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{ref:a,style:{float:"left",clear:"both"}}),react__WEBPACK_IMPORTED_MODULE_0__.createElement(QueuePosition,{position:d}),react__WEBPACK_IMPORTED_MODULE_0__.createElement(TypingStatus,{agents:l,textTypingStatusEnabled:e.textTypingStatusEnabled})),react__WEBPACK_IMPORTED_MODULE_0__.createElement(ChatChipsContainer,null))},ServerOffline=function(){return react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"server-offline"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("h2",null,"Chat is currently unavailable"),react__WEBPACK_IMPORTED_MODULE_0__.createElement("h3",null,"Server is offline"))},CancelButton=function(e){return react__WEBPACK_IMPORTED_MODULE_0__.createElement("button",{id:"xapp-widget-close","aria-label":"close widget","aria-hidden":!0,tabIndex:e.tabIndex?Number(e.tabIndex):0,className:"cancel-button",onClick:e.onClick})},MinimizeButton=function(e){return react__WEBPACK_IMPORTED_MODULE_0__.createElement("button",{id:"xapp-widget-minimize","aria-label":"minimize widget","aria-hidden":!0,tabIndex:e.tabIndex?Number(e.tabIndex):0,className:"minimize-button ".concat(e.showInRight?"positionRight":""),onClick:e.onClick})},RefreshButton=function(e){return react__WEBPACK_IMPORTED_MODULE_0__.createElement("button",{id:"xapp-widget-refresh","aria-label":"refresh chat","aria-hidden":!0,tabIndex:e.tabIndex?Number(e.tabIndex):0,className:"refresh-button ".concat(e.showInRight?"positionRight":e.showInLeft?"positionLeft":""),onClick:e.onClick})},DEFAULT_STATUS_CONFIG={online:"Virtual Assistant",offline:"Leave us a message",away:"We're away!",connecting:"Connecting..."};function getStatusText(e,t){var r,n,a,o;switch(e){case"online":return null!==(r=null==t?void 0:t.online)&&void 0!==r?r:DEFAULT_STATUS_CONFIG.online;case"offline":return null!==(n=null==t?void 0:t.offline)&&void 0!==n?n:DEFAULT_STATUS_CONFIG.offline;case"away":return null!==(a=null==t?void 0:t.away)&&void 0!==a?a:DEFAULT_STATUS_CONFIG.away;default:return null!==(o=null==t?void 0:t.connecting)&&void 0!==o?o:DEFAULT_STATUS_CONFIG.connecting}}var refreshButtonAriaLabel="To refresh chat click on clockwise gapped circle arrow icon in top right side of widget. ",minimizeButtonAriaLabel="To minimize widget click on minus icon in top right side of widget. ",closeButtonAriaLabel="To close widget click on close icon in top right side of widget.",ChatHeader=function(e){var t,r,n,a,o,s,i,u,c,l,d,f,_,p,g=e.menuConfig,h=e.onSubmit,m=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(!1),v=m[0],y=m[1],x="HEADER_LEFT"===((null==g?void 0:g.menuButtonLocation)||"FOOTER"),O=null==g?void 0:g.items,E=null==g?void 0:g.itemsTabIndex,M=null===(t=null==g?void 0:g.button)||void 0===t?void 0:t.tabIndex,b=(0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)((function(){return O||[]}),[O]);return react__WEBPACK_IMPORTED_MODULE_0__.createElement(react__WEBPACK_IMPORTED_MODULE_0__.Fragment,null,react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"status-container background-header","aria-label":e.canRefresh?refreshButtonAriaLabel:""+e.canMinimize?minimizeButtonAriaLabel:""+e.canCancel?closeButtonAriaLabel:"","aria-hidden":!0},x&&b.length?react__WEBPACK_IMPORTED_MODULE_0__.createElement(react__WEBPACK_IMPORTED_MODULE_0__.Fragment,null,react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"chat-footer__menu-icon"},react__WEBPACK_IMPORTED_MODULE_0__.createElement(DrawerBars,{bars:3,tabIndex:M,onToggle:function(){var e=!v;y(e),set$1("drawer",e)}}))):react__WEBPACK_IMPORTED_MODULE_0__.createElement(react__WEBPACK_IMPORTED_MODULE_0__.Fragment,null),react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"status-container__avatar"},react__WEBPACK_IMPORTED_MODULE_0__.createElement(Avatar,{entity:e.agent})),react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"".concat("status-text"," ").concat((null===(r=e.config)||void 0===r?void 0:r.alignTextCenter)?"status-text-positionCenter":"status-text-positionLeft")},react__WEBPACK_IMPORTED_MODULE_0__.createElement("span",{className:"status-text-title"},getStatusText(e.accountStatus,null===(n=e.config)||void 0===n?void 0:n.status)),(null===(o=null===(a=e.config)||void 0===a?void 0:a.subtitle)||void 0===o?void 0:o.enabled)&&react__WEBPACK_IMPORTED_MODULE_0__.createElement("span",{className:"status-text-subtitle"},null!==(u=null===(i=null===(s=e.config)||void 0===s?void 0:s.subtitle)||void 0===i?void 0:i.text)&&void 0!==u?u:"")),e.canRefresh&&react__WEBPACK_IMPORTED_MODULE_0__.createElement(RefreshButton,{onClick:e.refreshOnClick,tabIndex:null===(l=null===(c=e.config)||void 0===c?void 0:c.actions)||void 0===l?void 0:l.refreshTabIndex,showInLeft:e.canMinimize&&e.canCancel,showInRight:!e.canMinimize&&!e.canCancel}),e.canMinimize&&react__WEBPACK_IMPORTED_MODULE_0__.createElement(MinimizeButton,{onClick:e.minimizeOnClick,tabIndex:null===(f=null===(d=e.config)||void 0===d?void 0:d.actions)||void 0===f?void 0:f.minimizeTabIndex,showInRight:!e.canCancel}),e.canCancel&&react__WEBPACK_IMPORTED_MODULE_0__.createElement(CancelButton,{onClick:e.cancelOnClick,tabIndex:null===(p=null===(_=e.config)||void 0===_?void 0:_.actions)||void 0===p?void 0:p.cancelTabIndex})),v?react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"xa-chat-menu-container"},react__WEBPACK_IMPORTED_MODULE_0__.createElement(ChatMenu,{openFrom:"left",opened:v,tabIndex:E,onItemClick:function(e){y(!1),h(e)},items:b})):react__WEBPACK_IMPORTED_MODULE_0__.createElement(react__WEBPACK_IMPORTED_MODULE_0__.Fragment,null))};function buildStyleContent(e){var t,r,n,a,o;return"\n:root {\n".concat(buildVariables(withPrefix("\t--xapp-",union(single("primary-color",null==e?void 0:e.primaryColor),withPrefix("widget-",union(getSize(null==e?void 0:e.size),getMargins(null==e?void 0:e.margin),getBorderStyle(null==e?void 0:e.border),getZIndex(null==e?void 0:e.zIndex))),getChatButtonStyle(null==e?void 0:e.chatButton),withPrefix("header-",getHeaderStyle(null==e?void 0:e.header)),withPrefix("footer-",getFooterStyle(null==e?void 0:e.footer)),withPrefix("content-",union(getBackgroundStyle(null===(t=null==e?void 0:e.content)||void 0===t?void 0:t.background))),withPrefix("messages-",getMessagesStyle(null==e?void 0:e.messages)),withPrefix("text-typing-status-",getTextStyle(null===(r=null==e?void 0:e.textTypingStatus)||void 0===r?void 0:r.text)),withPrefix("send-",getButtonStyle(null==e?void 0:e.sendButton)),withPrefix("menu-",getButtonStyle(null==e?void 0:e.menuButton)),withPrefix("menu-",getMenuStyle(null==e?void 0:e.menu)),withPrefix("refresh-",getButtonStyle(null==e?void 0:e.refreshButton)),withPrefix("minimize-",getButtonStyle(null==e?void 0:e.minimizeButton)),withPrefix("cancel-",getButtonStyle(null==e?void 0:e.cancelButton)),withPrefix("carousel-",union(withPrefix("title-",getTextStyle(null===(n=null==e?void 0:e.carousel)||void 0===n?void 0:n.title)),withPrefix("subtitle-",getTextStyle(null===(a=null==e?void 0:e.carousel)||void 0===a?void 0:a.subtitle)),withPrefix("action-",getButtonStyle(null===(o=null==e?void 0:e.carousel)||void 0===o?void 0:o.button)))),withPrefix("input-",getInputStyle(null==e?void 0:e.input)),withPrefix("cta-",getCtaStyle(null==e?void 0:e.cta))))),"\n}")}function WidgetStylesheet(e){var t=buildStyleContent(e.theme);return react__WEBPACK_IMPORTED_MODULE_0__.createElement("style",null,t)}function buildVariables(e){for(var t=e.next(),r="";!1===t.done;){var n=t.value,a=n[0],o=n[1];null!=o&&""!==o&&(r+="".concat(a,": ").concat(o,";\n\r")),t=e.next()}return r}function withPrefix(e,t){var r;return __generator$1(this,(function(n){switch(n.label){case 0:r=t.next(),n.label=1;case 1:return r.done?[3,3]:[4,["".concat(e).concat(r.value[0]),r.value[1]]];case 2:return n.sent(),r=t.next(),[3,1];case 3:return[2]}}))}function union(){var e,t,r,n,a,o=[];for(e=0;e<arguments.length;e++)o[e]=arguments[e];return __generator$1(this,(function(e){switch(e.label){case 0:t=0,r=o,e.label=1;case 1:if(!(t<r.length))return[3,5];n=r[t],a=n.next(),e.label=2;case 2:return!1!==a.done?[3,4]:[4,a.value];case 3:return e.sent(),a=n.next(),[3,2];case 4:return t++,[3,1];case 5:return[2]}}))}function single(e,t){return __generator$1(this,(function(r){switch(r.label){case 0:return[4,[e,t]];case 1:return r.sent(),[2]}}))}function empty(){return __generator$1(this,(function(e){return[2]}))}function getChatButtonStyle(e){return e?withPrefix("chat-button-",union(getMargins(e.margin),getBackgroundStyle(e.background))):empty()}function getMessagesStyle(e){return e?union(withPrefix("mine-",getMessageStyle(e.mine)),withPrefix("others-",getMessageStyle(e.others)),getPaddings(null==e?void 0:e.padding),single("max-width",null==e?void 0:e.maxWidth)):empty()}function getMessageStyle(e){return union(single("bubble-color",null==e?void 0:e.bubbleColor),getTextStyle(null==e?void 0:e.text))}function getSize(e){return __generator$1(this,(function(t){switch(t.label){case 0:return[4,["width",null==e?void 0:e.width]];case 1:return t.sent(),[4,["height",null==e?void 0:e.height]];case 2:return t.sent(),[2]}}))}function getZIndex(e){return __generator$1(this,(function(t){switch(t.label){case 0:return e?[4,["z-index",e]]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}function getMargins(e){return __generator$1(this,(function(t){switch(t.label){case 0:return e?[4,["margin-top",e.top]]:[3,5];case 1:return t.sent(),[4,["margin-right",e.right]];case 2:return t.sent(),[4,["margin-bottom",e.bottom]];case 3:return t.sent(),[4,["margin-left",e.left]];case 4:t.sent(),t.label=5;case 5:return[2]}}))}function getPaddings(e){return __generator$1(this,(function(t){switch(t.label){case 0:return e?[4,["padding-top",e.top]]:[3,5];case 1:return t.sent(),[4,["padding-right",e.right]];case 2:return t.sent(),[4,["padding-bottom",e.bottom]];case 3:return t.sent(),[4,["padding-left",e.left]];case 4:t.sent(),t.label=5;case 5:return[2]}}))}function getTextStyle(e){return __generator$1(this,(function(t){switch(t.label){case 0:return e?[4,["text-color",e.color]]:[3,6];case 1:return t.sent(),[4,["font-size",e.fontSize]];case 2:return t.sent(),[4,["font-family",e.fontFamily]];case 3:return t.sent(),[4,["font-weight",e.fontWeight]];case 4:return t.sent(),[4,["font-style",e.fontStyle]];case 5:t.sent(),t.label=6;case 6:return[2]}}))}function getBackgroundStyle(e){return __generator$1(this,(function(t){switch(t.label){case 0:return[4,["background",e]];case 1:return t.sent(),[2]}}))}function getButtonStyle(e){return __generator$1(this,(function(t){switch(t.label){case 0:return[4,["button-color",null==e?void 0:e.color]];case 1:return t.sent(),[4,["button-width",null==e?void 0:e.width]];case 2:return t.sent(),[2]}}))}function getMenuItemStyle(e){return union(getTextStyle(null==e?void 0:e.text),withPrefix("subtitle-",getTextStyle(null==e?void 0:e.subtitle)),getBorderStyle(null==e?void 0:e.border),getBackgroundStyle(null==e?void 0:e.background),single("height",null==e?void 0:e.height))}function getMenuStyle(e){return union(withPrefix("item-",getMenuItemStyle(null==e?void 0:e.item)))}function getBorderStyle(e){return __generator$1(this,(function(t){switch(t.label){case 0:return e?[4,["border-color",e.color]]:[3,4];case 1:return t.sent(),[4,["border-width",e.width]];case 2:return t.sent(),[4,["border-radius",e.radius]];case 3:t.sent(),t.label=4;case 4:return[2]}}))}function getHeaderStyle(e){return e?union(getBackgroundStyle(e.background),getTextStyle(e.text),withPrefix("subtitle-",getTextStyle(e.subtitle)),getBorderStyle(e.border)):empty()}function getFooterStyle(e){var t;return e?union(getBackgroundStyle(e.background),getBorderStyle(e.border),withPrefix("branding-",getTextStyle(null===(t=e.branding)||void 0===t?void 0:t.text))):empty()}function getInputStyle(e){return e?union(getBackgroundStyle(e.background),getBorderStyle(e.border),getTextStyle(e.text),withPrefix("placeholder-",getTextStyle(e.placeholder))):empty()}function getCtaStyle(e){return e?union(getBackgroundStyle(e.background),getTextStyle(e.text)):empty()}var ModalContent=function(e){var t=e.onClose,r=e.onReset;return react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"modalContent"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"modalBody"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("h2",null,"Restart Conversation"),react__WEBPACK_IMPORTED_MODULE_0__.createElement("p",null,"Would you like to refresh and return to the starting point of the conversation?")),react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"modalActions"},react__WEBPACK_IMPORTED_MODULE_0__.createElement("button",{onClick:t,className:"cancelBtn"},"Cancel"),react__WEBPACK_IMPORTED_MODULE_0__.createElement("button",{onClick:r,className:"restartBtn"},"Restart")))},ChatWidgetWrapper=function(e){var t=e.config,r=useConnectionInfo(t),n=(0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)((function(){var e;return __assign(__assign({},t),{connection:r,assetUrl:null!==(e=null==r?void 0:r.serverUrl)&&void 0!==e?e:defaultServerUrl,env:t})}),[r,t]),a=(0,react_redux__WEBPACK_IMPORTED_MODULE_1__.v9)((function(e){return e.connection.token})),o=(0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)((function(){var e=getConfigurableMessages();return t.configurableMessages&&Array.isArray(t.configurableMessages.items)&&t.configurableMessages.items.length>0&&(e=t.configurableMessages),{token:a,bot:{nick:"Bot",displayName:t.botName,avatarPath:t.avatarUrl},configurableMessages:e,hooks:t.hooks}}),[a,t]),s=useChatServer(r,o);return react__WEBPACK_IMPORTED_MODULE_0__.createElement(ChatConfigContext.Provider,{value:n},react__WEBPACK_IMPORTED_MODULE_0__.createElement(ChatServerContext.Provider,{value:s},react__WEBPACK_IMPORTED_MODULE_0__.createElement(ChatWidget,__assign({},e))))},ChatWidget=function(e){var t,r,n,a,o,s,i,u,c,l,d,f,_,p,g,h,m,v,y,x,O,E=useChatDispatch(),M=useChatServerDispatch(),b=(0,react_redux__WEBPACK_IMPORTED_MODULE_1__.v9)((function(e){return e})),D=(0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)({});function P(){D.current.style.display="none"}var T,I=null!==(t=e.mode)&&void 0!==t?t:"normal",C="docked"===I,w="static"===I,S="widget-container--".concat(I),k=null===(n=null===(r=e.config.header)||void 0===r?void 0:r.actions)||void 0===n?void 0:n.refresh,A=!C&&!w&&(null===(o=null===(a=e.config.header)||void 0===a?void 0:a.actions)||void 0===o?void 0:o.minimize);T="boolean"==typeof(null===(i=null===(s=e.config.header)||void 0===s?void 0:s.actions)||void 0===i?void 0:i.cancel)?!C&&!w&&(null===(c=null===(u=e.config.header)||void 0===u?void 0:u.actions)||void 0===c?void 0:c.cancel):!C&&!w;var R=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(!A&&!T||!!get("visible")||(null===(l=e.config)||void 0===l?void 0:l.autoOpenOnWidth)&&window.matchMedia("(min-width: ".concat(null===(d=e.config)||void 0===d?void 0:d.autoOpenOnWidth,")")).matches),W=R[0],U=R[1],L=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(!1),B=L[0],N=L[1],j=(0,react__WEBPACK_IMPORTED_MODULE_0__.useContext)(ChatServerContext),K=(0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)((function(e){w||(U(e),set$1("visible",e))}),[w]);function Y(){B&&(M(sendTyping(!1)),N(!1))}(0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)((function(){var e;document.addEventListener("keydown",(function(e){var t=document.getElementsByTagName("body")[0];t.tabIndex=-1,"Escape"===e.key&&t.focus()})),checkSessionExpiration(null==b?void 0:b.sessionExpiration,null===(e=null==b?void 0:b.chats[b.chats.length-1])||void 0===e?void 0:e.timestamp,null==b?void 0:b.lastTimestamp)&&E(reset())}),[]),(0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)((function(){get("opened")&&K(!0)}),[K]);var q=useOpenUrlCallback();function F(e){("offline"!==b.accountStatus||b.isChatting)&&e&&(Y(),j.flush(),M(executeAction(e)))}function $(){return W?"visible":""}var H="offline"===b.accountStatus&&!b.isChatting,Q=b&&b.chats;H?(Q.push({type:"chat.msg",user:{displayName:"Chat Agent",nick:"agent:offline"},timestamp:+new Date,msg:{text:"Sorry, we are offline at the moment. Please leave us your contact information and we will get back to you soon!"}}),Q.push({type:"chat.offline",user:{nick:"agent:offline"},timestamp:+new Date})):b.isChatting||(Q.length=0,e.preChatFormEnabled&&Q.push({type:"chat.prechat",user:{nick:"agent:offline"},timestamp:+new Date}));var V=e.config,z=e.onConnectionStatusChange;useGreeting(!H&&!e.preChatFormEnabled&&W);var G=b.connection.connectionStatus;return(0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)((function(){z&&z(G)}),[G,z]),useExternalScript(null===(f=e.config)||void 0===f?void 0:f.middlewareUrl),react__WEBPACK_IMPORTED_MODULE_0__.createElement(react__WEBPACK_IMPORTED_MODULE_0__.Fragment,null,react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"widget-container ".concat(S," ").concat($())},react__WEBPACK_IMPORTED_MODULE_0__.createElement(WidgetStylesheet,{theme:null==V?void 0:V.theme}),react__WEBPACK_IMPORTED_MODULE_0__.createElement(ChatHeader,{accountStatus:b.accountStatus,refreshOnClick:function(){D.current.style.display="block"},minimizeOnClick:function(){set$1("opened",!1),K(!1)},cancelOnClick:function(){set$1("opened",!1),E(reset()),K(!1)},agent:(null===(_=b.agents["agent:robot"])||void 0===_?void 0:_.user)||(null==V?void 0:V.agent),canRefresh:k,canMinimize:A,canCancel:T,config:null==V?void 0:V.header,menuConfig:V.menu,onSubmit:F}),react__WEBPACK_IMPORTED_MODULE_0__.createElement(MessageList,{visible:W,queuePosition:b.queuePosition,isChatting:b.isChatting,isOffline:H,messages:Q,agents:b.agents,agent:null==V?void 0:V.agent,lastRatingRequestTimestamp:b.lastRatingRequestTimestamp,hasRating:b.hasRating,visitorId:b.visitorId,messageMiddleware:e.messageMiddleware,textTypingStatusEnabled:null===(g=null===(p=e.config)||void 0===p?void 0:p.typingStatus)||void 0===g?void 0:g.textTypingStatusEnabled,onSend:function(e){M(sendMessage(e))},onWrite:function(e){E(writeMessage(e.msg,e.user))},onOpenUrl:q}),react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"spinner-container ".concat(W&&"pending"===G?"visible":"")},react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"spinner"})),"offline"===G&&react__WEBPACK_IMPORTED_MODULE_0__.createElement(ServerOffline,null),react__WEBPACK_IMPORTED_MODULE_0__.createElement(ChatFooter,{isAdmin:null==V?void 0:V.isAdmin,isChatting:b.isChatting,placeholder:null===(h=null==V?void 0:V.input)||void 0===h?void 0:h.placeholder,sendButtonIcon:null===(v=null===(m=null==V?void 0:V.footer)||void 0===m?void 0:m.sendButton)||void 0===v?void 0:v.icon,visible:W,menuConfig:e.config.menu,footerConfig:null===(y=e.config)||void 0===y?void 0:y.footer,inputConfig:null===(x=e.config)||void 0===x?void 0:x.input,onChange:function(){B||(M(sendTyping(!0)),N(!0)),Y()},onSubmit:F,onFileUpload:function(e){var t;e.preventDefault();var r=null===(t=null==e?void 0:e.dataTransfer)||void 0===t?void 0:t.files[0];r&&M(sendFile(r))}}),react__WEBPACK_IMPORTED_MODULE_0__.createElement("div",{className:"restartModal",ref:D,onClick:P},react__WEBPACK_IMPORTED_MODULE_0__.createElement(ModalContent,{onClose:P,onReset:function(){P(),E(reset())}}))),react__WEBPACK_IMPORTED_MODULE_0__.createElement(ChatButton,{addClass:$(),onClick:function(){set$1("opened",!0),K(!0),setTimeout((function(){document.getElementById("chatWidgetInput").focus()}),100)},config:null===(O=e.config)||void 0===O?void 0:O.cta,visible:W}))};function tryParseJson(e){try{if(e)return JSON.parse(e)}catch(t){}}var BrowserStateStorage=function(){function e(e,t){this.innerStorage=e,this.key=t}return e.prototype.get=function(){return tryParseJson(this.innerStorage.getItem(this.key))},e.prototype.set=function(e){try{this.innerStorage.setItem(this.key,JSON.stringify(e))}catch(t){logOnce("storage","Unable to store redux state")}},e}();function visitorFingerprint(){return uuid_1()}var DEFAULT_VISITOR={displayName:"Visitor",nick:"visitor:",typing:!1};function createDefaultState(e){return e||(e={}),e.userId=e.userId?e.userId:visitorFingerprint(),e.visitorId=e.userId,__assign({connection:{connectionStatus:"offline",token:null,greetingRequested:!1},accountStatus:"offline",departments:{},visitor:DEFAULT_VISITOR,agents:{},chats:[],lastTimestamp:0,lastRatingRequestTimestamp:0,hasRating:!1,isChatting:!1,queuePosition:0,failureMsg:null,visitorId:visitorFingerprint(),chips:[],sessionExpiration:"24h"},e)}var DEFAULT_STATE=createDefaultState(),LocalStorage=function(){function e(){this.valuesMap=new Map}return e.prototype.getItem=function(e){var t=String(e);return this.valuesMap.has(e)?String(this.valuesMap.get(t)):null},e.prototype.setItem=function(e,t){this.valuesMap.set(String(e),String(t))},e.prototype.removeItem=function(e){this.valuesMap.delete(e)},e.prototype.clear=function(){this.valuesMap.clear()},e.prototype.key=function(e){if(0===arguments.length)throw new TypeError("Failed to execute 'key' on 'Storage': 1 argument required, but only 0 present.");return Array.from(this.valuesMap.keys())[e]},Object.defineProperty(e.prototype,"length",{get:function(){return this.valuesMap.size},enumerable:!1,configurable:!0}),e}();function persistStateReducer(e,t,r){var n,a=null!==(n=e.get())&&void 0!==n?n:t;return function(t,n){void 0===t&&(t=a);var o=r(t,n);return e.set(o),o}}function connectionReducer(e,t){switch(t.type){case"connection_update":return __assign(__assign({},e),{connectionStatus:t.detail.status});case"receiveToken":return __assign(__assign({},e),{token:t.detail.token});case"sendGreeting":return __assign(__assign({},e),{greetingRequested:!0})}return e}function joinMessages(e,t){return insertSorted(__spreadArray$1([],e,!0),t,(function(e,t){return e.timestamp-t.timestamp}))}function memberJoin(e,t){0===e.chats.length&&set$1("sessionId","");var r=__assign({},e.agents),n=e.agents[t.user.nick];return r[t.user.nick]=__assign(__assign({},n),{user:__assign(__assign({},t.user),{displayName:t.user.displayName||"Agent"}),joined:!0,typing:!1}),isAgent(t.user.nick)?__assign(__assign({},e),{isChatting:!0,chats:(null==n?void 0:n.joined)?e.chats:joinMessages(e.chats,t),agents:r}):__assign(__assign({},e),{isChatting:!0,chats:joinMessages(e.chats,t),agents:r})}function memberLeave(e,t){var r=__assign({},e.agents),n=e.agents[t.user.nick];r[t.user.nick]=__assign(__assign({},n),{joined:!1,typing:!1});var a=Object.values(r).filter((function(e){return e.joined})).length>0;return isAgent(t.user.nick)?__assign(__assign({},e),{isChatting:a,chats:(null==n?void 0:n.joined)?joinMessages(e.chats,t):e.chats,agents:r}):__assign(__assign({},e),{isChatting:a,chats:joinMessages(e.chats,t),agents:r})}function resetReducer(e){return void 0===e&&(e=DEFAULT_STATE),__assign(__assign({},createDefaultState({accessToken:e.accessToken,userId:e.userId,attributes:e.attributes,sessionExpiration:e.sessionExpiration})),{connection:__assign(__assign({},e.connection),{greetingRequested:!1,nonce:uuid_1()}),visitor:e.visitor,visitorId:e.visitorId})}function appendMessageToState(e,t){e.chats=joinMessages(e.chats,t),"chat.msg"===t.type&&(e.activeContexts=t.msg.context)}function update(e,t){var r,n,a,o,s;if(void 0===e&&(e=DEFAULT_STATE),log("action",t),"reset"===t.type)return resetReducer(e);switch(t.detail&&(e.lastTimestamp=t.detail.timestamp),t.type){case"connection_update":case"receiveToken":case"sendGreeting":var i=connectionReducer(e.connection,t);return e.connection!==i&&(e=__assign(__assign({},e),{connection:i})),e;case"account_status":return __assign(__assign({},e),{accountStatus:t.detail.status});case"department_update":return __assign(__assign({},e),{departments:__assign(__assign({},e.departments),(r={},r[t.detail.id]=__assign({},t.detail),r))});case"visitor_update":return __assign(__assign({},e),{visitor:__assign(__assign({},e.visitor),t.detail)});case"agent_update":var u=e.agents[t.detail.nick];return __assign(__assign({},e),{agents:__assign(__assign({},e.agents),(n={},n[t.detail.nick]=__assign(__assign({},u),{user:__assign(__assign({},u.user),t.detail),typing:(u||{typing:!1}).typing}),n))});case"chat":var c=__assign({},e);switch(t.detail.type){case"chat.memberjoin":return memberJoin(e,t.detail);case"chat.memberleave":return memberLeave(e,t.detail);case"chat.queue.position":return c.queuePosition=t.detail.queuePosition,c;case"chat.request.rating":return appendMessageToState(c,t.detail),__assign(__assign({},c),{lastRatingRequestTimestamp:t.detail.timestamp});case"chat.rating":return appendMessageToState(c,t.detail),__assign(__assign({},c),{hasRating:!!t.detail.newRating});case"chat.file":case"chat.msg":appendMessageToState(c,t.detail);var l=t.detail,d="chat.msg"===l.type?l.msg:null;return c.chips=(null===(s=null==d?void 0:d.options)||void 0===s?void 0:s.length)?d.options:[],c;case"chat.failureMsg":var f,_=c.agents[t.detail.user.nick],p=t.detail.failureMsg.retry,g=c;if(1!==p){f=c.chats.filter((function(e){return"chat.failureMsg"===e.type&&e.failureMsg.retry<p}))[0];var h=c.chats.filter((function(e){return e!==f}));g=__assign(__assign({},c),{chats:h})}return appendMessageToState(g,t.detail),__assign(__assign({},g),{agents:__assign(__assign({},g.agents),(a={},a[t.detail.user.nick]=__assign(__assign({},_),{typing:!1,requestFailed:!0}),a)),failureMsg:t.detail.failureMsg});case"chat.typing":var m=e.agents[t.detail.user.nick];return __assign(__assign({},e),{agents:__assign(__assign({},e.agents),(o={},o[t.detail.user.nick]=__assign(__assign({},m),{typing:t.detail.typing}),o))});default:return e}default:return log("Unhandled redux action: ",t.type),e}}function mapSynthetic(e,t){void 0===e&&(e=DEFAULT_STATE);var r=e.lastTimestamp+1;switch(t.detail.type){case"write_msg":return{type:"chat",detail:{type:"chat.msg",user:t.detail.user,timestamp:r,msg:t.detail.msg}};case"visitor.send.file":return{type:"chat",detail:{type:"chat.file",user:{displayName:e.visitor.displayName,nick:"visitor:"},timestamp:r,attachment:t.detail.attachment}};default:throw new Error("Unknown synthetic action. Detail type: ".concat(t.detail.type))}}function storeHandler(e,t){return void 0===e&&(e=DEFAULT_STATE),"synthetic"===t.type?(log("synthetic action",t),update(e,mapSynthetic(e,t))):update(e,t)}var ADMIN_STORE_KEY="AdminAccessTimes",ADMIN_STORE_MAX=20;function createChatStore(e,t){var r;t||(t="undefined"!=typeof window?localStorage:new LocalStorage);var n,a=e.connection,o=null===(r=new URL(window.location.href).searchParams)||void 0===r?void 0:r.get("sessionId"),s=(new Date).getTime();if(o){var i=t.getItem(ADMIN_STORE_KEY),u=i?JSON.parse(i):{};if(u[o])log("ChatStore: reusing session: ".concat(o)),u[o].lastAccessMs=s,n=u[o].dataStorageKey;else{if(Object.keys(u).length>=ADMIN_STORE_MAX){var c=evictAdminSession(u);log("ChatStore: evicting session: ".concat(c)),t.removeItem(u[c].dataStorageKey),u[c]=void 0}n=generateKey(a,o),u[o]={lastAccessMs:s,dataStorageKey:n}}t.setItem(ADMIN_STORE_KEY,JSON.stringify(u))}else n=generateKey(a);var l=persistStateReducer(new BrowserStateStorage(t,n),createDefaultState({accessToken:e.accessToken,userId:e.userId,attributes:e.attributes,sessionExpiration:e.sessionExpiration}),storeHandler),d=[redux_thunk__WEBPACK_IMPORTED_MODULE_2__.Z],f=globalThis.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||redux__WEBPACK_IMPORTED_MODULE_3__.qC;return(0,redux__WEBPACK_IMPORTED_MODULE_3__.MT)(l,f(redux__WEBPACK_IMPORTED_MODULE_3__.md.apply(void 0,d)))}function evictAdminSession(e){for(var t,r=Number.MAX_VALUE,n=0,a=Object.keys(e);n<a.length;n++){var o=a[n];e[o].lastAccessMs<r&&(t=o,r=e[o].lastAccessMs)}return t}function generateKey(e,t){var r="xappchat.".concat(e.serverUrl);return t?e.accountKey?"".concat(r,".").concat(e.accountKey,".").concat(t):"".concat(r,".").concat(t):e.accountKey?"".concat(r,".").concat(e.accountKey):r}var ChatWidgetContainer=function(e){var t,r,n,a,o,s=useStandardMiddleware(),i=useServerConfig(e.config),u=(0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)((function(){var t,r,n,a;return createChatStore({connection:i,userId:null===(t=e.config)||void 0===t?void 0:t.userId,accessToken:null===(r=e.config)||void 0===r?void 0:r.accessToken,attributes:null===(n=e.config)||void 0===n?void 0:n.attributes,sessionExpiration:null===(a=e.config)||void 0===a?void 0:a.sessionExpiration})}),[i,null===(t=e.config)||void 0===t?void 0:t.userId,null===(r=e.config)||void 0===r?void 0:r.accessToken,null===(n=e.config)||void 0===n?void 0:n.attributes,null===(a=e.config)||void 0===a?void 0:a.sessionExpiration]);if(null===(o=e.config)||void 0===o?void 0:o.disabled)return react__WEBPACK_IMPORTED_MODULE_0__.createElement(react__WEBPACK_IMPORTED_MODULE_0__.Fragment,null);var c=__assign(__assign({},e),{messageMiddleware:s});return react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_redux__WEBPACK_IMPORTED_MODULE_1__.zt,{store:u},react__WEBPACK_IMPORTED_MODULE_0__.createElement(ChatWidgetWrapper,__assign({},c)))};function createStaticReducer(e){return function(t,r){return void 0===t&&(t=e),log("static reducer",t,r),t}}var composeEnhancers=(null===globalThis||void 0===globalThis?void 0:globalThis.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__)||redux__WEBPACK_IMPORTED_MODULE_3__.qC,middlewares=[redux_thunk__WEBPACK_IMPORTED_MODULE_2__.Z];function createStaticStore(e){var t=createStaticReducer(e);return(0,redux__WEBPACK_IMPORTED_MODULE_3__.MT)(t,composeEnhancers(redux__WEBPACK_IMPORTED_MODULE_3__.md.apply(void 0,middlewares)))}var StaticChatWidgetContainer=function(e){var t=e.state,r=(0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)((function(){return createStaticStore(t)}),[t]),n=(0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)((function(){return __assign(__assign({},e.config),{connection:{serverUrl:"",type:"local"}})}),[e.config]);return react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_redux__WEBPACK_IMPORTED_MODULE_1__.zt,{store:r},react__WEBPACK_IMPORTED_MODULE_0__.createElement(ChatWidgetWrapper,__assign({},e,{config:n})))};function createStateFromMessages(e){var t=createDefaultState();return __assign(__assign({},t),{connection:__assign(__assign({},t.connection),{connectionStatus:"online"}),accountStatus:"online",chats:__spreadArray$1([],e,!0),isChatting:!0})}var StaticMessagesChatWidgetContainer=function(e){var t=e.messages,r=(0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)((function(){return createStateFromMessages(t)}),[t]);return react__WEBPACK_IMPORTED_MODULE_0__.createElement(StaticChatWidgetContainer,{state:r,mode:e.mode,config:e.config})}},1262:function(e,t,r){r.d(t,{Z:function(){return o}});var n=r(7294),a=r(2389);function o(e){var t=e.children,r=e.fallback;return(0,a.Z)()?n.createElement(n.Fragment,null,null==t?void 0:t()):null!=r?r:null}},5617:function(e,t,r){r.d(t,{zt:function(){return l},I0:function(){return g},v9:function(){return y}});var n=r(7294),a=n.createContext(null);var o=function(e){e()},s=function(){return o};var i={notify:function(){},get:function(){return[]}};function u(e,t){var r,n=i;function a(){u.onStateChange&&u.onStateChange()}function o(){r||(r=t?t.addNestedSub(a):e.subscribe(a),n=function(){var e=s(),t=null,r=null;return{clear:function(){t=null,r=null},notify:function(){e((function(){for(var e=t;e;)e.callback(),e=e.next}))},get:function(){for(var e=[],r=t;r;)e.push(r),r=r.next;return e},subscribe:function(e){var n=!0,a=r={callback:e,next:null,prev:r};return a.prev?a.prev.next=a:t=a,function(){n&&null!==t&&(n=!1,a.next?a.next.prev=a.prev:r=a.prev,a.prev?a.prev.next=a.next:t=a.next)}}}}())}var u={addNestedSub:function(e){return o(),n.subscribe(e)},notifyNestedSubs:function(){n.notify()},handleChangeWrapper:a,isSubscribed:function(){return Boolean(r)},trySubscribe:o,tryUnsubscribe:function(){r&&(r(),r=void 0,n.clear(),n=i)},getListeners:function(){return n}};return u}var c="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement?n.useLayoutEffect:n.useEffect;var l=function(e){var t=e.store,r=e.context,o=e.children,s=(0,n.useMemo)((function(){var e=u(t);return e.onStateChange=e.notifyNestedSubs,{store:t,subscription:e}}),[t]),i=(0,n.useMemo)((function(){return t.getState()}),[t]);c((function(){var e=s.subscription;return e.trySubscribe(),i!==t.getState()&&e.notifyNestedSubs(),function(){e.tryUnsubscribe(),e.onStateChange=null}}),[s,i]);var l=r||a;return n.createElement(l.Provider,{value:s},o)};r(8679),r(2973);r(7462);function d(){return(0,n.useContext)(a)}function f(e){void 0===e&&(e=a);var t=e===a?d:function(){return(0,n.useContext)(e)};return function(){return t().store}}var _=f();function p(e){void 0===e&&(e=a);var t=e===a?_:f(e);return function(){return t().dispatch}}var g=p(),h=function(e,t){return e===t};function m(e){void 0===e&&(e=a);var t=e===a?d:function(){return(0,n.useContext)(e)};return function(e,r){void 0===r&&(r=h);var a=t(),o=function(e,t,r,a){var o,s=(0,n.useReducer)((function(e){return e+1}),0)[1],i=(0,n.useMemo)((function(){return u(r,a)}),[r,a]),l=(0,n.useRef)(),d=(0,n.useRef)(),f=(0,n.useRef)(),_=(0,n.useRef)(),p=r.getState();try{if(e!==d.current||p!==f.current||l.current){var g=e(p);o=void 0!==_.current&&t(g,_.current)?_.current:g}else o=_.current}catch(h){throw l.current&&(h.message+="\nThe error may be correlated with this previous error:\n"+l.current.stack+"\n\n"),h}return c((function(){d.current=e,f.current=p,_.current=o,l.current=void 0})),c((function(){function e(){try{var e=r.getState();if(e===f.current)return;var n=d.current(e);if(t(n,_.current))return;_.current=n,f.current=e}catch(h){l.current=h}s()}return i.onStateChange=e,i.trySubscribe(),e(),function(){return i.tryUnsubscribe()}}),[r,i]),o}(e,r,a.store,a.subscription);return(0,n.useDebugValue)(o),o}}var v,y=m(),x=r(3935);v=x.unstable_batchedUpdates,o=v},8359:function(e,t){var r=60103,n=60106,a=60107,o=60108,s=60114,i=60109,u=60110,c=60112,l=60113,d=60120,f=60115,_=60116,p=60121,g=60122,h=60117,m=60129,v=60131;if("function"==typeof Symbol&&Symbol.for){var y=Symbol.for;r=y("react.element"),n=y("react.portal"),a=y("react.fragment"),o=y("react.strict_mode"),s=y("react.profiler"),i=y("react.provider"),u=y("react.context"),c=y("react.forward_ref"),l=y("react.suspense"),d=y("react.suspense_list"),f=y("react.memo"),_=y("react.lazy"),p=y("react.block"),g=y("react.server.block"),h=y("react.fundamental"),m=y("react.debug_trace_mode"),v=y("react.legacy_hidden")}function x(e){if("object"==typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case a:case s:case o:case l:case d:return e;default:switch(e=e&&e.$$typeof){case u:case c:case _:case f:case i:return e;default:return t}}case n:return t}}}},2973:function(e,t,r){r(8359)},3894:function(e,t){function r(e){return function(t){var r=t.dispatch,n=t.getState;return function(t){return function(a){return"function"==typeof a?a(r,n,e):t(a)}}}}var n=r();n.withExtraArgument=r,t.Z=n},1951:function(e,t,r){r.d(t,{md:function(){return g},qC:function(){return p},MT:function(){return _}});var n=r(1002);function a(e){var t=function(e,t){if("object"!==(0,n.Z)(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var a=r.call(e,t||"default");if("object"!==(0,n.Z)(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===(0,n.Z)(t)?t:String(t)}function o(e,t,r){return(t=a(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function s(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function i(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?s(Object(r),!0).forEach((function(t){o(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):s(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function u(e){return"Minified Redux error #"+e+"; visit https://redux.js.org/Errors?code="+e+" for the full message or use the non-minified dev environment for full errors. "}var c="function"==typeof Symbol&&Symbol.observable||"@@observable",l=function(){return Math.random().toString(36).substring(7).split("").join(".")},d={INIT:"@@redux/INIT"+l(),REPLACE:"@@redux/REPLACE"+l(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+l()}};function f(e){if("object"!=typeof e||null===e)return!1;for(var t=e;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function _(e,t,r){var n;if("function"==typeof t&&"function"==typeof r||"function"==typeof r&&"function"==typeof arguments[3])throw new Error(u(0));if("function"==typeof t&&void 0===r&&(r=t,t=void 0),void 0!==r){if("function"!=typeof r)throw new Error(u(1));return r(_)(e,t)}if("function"!=typeof e)throw new Error(u(2));var a=e,o=t,s=[],i=s,l=!1;function p(){i===s&&(i=s.slice())}function g(){if(l)throw new Error(u(3));return o}function h(e){if("function"!=typeof e)throw new Error(u(4));if(l)throw new Error(u(5));var t=!0;return p(),i.push(e),function(){if(t){if(l)throw new Error(u(6));t=!1,p();var r=i.indexOf(e);i.splice(r,1),s=null}}}function m(e){if(!f(e))throw new Error(u(7));if(void 0===e.type)throw new Error(u(8));if(l)throw new Error(u(9));try{l=!0,o=a(o,e)}finally{l=!1}for(var t=s=i,r=0;r<t.length;r++){(0,t[r])()}return e}return m({type:d.INIT}),(n={dispatch:m,subscribe:h,getState:g,replaceReducer:function(e){if("function"!=typeof e)throw new Error(u(10));a=e,m({type:d.REPLACE})}})[c]=function(){var e,t=h;return(e={subscribe:function(e){if("object"!=typeof e||null===e)throw new Error(u(11));function r(){e.next&&e.next(g())}return r(),{unsubscribe:t(r)}}})[c]=function(){return this},e},n}function p(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return 0===t.length?function(e){return e}:1===t.length?t[0]:t.reduce((function(e,t){return function(){return e(t.apply(void 0,arguments))}}))}function g(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return function(e){return function(){var r=e.apply(void 0,arguments),n=function(){throw new Error(u(15))},a={getState:r.getState,dispatch:function(){return n.apply(void 0,arguments)}},o=t.map((function(e){return e(a)}));return n=p.apply(void 0,o)(r.dispatch),i(i({},r),{},{dispatch:n})}}}}}]);