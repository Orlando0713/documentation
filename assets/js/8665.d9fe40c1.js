/*! For license information please see 8665.d9fe40c1.js.LICENSE.txt */
"use strict";(self.webpackChunkoc_studio_docs=self.webpackChunkoc_studio_docs||[]).push([[8665],{7968:function(e,t,n){n.d(t,{en:function(){return Hc}});var r=n(7294),o=n(1688),a=n(2798),i=n(3935);let s=function(e){e()};const u=()=>s,l=Symbol.for("react-redux-context"),c="undefined"!=typeof globalThis?globalThis:{};function d(){var e;if(!r.createContext)return{};const t=null!=(e=c[l])?e:c[l]=new Map;let n=t.get(r.createContext);return n||(n=r.createContext(null),t.set(r.createContext,n)),n}const f=d();function p(e=f){return function(){return(0,r.useContext)(e)}}const h=p();let m=()=>{throw new Error("uSES not initialized!")};const v=(e,t)=>e===t;function g(e=f){const t=e===f?h:p(e);return function(e,n={}){const{equalityFn:o=v,stabilityCheck:a,noopCheck:i}="function"==typeof n?{equalityFn:n}:n;const{store:s,subscription:u,getServerState:l,stabilityCheck:c,noopCheck:d}=t(),f=((0,r.useRef)(!0),(0,r.useCallback)({[e.name](t){return e(t)}}[e.name],[e,c,a])),p=m(u.addNestedSub,s.getState,l||s.getState,f,o);return(0,r.useDebugValue)(p),p}}const x=g();n(8679),n(2973);const y={notify(){},get:()=>[]};function b(e,t){let n,r=y,o=0,a=!1;function i(){c.onStateChange&&c.onStateChange()}function s(){o++,n||(n=t?t.addNestedSub(i):e.subscribe(i),r=function(){const e=u();let t=null,n=null;return{clear(){t=null,n=null},notify(){e((()=>{let e=t;for(;e;)e.callback(),e=e.next}))},get(){let e=[],n=t;for(;n;)e.push(n),n=n.next;return e},subscribe(e){let r=!0,o=n={callback:e,next:null,prev:n};return o.prev?o.prev.next=o:t=o,function(){r&&null!==t&&(r=!1,o.next?o.next.prev=o.prev:n=o.prev,o.prev?o.prev.next=o.next:t=o.next)}}}}())}function l(){o--,n&&0===o&&(n(),n=void 0,r.clear(),r=y)}const c={addNestedSub:function(e){s();const t=r.subscribe(e);let n=!1;return()=>{n||(n=!0,t(),l())}},notifyNestedSubs:function(){r.notify()},handleChangeWrapper:i,isSubscribed:function(){return a},trySubscribe:function(){a||(a=!0,s())},tryUnsubscribe:function(){a&&(a=!1,l())},getListeners:()=>r};return c}const w=!("undefined"==typeof window||void 0===window.document||void 0===window.document.createElement)?r.useLayoutEffect:r.useEffect;let _=null;var M=function({store:e,context:t,children:n,serverState:o,stabilityCheck:a="once",noopCheck:i="once"}){const s=r.useMemo((()=>{const t=b(e);return{store:e,subscription:t,getServerState:o?()=>o:void 0,stabilityCheck:a,noopCheck:i}}),[e,o,a,i]),u=r.useMemo((()=>e.getState()),[e]);w((()=>{const{subscription:t}=s;return t.onStateChange=t.notifyNestedSubs,t.trySubscribe(),u!==e.getState()&&t.notifyNestedSubs(),()=>{t.tryUnsubscribe(),t.onStateChange=void 0}}),[s,u]);const l=t||f;return r.createElement(l.Provider,{value:s},n)};function O(e=f){const t=e===f?h:p(e);return function(){const{store:e}=t();return e}}const E=O();function k(e=f){const t=e===f?E:O(e);return function(){return t().dispatch}}const T=k();var P,C;function S(e){return S="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},S(e)}function N(e){var t=function(e,t){if("object"!==S(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==S(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===S(t)?t:String(t)}function j(e,t,n){return(t=N(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function I(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function D(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?I(Object(n),!0).forEach((function(t){j(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):I(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function R(e){return"Minified Redux error #"+e+"; visit https://redux.js.org/Errors?code="+e+" for the full message or use the non-minified dev environment for full errors. "}P=a.useSyncExternalStoreWithSelector,m=P,(e=>{_=e})(o.useSyncExternalStore),C=i.unstable_batchedUpdates,s=C;var U="function"==typeof Symbol&&Symbol.observable||"@@observable",A=function(){return Math.random().toString(36).substring(7).split("").join(".")},Y={INIT:"@@redux/INIT"+A(),REPLACE:"@@redux/REPLACE"+A(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+A()}};function L(e){if("object"!=typeof e||null===e)return!1;for(var t=e;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function F(e,t,n){var r;if("function"==typeof t&&"function"==typeof n||"function"==typeof n&&"function"==typeof arguments[3])throw new Error(R(0));if("function"==typeof t&&void 0===n&&(n=t,t=void 0),void 0!==n){if("function"!=typeof n)throw new Error(R(1));return n(F)(e,t)}if("function"!=typeof e)throw new Error(R(2));var o=e,a=t,i=[],s=i,u=!1;function l(){s===i&&(s=i.slice())}function c(){if(u)throw new Error(R(3));return a}function d(e){if("function"!=typeof e)throw new Error(R(4));if(u)throw new Error(R(5));var t=!0;return l(),s.push(e),function(){if(t){if(u)throw new Error(R(6));t=!1,l();var n=s.indexOf(e);s.splice(n,1),i=null}}}function f(e){if(!L(e))throw new Error(R(7));if(void 0===e.type)throw new Error(R(8));if(u)throw new Error(R(9));try{u=!0,a=o(a,e)}finally{u=!1}for(var t=i=s,n=0;n<t.length;n++){(0,t[n])()}return e}return f({type:Y.INIT}),(r={dispatch:f,subscribe:d,getState:c,replaceReducer:function(e){if("function"!=typeof e)throw new Error(R(10));o=e,f({type:Y.REPLACE})}})[U]=function(){var e,t=d;return(e={subscribe:function(e){if("object"!=typeof e||null===e)throw new Error(R(11));function n(){e.next&&e.next(c())}return n(),{unsubscribe:t(n)}}})[U]=function(){return this},e},r}function W(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return 0===t.length?function(e){return e}:1===t.length?t[0]:t.reduce((function(e,t){return function(){return e(t.apply(void 0,arguments))}}))}function H(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return function(){var n=e.apply(void 0,arguments),r=function(){throw new Error(R(15))},o={getState:n.getState,dispatch:function(){return r.apply(void 0,arguments)}},a=t.map((function(e){return e(o)}));return r=W.apply(void 0,a)(n.dispatch),D(D({},n),{},{dispatch:r})}}}function B(e){return function(t){var n=t.dispatch,r=t.getState;return function(t){return function(o){return"function"==typeof o?o(n,r,e):t(o)}}}}var q=B();q.withExtraArgument=B;var z=q,Q=function(e){return r.createElement("button",{type:e.type,className:"action-button ".concat(e.addClass),onClick:function(t){t.stopPropagation(),e.onClick&&e.onClick(e.label)}},e.label)},V="48",J=(0,r.createContext)(null);function X(){var e=(0,r.useContext)(J);return null==e?void 0:e.env}function G(e,t){var n=function(e){return(null==e?void 0:e.connection)?e.connection:{serverUrl:null==e?void 0:e.serverUrl,accountKey:null==e?void 0:e.accountKey,type:(null==e?void 0:e.direct)?"direct":"websocket"}}(e),o=n.accountKey,a=n.serverUrl,i=n.type;return(0,r.useMemo)((function(){return{accountKey:o,serverUrl:a,type:i,nonce:t}}),[o,a,i,t])}var K=function(){return K=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},K.apply(this,arguments)};function $(e,t,n,r){return new(n||(n=Promise))((function(o,a){function i(e){try{u(r.next(e))}catch(t){a(t)}}function s(e){try{u(r.throw(e))}catch(t){a(t)}}function u(e){e.done?o(e.value):function(e){return e instanceof n?e:new n((function(t){t(e)}))}(e.value).then(i,s)}u((r=r.apply(e,t||[])).next())}))}function Z(e,t){var n,r,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(o=2&a[0]?r.return:a[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;switch(r=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,r=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!(o=i.trys,(o=o.length>0&&o[o.length-1])||6!==a[0]&&2!==a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1],o=a;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(a);break}o[2]&&i.ops.pop(),i.trys.pop();continue}a=t.call(e,i)}catch(s){a=[6,s],r=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}}function ee(e,t,n){if(n||2===arguments.length)for(var r,o=0,a=t.length;o<a;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))}function te(e){return!!e&&e.startsWith("agent:")}var ne=function(){this.retries=5,this.timeout=1e3,this.log=!1},re=function(){function e(e){e&&(this.options=Object.assign(new ne,e))}return e.prototype.fetch=function(e,t){return $(this,void 0,void 0,(function(){var n,r,o,a;return Z(this,(function(i){switch(i.label){case 0:t||(t=this.options),i.label=1;case 1:return i.trys.push([1,3,,5]),n=new AbortController,r=setTimeout((function(){n.abort()}),t.timeout),[4,e(n.signal)];case 2:return o=i.sent(),clearTimeout(r),[2,o];case 3:if(a=i.sent(),1===t.retries||t.retries<1)throw a;return[4,this.fetch(e,{timeout:t.timeout,retries:t.retries-1})];case 4:return[2,i.sent()];case 5:return[2]}}))}))},e}();function oe(){return(new Date).toISOString()+" ::"}function ae(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];"debug"===window.xaLogLevel&&console.log.apply(console,ee([oe()],e,!1))}function ie(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];console.error.apply(console,ee([oe()],e,!1))}var se=function(e){var t,n,o,a={},i=e.entity,s=(0,r.useContext)(J),u=null==i?void 0:i.avatarPath;if(!u){var l=function(e){var t=(null==e?void 0:e.initials)||"?",n=(null==e?void 0:e.size)||40,o=(null==e?void 0:e.backgroundColor)||"#007bff",a=(null==e?void 0:e.textColor)||"#ffffff";return r.useMemo((function(){return function(e,t,n,r){var o=document.createElement("canvas");o.width=t,o.height=t;var a=o.getContext("2d");a.fillStyle=n,a.fillRect(0,0,t,t),a.fillStyle=r,a.font="".concat(t/2,"px Arial"),a.textAlign="center",a.textBaseline="middle",a.fillText(e,t/2,t/2);var i=new Image;return i.src=o.toDataURL(),i}(t,n,o,a)}),[t,n,o,a])}({initials:(null==i?void 0:i.displayName)?i.displayName.slice(0,2):"?",backgroundColor:null===(n=null===(t=null==s?void 0:s.env)||void 0===t?void 0:t.theme)||void 0===n?void 0:n.primaryColor,size:36});u=l.src}var c=i&&te(i.nick);c?(a.backgroundImage="url('".concat(u,"')"),a.backgroundColor="none"):o=r.createElement("svg",{width:"16",height:"19",viewBox:"0 0 16 19",style:{margin:"0 auto",display:"block"}},r.createElement("path",{d:"M11.5 5c0-1.933-1.567-3.5-3.5-3.5S4.5 3.067 4.5 5 6.067 8.5 8 8.5s3.5-1.567 3.5-3.5zM3 5c0-2.76 2.24-5 5-5s5 2.24 5 5-2.24 5-5 5-5-2.24-5-5zM1.955 17.294c.21-.642.504-1.285.898-1.88C3.963 13.74 5.615 12.75 8 12.75c2.385 0 4.038.99 5.147 2.664.394.595.69 1.238.898 1.88.124.382.19.672.214.822.063.41.447.69.856.625.41-.063.69-.447.625-.856-.034-.225-.118-.59-.27-1.053-.247-.763-.598-1.527-1.073-2.244C13.024 12.51 10.917 11.25 8 11.25c-2.916 0-5.024 1.26-6.397 3.336-.475.717-.826 1.48-1.074 2.245-.152.463-.236.83-.27 1.054-.065.41.215.793.624.857.41.065.793-.215.857-.624.025-.15.09-.44.215-.822z",fill:"#FFF",fillRule:"evenodd"}));var d=!!a.backgroundImage||!!o;return r.createElement("div",{className:"avatar ".concat(c?"avatar--agent":"avatar--visitor"," ").concat(d?"":"avatar--empty"),style:a,title:i?i.display_name:"Agent"},o)};function ue(e){return e.hasOwnProperty("label")}function le(e){return e.url||e.imageActionUrl}function ce(){return T()}var de=function(e){var t=ce(),n=x((function(e){return e.visuals})),o=e.url,a=e.className,i=e.onOpen,s=(0,r.useCallback)((function(){i&&i(o,t,n)}),[o,i]);return o?r.createElement("div",{onClick:s,className:a},e.children):r.createElement("div",{onClick:e.onClick,className:a},e.children)},fe=function(e){var t,n=e.item,o=e.onButtonClick,a=e.onExecute,i=1===(null===(t=n.buttons)||void 0===t?void 0:t.length),s=(0,r.useCallback)((function(){var e;1===(null===(e=n.buttons)||void 0===e?void 0:e.length)?o(n.buttons[0]):a(n.title,n.token)}),[n,a,o]),u="xappw-chat-action-item ".concat(i?"xappw-chat-action-item--action":""," ").concat(e.className);return r.createElement(de,{className:u,url:le(n),onClick:s,onOpen:e.onOpenUrl},e.children)},pe=function(e){var t=e.imageUrl.replace(/'/g,"%27"),n=r.createElement("div",{className:"chat-card-img__content",style:{backgroundImage:"url(".concat(t,")")}});return e.imageActionUrl?r.createElement("a",{href:e.imageActionUrl,"aria-label":"read more",target:"_blank",rel:"noopener noreferrer",className:"chat-card-img"},n):r.createElement("div",{className:"chat-card-img"},n)},he=function(e){var t,n=e.item,o=1===(null===(t=n.buttons)||void 0===t?void 0:t.length),a=le(n);if(n.imageUrl){var i=o?null:n.imageActionUrl;return r.createElement("div",{className:e.className},r.createElement(pe,{imageUrl:n.imageUrl,imageActionUrl:!a&&i}))}return e.emptyImageVisible?r.createElement("div",{className:e.className}):r.createElement(r.Fragment,null)},me=r.memo((function(e){var t=e.button,n=e.onClick,o=(0,r.useCallback)((function(){n(t)}),[t,n]);return r.createElement(Q,{onClick:o,addClass:"button-card",label:t.label})})),ve=r.memo((function(e){return r.createElement("div",{className:"buttons-container "+(e.className||"")},e.buttons.map((function(t,n){return r.createElement(me,{button:t,onClick:e.onClick,key:n})})))})),ge=function(e){var t,n=e.item;return r.createElement(fe,{className:"chat-list-item-container",item:n,onButtonClick:e.onButtonClick,onExecute:e.onExecute,onOpenUrl:e.onOpenUrl},r.createElement("div",{className:"chat-list-item"},r.createElement(he,{item:n,className:"chat-list-item__img",emptyImageVisible:e.emptyImageVisible}),n.title&&r.createElement("div",{className:"chat-list-item__title"},r.createElement("span",null,n.title)),n.subTitle&&r.createElement("div",{className:"chat-list-item__subtitle"},r.createElement("span",null,n.subTitle)),!!(null===(t=n.buttons)||void 0===t?void 0:t.length)&&r.createElement(ve,{className:"chat-list-item__actions",buttons:n.buttons,onClick:e.onButtonClick})))};var xe=function(e){return r.createElement("button",{onClick:e.onClick,className:"xa-chevron"},r.createElement("svg",{viewBox:"-5 -18 10 36"},r.createElement("path",{d:"M 2.5 -15 L -2.5 0 L 2.5 15",stroke:"currentColor",strokeLinecap:"square",strokeWidth:"4px",fill:"none"})))};var ye=function(e){return r.createElement("button",{onClick:e.onClick,className:"xa-chevron"},r.createElement("svg",{viewBox:"-5 -18 10 36"},r.createElement("path",{d:"M -2.5 -15 L 2.5 0 L -2.5 15",stroke:"currentColor",strokeLinecap:"square",strokeWidth:"4px",fill:"none"})))},be=function(e){var t=(0,r.useRef)(null),n=(0,r.useState)(0),o=n[0],a=n[1];function i(e){var n,r,i=t.current;if(i){var s=i.getElementsByClassName("xappw-carousel-items__item"),u=s.length,l=o;1===e?o<u-1&&l++:o>0&&l--;for(var c=0,d=0;d<s.length&&d!==l;d++)c+=null!==(r=null===(n=s.item(d))||void 0===n?void 0:n.clientWidth)&&void 0!==r?r:0;i.scrollLeft=c,a(l)}}var s=1===e.list.items.length,u=e.list.items.some((function(e){return e.imageUrl})),l=e.list.items.map((function(t,n){return r.createElement("div",{className:"xappw-carousel-items__item",key:"item-key-".concat(n)},r.createElement(ge,{item:t,emptyImageVisible:u,onExecute:e.onExecute,onButtonClick:e.onButtonClick,onOpenUrl:e.onOpenUrl}))}));return r.createElement("div",{className:"xappw-carousel"},!s&&r.createElement("div",{className:"xappw-carousel__prev"},r.createElement(xe,{onClick:function(){return i(-1)}})),r.createElement("div",{ref:t,className:"xappw-carousel-items ".concat(s?"xappw-carousel-items--one-item":"")},l),!s&&r.createElement("div",{className:"xappw-carousel__next"},r.createElement(ye,{onClick:function(){return i(1)}})))};function we(){var e=(0,r.useRef)(null),t=(0,r.useState)(),n=t[0],o=t[1];return(0,r.useLayoutEffect)((function(){var t,n;o(null===(n=null===(t=e.current)||void 0===t?void 0:t.getBoundingClientRect())||void 0===n?void 0:n.toJSON())}),[]),[e,n]}function _e(e,t){return{x:e.x+t.x,y:e.y+t.y}}function Me(e,t){return{x:e.x-t.x,y:e.y-t.y}}function Oe(e,t){return{x:e.x*t,y:e.y*t}}function Ee(e){return Math.sqrt(e.x*e.x+e.y*e.y)}function ke(e,t){var n=t*Math.PI/180,r=Math.cos(n),o=Math.sin(n);return{x:e.x*r+e.y*o,y:e.y*r-e.x*o}}function Te(e,t){var n=Me(t.start,e.center),r=n.x,o=n.y,a=t.direction.x,i=t.direction.y,s=e.radius.x,u=e.radius.y,l=s*s,c=u*u,d=a*a/l+i*i/c,f=2*a*r/l+2*i*o/c,p=f*f-4*d*(r*r/l+o*o/c-1);if(p>=0){var h=Math.sqrt(p),m=(-f-h)/(2*d),v=(-f+h)/(2*d);if(m>0&&v>0)return _e(t.start,Oe(t.direction,Math.min(m,v)));if(m>0)return _e(t.start,Oe(t.direction,m));if(v>0)return _e(t.start,Oe(t.direction,v))}return t.start}function Pe(e,t){var n,r,o,a=e.direction*Math.PI/180,i={x:e.width/2,y:e.height/2},s={x:t.x/2,y:t.y/2},u={x:i.x*Math.cos(a),y:i.y*Math.sin(a)},l=(n=u,r=Ee(u)+e.length,(o=Ee(n))?Oe(n,r/o):n),c=_e(l,s),d=Me(u,l),f=e.angle,p=ke(d,f/2),h=ke(d,-f/2),m={center:s,radius:i},v=Te(m,{start:c,direction:p}),g=Te(m,{start:c,direction:h});return"m ".concat(c.x," ").concat(c.y," L ").concat(v.x," ").concat(v.y," L ").concat(g.x," ").concat(g.y," z")}var Ce=function(e){var t,n,o=we(),a=o[0],i=o[1],s={x:null!==(t=null==i?void 0:i.width)&&void 0!==t?t:0,y:null!==(n=null==i?void 0:i.height)&&void 0!==n?n:0};return r.createElement("div",{ref:a,className:"cta-bubble__tail"},r.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 ".concat(s.x," ").concat(s.y)},r.createElement("path",{d:Pe(e,s),fill:"currentColor"})))},Se=function(e){var t,n,o,a,i=we(),s=i[0],u=i[1],l=(e.animate||!1)&&"bounce"===e.buttonAnimation?"bounce":"none";return r.createElement("div",{ref:s,style:{border:e.borderStyle?"solid":"none",borderWidth:(null===(t=e.borderStyle)||void 0===t?void 0:t.width)||"0px",borderColor:(null===(n=e.borderStyle)||void 0===n?void 0:n.color)||"transparent",animation:"".concat(l," 1s infinite")},className:"cta-bubble",onClick:e.onClick},r.createElement(Ce,{width:null!==(o=null==u?void 0:u.width)&&void 0!==o?o:0,height:null!==(a=null==u?void 0:u.height)&&void 0!==a?a:0,direction:60,angle:45,length:16}),r.createElement("div",{className:"cta-bubble__content"},e.children))},Ne=function(e){var t=e.visible,n=e.timeout,o=e.delay,a=e.animate,i=e.buttonAnimation,s=e.onClick,u=(0,r.useMemo)((function(){if(t)return(new Date).valueOf()}),[t]),l=(0,r.useState)(!1),c=l[0],d=l[1];return(0,r.useEffect)((function(){var e=!0;if(u){var t=setTimeout((function(){e&&d(!0);var t=setTimeout((function(){e&&d(!1)}),n);return function(){clearTimeout(t)}}),o);return function(){e=!1,clearTimeout(t)}}return function(){e=!1}}),[u,n,o]),r.createElement(r.Fragment,null,t&&c&&r.createElement(Se,{onClick:s,animate:a,buttonAnimation:i},e.children))},je=function(e){var t,n=e.onClick,o=e.addClass,a=e.config,i=e.visible,s=e.borderStyle,u=e.imageUrl,l=(0,r.useState)(V),c=l[0],d=l[1],f=(0,r.useState)(!1),p=f[0],h=f[1],m=(null===(t=null==a?void 0:a.mobile)||void 0===t?void 0:t.applyAtLessThanWidth)||"400",v=window.innerWidth<=parseInt(m,10)&&(null==a?void 0:a.mobile)?a.mobile:a;(0,r.useEffect)((function(){if((null==v?void 0:v.delay)&&(null==v?void 0:v.timeout)){var e=setTimeout((function(){h(!0);var e=setTimeout((function(){h(!1)}),v.timeout);return function(){clearTimeout(e)}}),v.delay);return function(){clearTimeout(e)}}return function(){}}),[v]);var g=p?(null==v?void 0:v.animation)||"wiggle":"none";(0,r.useEffect)((function(){var e=function(){var e=window.innerWidth<parseInt(m,10)?"30":V;d(e)};return e(),window.addEventListener("resize",e),function(){window.removeEventListener("resize",e)}}),[m]);var x=Math.min(22,+c/48*22);return r.createElement("button",{"aria-label":"open chat",className:"xapp-chat-button ".concat(o||"").trim(),onClick:n},r.createElement("div",{id:"xapp-widget-button",className:"xapp-chat-button__btn",style:{width:"".concat(c,"px"),height:"".concat(c,"px"),borderRadius:"".concat(+c/2,"px"),border:s&&s.width?"solid":"none",borderWidth:(null==s?void 0:s.width)||"0px",borderColor:(null==s?void 0:s.color)||"transparent",animation:"".concat(g," 1s infinite")}},u?r.createElement("img",{src:u,alt:"Chat Icon",width:"22",height:"22"}):r.createElement("svg",{width:x,height:x,viewBox:"0 0 22 22"},r.createElement("path",{d:"M13 22l-4-6H2c-1.11-.043-2-.935-2-2V2C0 .89.89 0 2 0h18c1.11 0 2 .892 2 2v12c0 1.067-.89 1.957-2 2h-3l-4 6zm3-8h4c-.005.3-.01-12 0-12-.01.004-18 .006-18 0 .005.006 0 12 0 12h8l3 5 3-5z",fill:"#FFF",fillRule:"evenodd"}))),a&&a.message&&r.createElement("div",{className:"xapp-chat-button__cta"},r.createElement(Ne,{timeout:null==v?void 0:v.timeout,delay:null==v?void 0:v.delay,animate:p,buttonAnimation:g,visible:!i},a.message)))},Ie=function(e){var t,n,o,a,i=e.card;return i.imageUrl&&(o=r.createElement("div",{className:"chat-card-container__img"},r.createElement(pe,{imageUrl:i.imageUrl,imageActionUrl:i.imageActionUrl}))),i.title&&(n=r.createElement("div",{className:"chat-card-title"},r.createElement("span",null,i.title))),i.content&&(a=r.createElement("div",{className:"chat-card-sub-title"},r.createElement("span",null,i.content))),r.createElement("div",{className:"chat-card-container"},o,n,a,!!(null===(t=i.buttons)||void 0===t?void 0:t.length)&&r.createElement(ve,{buttons:i.buttons,onClick:e.onButtonClick}))},De=function(e){var t=e.option,n=t.actionUrl?"chat-chip chat-chip-link":"chat-chip";return r.createElement("div",{onClick:function(){return null==e?void 0:e.onClick(t)},className:n},r.createElement("span",null,t.label||t))},Re=function(e){return r.createElement("div",{className:"chat-chips"},e.options.map((function(t,n){return r.createElement(De,{key:n,onClick:e.onOptionClick,option:t})})))},Ue={type:"newWindow"};function Ae(e){throw new Error("Unknown kind "+e)}function Ye(e){return{type:"visual_status",detail:{status:e,timestamp:(new Date).getTime()}}}function Le(){var e=X();return(0,r.useCallback)((function(t,n,r,o){o||(o=(null==e?void 0:e.urls)?function(e,t){if(t.policies)for(var n=0,r=t.policies;n<r.length;n++){var o=r[n];try{if(new RegExp(o.pattern,"gi").test(e))return o.behavior}catch(a){}}return t.defaultBehavior||Ue}(t,e.urls):Ue),function(e,t,n,r){if(!t||!n)throw new Error("OpenUrl: No dispatch and/or visual.");var o=r.type;switch(o){case"newWindow":n.opened&&t(Ye({opened:!1})),window.open(e,"callout-option","toolbar=0,status=0,width=".concat(r.width||1e3,",height=").concat(r.height||700));break;case"newTab":n.opened&&t(Ye({opened:!1})),window.open(e,"_blank");break;case"sameWindow":n.opened||t(Ye({opened:!0})),window.open(e,"_self");break;default:Ae(o)}}(t,n,r,o)}),[e])}function Fe(e,t){return{type:"synthetic",detail:{type:"write_msg",user:t,msg:e,timestamp:+new Date}}}function We(e,t){return function(n){return function(r,o){var a=o().attributes;a=K(K({},a),{currentUrl:window.location.href}),n.sendChatMsg({text:e,token:t,attributes:a},(function(e){e&&ae("Error sending message",e)}));var i=o().visitor;r(Fe({text:t?"".concat(e," (from the list)"):e},i))}}}function He(e){return function(t){return function(){t.sendTyping(e)}}}function Be(e,t){return function(n){return function(){n.setVisitorInfo(e,t,(function(e){e&&ae(e)}))}}}function qe(e){return{type:"account_status",detail:{status:e,timestamp:+new Date}}}function ze(e){return{type:"connection_update",detail:{status:e,timestamp:+new Date}}}var Qe=function(){function e(e){this.inner=e}return e.prototype.bargeOut=function(e){ae("CLIENT: bargeOut"),this.inner.bargeOut(e)},e.prototype.bargeIn=function(e,t){ae("CLIENT: bargeIn: ".concat(e)),this.inner.bargeIn(e,t)},e.prototype.init=function(e){this.inner.init(e)},e.prototype.sendOfflineMsg=function(e,t){ae("CLIENT: sendOfflineMsg: ".concat(JSON.stringify(e))),this.inner.sendOfflineMsg(e,t)},e.prototype.sendChatMsg=function(e,t){ae("CLIENT: sendChatMsg: ".concat(JSON.stringify(e))),this.inner.sendChatMsg(e,t)},e.prototype.sendChatMsgRequest=function(e,t){ae("CLIENT: sendChatMsgRequest: ".concat(JSON.stringify(e))),this.inner.sendChatMsgRequest(e,t)},e.prototype.sendTyping=function(e){ae("CLIENT: sendTyping: ".concat(JSON.stringify(e))),this.inner.sendTyping(e)},e.prototype.setVisitorInfo=function(e,t,n){ae("CLIENT: setVisitorInfo: ".concat(JSON.stringify(e)," session id: ").concat(t)),this.inner.setVisitorInfo(e,t,n)},e.prototype.sendChatRating=function(e){ae("CLIENT: sendChatRating: ".concat(JSON.stringify(e))),this.inner.sendChatRating(e)},e.prototype.sendFile=function(e,t){ae("CLIENT: sendFile: ".concat(JSON.stringify(e))),this.inner.sendFile(e,t)},e.prototype.markAsRead=function(){ae("CLIENT: markAsRead:"),this.inner.markAsRead()},e.prototype.flush=function(){ae("CLIENT: flush:"),this.inner.flush()},e.prototype.dispose=function(){ae("CLIENT: dispose:"),this.inner.dispose()},e.prototype.sleep=function(){ae("CLIENT: sleep:"),this.inner.sleep()},e.prototype.wakeup=function(){ae("CLIENT: wakeup:"),this.inner.wakeup()},e}(),Ve="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==n.g?n.g:"undefined"!=typeof self?self:{},Je={};Object.defineProperty(Je,"__esModule",{value:!0});var Xe=r;function Ge(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var Ke=Ge(Xe);var $e=function(e){var t=e.format,n=e.text;return Ke.default.createElement("span",{"data-rich-text-type":"bold",className:"xapp-search-rich-text-bold-span"},n.substring(t.start,t.end))},Ze=function(e){var t=e.format,n=e.text,r=e.readOnly,o=e.onClick,a=t.text||n.substring(t.start,t.end),i=Xe.useState(a),s=i[0],u=i[1],l=Xe.useCallback((function(e){u(e.target.value)}),[]),c=Xe.useCallback((function(e){o&&(!1===o(t)&&(e.preventDefault(),e.stopPropagation()))}),[o,t]);return r?Ke.default.createElement("span",{className:"xapp-search-rich-text-input-span xapp-search-rich-text-input-span--readonly",onClick:c},a):Ke.default.createElement("input",{type:"text",value:s,className:"xapp-search-rich-text-input-span","data-rich-text-type":"inputText",onChange:l,onClick:c,readOnly:r})},et=function(e){var t=e.format,n=e.text;return Ke.default.createElement("span",{"data-rich-text-type":"normal",className:"xapp-search-rich-text-normal-span"},n.substring(t.start,t.end))},tt=function(e){var t=e.format,n=e.text,r=e.readOnly,o=e.onClick,a=t.type;switch(a){case"normal":return Ke.default.createElement(et,{text:n,format:t,readOnly:r});case"bold":return Ke.default.createElement($e,{text:n,format:t,readOnly:r});case"inputText":return Ke.default.createElement(Ze,{text:n,format:t,readOnly:r,onClick:o});default:!function(e){throw new Error("Unknown kind "+e)}(a)}};function nt(e,t){for(var n=[],r=0,o=0,a=e;o<a.length;o++){var i=a[o],s=i.start,u=i.end,l=i.type,c=i.text;r<s&&n.push({type:"normal",start:r,end:s}),n.push({type:l,start:s,end:u,text:c}),r=u}return r<t&&n.push({type:"normal",start:r,end:t}),n}function rt(e){var t=e.childNodes,n=[],r="";return t.forEach((function(e){if(e.nodeType===Node.ELEMENT_NODE){var t=e,o="INPUT"===t.tagName?t.value:t.innerText,a=t.dataset.richTextType;n.push({type:a,start:r.length,end:r.length+o.length}),r+=o}e.nodeType===Node.TEXT_NODE&&((o=e.nodeValue)&&(n.push({type:"normal",start:r.length,end:r.length+o.length}),r+=o))})),function(e){for(var t=e.text,n=[],r=0,o=e.formats;r<o.length;r++){var a=o[r],i=a.type;switch(i){case"normal":continue;case"inputText":n.push(a);break;case"bold":if(n.length>0){var s=n[n.length-1];s.type===i&&s.end===a.start&&(n.pop(),n.push({type:i,start:s.start,end:a.end}))}else n.push(a)}}return{text:t,formats:n}}({text:r,formats:n})}var ot=function(e){var t=e.value,n=e.className,r=e.readOnly,o=e.onInput,a=e.onChange,i=e.onSpanClick,s=t.formats,u=t.text,l=Xe.useMemo((function(){return nt(s,u.length)}),[s,u.length]),c=Xe.useCallback((function(e){var t=rt(e.currentTarget);o&&o(t)}),[o]),d=Xe.useCallback((function(e){var t=e.currentTarget,n=rt(t);!function(e){for(var t,n=[],r=e.childNodes,o=0;o<r.length;o++)(null==(s=r.item(o))?void 0:s.nodeType)===Node.TEXT_NODE&&n.push(s);for(var a=0,i=n;a<i.length;a++){var s=i[a];try{null===(t=s.parentElement)||void 0===t||t.removeChild(s)}catch(u){}}}(t),a&&a(n)}),[a]);return Ke.default.createElement("div",{id:e.id,className:"xapp-search-rich-text ".concat(n||""),contentEditable:!r,suppressContentEditableWarning:!0,onInput:c,onBlur:d,onKeyDown:e.onKeyDown},l.map((function(e,t){return Ke.default.createElement(tt,{key:t,format:e,text:u,readOnly:r,onClick:i})})))},at=function(e){return Ke.default.createElement("div",{className:"xappw-suggestions-group-heading"},e.label)};var it=function(e){var t=e.data,n=e.current,r=e.actions,o=e.onClick,a=e.onHover,i=e.onSpanClick,s=Xe.useCallback((function(){o(t)}),[t,o]),u=Xe.useCallback((function(){a&&a(t)}),[t,a]),l=Xe.useCallback((function(e){if(i)return i(t,e)}),[i,t]),c=Xe.useRef(null);return Xe.useEffect((function(){var e=c.current;if(n&&e){var t=function(e){for(var t=e;t&&!t.classList.contains("xapp-search-result__suggestions");)t=t.parentElement;return t||void 0}(e);if(t){var r=t.getBoundingClientRect(),o=e.getBoundingClientRect(),a=Math.max(r.top,o.top);Math.min(r.bottom,o.bottom)-a<.99*o.height&&e.scrollIntoView({behavior:"smooth"})}}}),[n]),Ke.default.createElement("div",{ref:c,className:"xappw-suggestions-item ".concat(n?"xappw-suggestions-item--current":""),onClick:s,onMouseEnter:u},Ke.default.createElement(ot,{value:t,className:"xappw-suggestions-item__texts",readOnly:!0,onSpanClick:l}),r&&Ke.default.createElement("div",{className:"xappw-suggestions-item__actions"},Ke.default.createElement(r,{data:t,current:n})))},st=function(e){var t=e.group,n=e.currentIndex,r=e.itemActions,o=t.heading,a=t.items;return Ke.default.createElement("div",{className:"xappw-suggestions-group"},Ke.default.createElement("div",{className:"xappw-suggestions-group__heading"},Ke.default.createElement(at,{label:o})),Ke.default.createElement("div",{className:"xappw-suggestions-group__items"},a.map((function(t,o){return Ke.default.createElement(it,{key:o,data:t,current:n===o,actions:r,onClick:e.onItemClick,onHover:e.onItemHover,onSpanClick:e.onSpanClick})}))))};function ut(e){return e.reduce((function(e,t){return e+t.items.length}),0)}function lt(e){var t=Object.keys(e)[0],n=e[t];if(!n)throw new Error;return{type:t,start:n.start,end:n.end}}function ct(e){switch(e){case"FAQ":return"FAQs";case"INTENT":case"HISTORICAL":return"Suggestions";default:return e}}function dt(e,t,n,r){return new(n||(n=Promise))((function(o,a){function i(e){try{u(r.next(e))}catch(t){a(t)}}function s(e){try{u(r.throw(e))}catch(t){a(t)}}function u(e){e.done?o(e.value):function(e){return e instanceof n?e:new n((function(t){t(e)}))}(e.value).then(i,s)}u((r=r.apply(e,t||[])).next())}))}function ft(e,t){var n,r,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(s){return function(u){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;a&&(a=0,s[0]&&(i=0)),i;)try{if(n=1,r&&(o=2&s[0]?r.return:s[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,s[1])).done)return o;switch(r=0,o&&(s=[2&s[0],o.value]),s[0]){case 0:case 1:o=s;break;case 4:return i.label++,{value:s[1],done:!1};case 5:i.label++,r=s[1],s=[0];continue;case 7:s=i.ops.pop(),i.trys.pop();continue;default:if(!(o=i.trys,(o=o.length>0&&o[o.length-1])||6!==s[0]&&2!==s[0])){i=0;continue}if(3===s[0]&&(!o||s[1]>o[0]&&s[1]<o[3])){i.label=s[1];break}if(6===s[0]&&i.label<o[1]){i.label=o[1],o=s;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(s);break}o[2]&&i.ops.pop(),i.trys.pop();continue}s=t.call(e,i)}catch(u){s=[6,u],r=0}finally{n=o=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,u])}}}var pt=["FAQ","INTENT","HISTORICAL"].reduce((function(e,t,n){return e[t]=n,e}),{});function ht(e,t){return function(e,t,n){if(n||2===arguments.length)for(var r,o=0,a=t.length;o<a;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))}([],e,!0).sort((function(e,n){return function(e,t,n){return n*(pt[t.type]-pt[e.type])}(e,n,t)}))}function mt(e,t){var n=new URL(e).searchParams;t.forEach((function(e,t){n.append(t,e)}));var r=new URL(e);return r.search=n.toString(),r}var vt={};function gt(){}function xt(e,t){void 0===t&&(t=vt);var n=Xe.useState({state:"paused"}),r=n[0],o=n[1],a=t.pause;return Xe.useEffect((function(){if(a)return o({state:"paused"}),gt;var t=new AbortController,n=t.signal,r=!0;return function(){dt(this,void 0,void 0,(function(){var t,a,i;return ft(this,(function(s){switch(s.label){case 0:return s.trys.push([0,4,,5]),o({state:"fetching"}),[4,fetch(e,{signal:n})];case 1:return t=s.sent(),r?[4,t.json()]:[3,3];case 2:a=s.sent(),t.ok?o({state:"success",data:a}):o({state:"error",error:a}),s.label=3;case 3:return[3,5];case 4:if("AbortError"===(i=s.sent()).name)return o({state:"paused"}),[2];throw i;case 5:return[2]}}))}))}(),function(){r=!1,t.abort()}}),[e,a]),r}var yt=Je.IconButton=function(e){var t=e.type||"button",n=e.icon;return Ke.default.createElement("button",{type:t,tabIndex:e.tabIndex?Number(e.tabIndex):0,className:"xapp-search-icon-button ".concat(e.className||""),onClick:e.onClick},Ke.default.createElement("div",{className:"xapp-search-icon-button__content"},Ke.default.createElement(n,null)))};Je.MessageBubble=function(e){return Ke.default.createElement("div",{className:"xappw-message-bubble"},e.children)};var bt=Je.RichInput=function(e){var t=e.id,n=e.value,r=e.type,o=e.autoFocus,a=e.spellCheck,i=e.tabIndex,s=e.onChange,u=e.onInput,l=e.onKeyDown,c=e.onSearch,d=n.formats.some((function(e){return"inputText"===e.type})),f=Xe.useCallback((function(e){s({text:e.target.value,formats:[]})}),[s]),p=Xe.useCallback((function(e){s(e)}),[s]),h=Xe.useCallback((function(e){u&&u({text:e.target.value,formats:[]})}),[u]),m=Xe.useCallback((function(e){u&&u(e)}),[u]),v=Xe.useCallback((function(e){l&&l(e)}),[l]),g=Xe.useRef(null),x=g.current;return Xe.useEffect((function(){if(x&&c){var e=function(e){var t=e.target;t&&c({text:t.value,formats:[]})};return x.addEventListener("search",e),function(){x.removeEventListener("search",e)}}}),[x,c]),Ke.default.createElement("div",{className:"xappw-rich-input ".concat(e.className)},d?Ke.default.createElement(ot,{id:t,value:n,onChange:p,onInput:m,onKeyDown:v,className:"xappw-rich-input__input ".concat(e.className,"__input")}):Ke.default.createElement("input",{id:t,ref:g,type:r,value:n.text,autoComplete:"off",autoFocus:o,placeholder:e.placeholder,spellCheck:a,tabIndex:i?Number(i):0,className:"xappw-rich-input__input ".concat(e.className,"__input"),onFocus:e.onFocus,onChange:f,onInput:h,onKeyDown:v}))};Je.RichText=ot,Je.SuggestionsGroup=st,Je.SuggestionsGroupHeading=at,Je.SuggestionsItem=it;var wt=Je.SuggestionsList=function(e){var t=e.suggestions,n=e.itemActions,r=e.className,o=Xe.useMemo((function(){return t?ut(t):0}),[t])>=0?e.index:NaN,a=0;return Ke.default.createElement("div",{className:"xappw-suggestions-list ".concat(r||"")},null==t?void 0:t.map((function(t,r){var i=Ke.default.createElement(st,{key:r,group:t,currentIndex:o-a,itemActions:n,onItemClick:e.onItemClick,onItemHover:e.onItemHover,onSpanClick:e.onSpanClick});return a+=t.items.length,i})))};Je.addQueryParametersToURL=mt,Je.extendFormat=nt;var _t=Je.findItemByIndex=function(e,t){if(t>=0)for(var n=0,r=e;n<r.length;n++)for(var o=0,a=r[n].items;o<a.length;o++){var i=a[o];if(t<=0)return i;t--}},Mt=Je.getItemsLength=ut,Ot=Je.parseSuggestionsResponse=function(e,t){if(void 0===t&&(t=1),e)return ht(e.suggestions,t).reduce((function(e,t){var n,r,o={text:(n=t).suggestion,content:n.answer,formats:(r=n.format,r.map(lt)),type:n.type};if(e.length){var a=e[e.length-1];if(a.heading===ct(t.type))return a.items.push(o),e}return e.push({heading:ct(t.type),items:[o]}),e}),[])};Je.sortSuggestionItems=ht,Je.useJsonFetch=xt;var Et=Je.useSuggestionsFetch=function(e){var t=e.url,n=e.context,r=e.query,o=Xe.useMemo((function(){if(t){var e=new URLSearchParams;return e.append("size","5"),e.append("queryText",r),(null==n?void 0:n.length)&&e.append("activeContexts",n.join(",")),mt(t,e)}}),[r,n,t]);return xt(o?"".concat(o.toString()):"",{pause:!r||!t})},kt=Je.uuid=function(){var e=(new Date).getTime();return"xxxxxxxx-xxxx-65xx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(t){var n=(e+16*Math.random())%16|0;return e=Math.floor(e/16),("x"===t?n:3&n|8).toString(16)}))};function Tt(e){if(e)return"string"==typeof e?{displayText:e}:e}function Pt(e,t){var n,r,o,a,i,s,u,l,c;if(void 0===t&&(t=(new Date).getTime()),!e)return s;var d=Tt(e.outputSpeech),f=Tt(e.reprompt);return d&&(u=d.displayText,l=d.html),"TRANSFER_CALL"===e.system?s={type:"handOff",timestamp:t,handoffMessage:u,handoffTarget:null===(n=null==e?void 0:e.data)||void 0===n?void 0:n.transferPhoneNumber,endSession:!1,user:void 0}:(null===(r=e.system)||void 0===r?void 0:r.startsWith("PERMISSION_"))?s=function(e,t){var n,r=function(e){switch(e){case"PERMISSION_EMAIL":return"EMAIL";case"PERMISSION_LOCATION_PRECISE":return"LOCATION_PRECISE";default:throw new Error("Unsupported permission: ".concat(e))}}(e.system),o=Tt(e.outputSpeech),a=e.data.permissionPrimerAccepted,i=e.data.permissionDenied;return{type:"permissionRequest",timestamp:t,msg:{text:null!==(n=null==o?void 0:o.displayText)&&void 0!==n?n:"".concat(e.data.permissionRequestTTSContext),permissionRequest:{time:t,type:r,approve:"object"==typeof a?Pt({outputSpeech:a}).msg:void 0,deny:"object"==typeof i?Pt({outputSpeech:i}).msg:void 0}},endSession:!1,user:void 0}}(e,t):(c=!f||!(f.displayText||f.ssml),s={type:"msg",timestamp:t,msg:{displays:e.displays,context:null===(a=null===(o=e.context)||void 0===o?void 0:o.active)||void 0===a?void 0:a.map((function(e){return e.name}))},endSession:c,user:void 0},u&&!l&&(s.msg=K(K({},s.msg),{text:u})),l&&(s.msg=K(K({},s.msg),{html:l})),(null===(i=null==d?void 0:d.suggestions)||void 0===i?void 0:i.length)&&(s.msg.options=d.suggestions.map((function(e){return"string"==typeof e?e:{label:e.title,actionUrl:e.url}})))),s}function Ct(e){var t=e.items,n=[{retry:0,delay:10,text:""}];if(Array.isArray(t)&&t.length>0)for(var r=0;r<t.length;r++)n.push({retry:r+1,delay:t[r].delay,text:t[r].text});return n}function St(e){return{type:"session_id",detail:{sessionId:e,timestamp:(new Date).getTime()}}}var Nt=function(){function e(e,t){this._userId="",this._sessionId="",this._accessToken="",this._attributes={},this.config=e,this.options=t,this.configurableMessages=t.configurableMessages,this.isNewSession=!1,this.hooks=t.hooks}return e.prototype.init=function(e){this.dispatch=e,ae("got init auth: ".concat(this.config.key)),this.setConnectionStatus("online"),this.setAccountStatus("online")},e.prototype.setConnectionStatus=function(e){ae("SERVER: connection_update: ".concat(JSON.stringify(e))),this.dispatch(ze(e))},e.prototype.setAccountStatus=function(e){ae("SERVER: account_status: ".concat(JSON.stringify(e))),this.dispatch(qe(e))},e.prototype.sendNewMessage=function(e){ae("SERVER: new message: ".concat(JSON.stringify(e))),this.dispatch({type:"chat",detail:{type:"chat.msg",user:K(K({},e.user),{nick:"agent:robot"}),msg:e.msg,timestamp:+new Date}})},e.prototype.userJoined=function(e){ae("SERVER: user joined: ".concat(JSON.stringify(e))),this.dispatch({type:"chat",detail:{type:"chat.memberjoin",user:K(K({},e.user),{nick:"agent:robot"}),timestamp:+new Date}})},e.prototype.typing=function(){this.dispatch({type:"chat",detail:{type:"chat.typing",user:{nick:"agent:robot"},typing:!0,timestamp:+new Date}})},e.prototype.stopTyping=function(){this.dispatch({type:"chat",detail:{type:"chat.typing",user:{nick:"agent:robot"},typing:!1,timestamp:+new Date}})},e.prototype.sendFailureMessage=function(e,t,n){this.stopTyping(),this.dispatch({type:"chat",detail:{type:"chat.failureMsg",user:{nick:"agent:robot"},failureMsg:{retry:e,delay:t,text:n},timestamp:+new Date}})},e.prototype.sendOfflineMsg=function(e,t){t()},e.prototype.sendChatMsg=function(e,t){return $(this,void 0,void 0,(function(){return Z(this,(function(n){return[2,this.sendChatMsgRequest({msg:e,timestamp:(new Date).getTime(),agent:!1,user:void 0,type:"msg"},t)]}))}))},e.prototype.bargeOut=function(e){return $(this,void 0,void 0,(function(){return Z(this,(function(e){throw new Error("Method not implemented: bargeOut")}))}))},e.prototype.bargeIn=function(e,t){return $(this,void 0,void 0,(function(){return Z(this,(function(e){throw new Error("Method not implemented: bargeIn")}))}))},e.prototype.getBot=function(e){var t,n=null===(t=this.options)||void 0===t?void 0:t.bot;return e?e.displayName&&e.nick&&e.avatarPath?e:K(K({},e),{nick:e.nick||n.nick||"Bot",displayName:e.displayName||n.displayName||"Bot",avatarPath:e.avatarPath||n.avatarPath}):n},e.prototype.sendChatMsgRequest=function(e,t){var n;return $(this,void 0,void 0,(function(){var r;return Z(this,(function(o){switch(o.label){case 0:return[4,this.postMessage(e)];case 1:return r=o.sent(),(null===(n=r.user)||void 0===n?void 0:n.displayName)||(r=K(K({},r),{user:this.getBot(r.user)})),this.sendNewMessage(r),t(),[2]}}))}))},e.prototype.sendTyping=function(){},e.prototype.setVisitorInfo=function(e,t,n){this.visitorInfo=e,this._attributes=K({},this.visitorInfo.attributes);var r=new URL(window.location.href);(null==r?void 0:r.host.toLowerCase().startsWith("localhost"))?this._attributes.isLocal=!0:this._attributes.currentUrl=window.location.href,this._accessToken=this.visitorInfo.accessToken,this.userJoined({user:this.getBot(void 0),token:""}),this.startSession(t),n()},e.prototype.sendChatRating=function(){},e.prototype.sendFile=function(e,t){t()},e.prototype.markAsRead=function(){},e.prototype.flush=function(){},e.prototype.dispose=function(){},e.prototype.sleep=function(){},e.prototype.wakeup=function(){},e.prototype.postMessage=function(e){var t,n,r,o,a;return $(this,void 0,void 0,(function(){var i,s,u,l,c,d,f,p,h,m,v,g,x,y,b,w,_,M,O,E,k=this;return Z(this,(function(T){switch(T.label){case 0:s=this._userId,u=this._sessionId,l=this._accessToken,c=this._attributes||{},d=(new Date).getTime(),this.isNewSession&&!(null===(t=null==e?void 0:e.msg)||void 0===t?void 0:t.text)?i={type:"LAUNCH_REQUEST",rawQuery:null===(n=null==e?void 0:e.msg)||void 0===n?void 0:n.text,sessionId:u,userId:s,isNewSession:!0,intentId:"LaunchRequest",platform:"stentor-platform",channel:"widget",accessToken:l,attributes:c}:(f=null===(r=e.msg)||void 0===r?void 0:r.permissionRequest)?(e=K(K({},e),{msg:K(K({},e.msg),{permissionRequest:void 0})}),p=d-f.time>3e5,h=null===(o=e.msg.text)||void 0===o?void 0:o.toLowerCase(),m=!p,v={id:this._userId},p||("EMAIL"===f.type&&(g=function(e){var t=/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;return t.test(String(e).toLowerCase())}(h),m=g,v.email=this.visitorInfo.email,v.name=this.visitorInfo.displayName,this.visitorInfo.email=h),"LOCATION_PRECISE"===f.type&&(m=!!e.msg.location,v.preciseLocation=e.msg.location?{coordinates:{latitude:e.msg.location.latitude,longitude:e.msg.location.longitude}}:void 0)),i={type:"PERMISSION_GRANT",rawQuery:e.msg.text,sessionId:this._sessionId,userId:this._userId,isNewSession:!1,granted:m,userProfile:v,intentId:"PermissionGrant",platform:"stentor-platform",channel:"widget",accessToken:l,attributes:c}):i="custom"===e.type?K(K({},JSON.parse(e.payload)),{sessionId:this._sessionId,userId:this._userId,isNewSession:!1,platform:"stentor-platform",channel:"widget",accessToken:l,attributes:c}):e.msg.token?{type:"OPTION_SELECT_REQUEST",token:e.msg.token,sessionId:this._sessionId,userId:this._userId,isNewSession:!1,intentId:"OptionSelect",platform:"stentor-platform",channel:"widget",accessToken:l,attributes:c}:{type:"INTENT_REQUEST",rawQuery:e.msg.text,sessionId:this._sessionId,userId:this._userId,isNewSession:!1,intentId:"NLU_RESULT_PLACEHOLDER",platform:"stentor-platform",channel:"widget",accessToken:l,attributes:c},ae("Visitor says: ".concat(JSON.stringify(i,void 0,2))),x=Ct(this.configurableMessages),b=!1,w=function(e){y=e,b=!0},_=function(e,t){return $(k,void 0,void 0,(function(){var n,r,o;return Z(this,(function(a){return n=x[e].retry,r=x[e].delay,o=x[e].text,ie("POST failed: ".concat(t)),this.sendFailureMessage(n,r,o),y={errorText:""},[2,new Promise((function(e){setTimeout(e,1e3*r)}))]}))}))},M=1,T.label=1;case 1:return M<x.length?(O=this.config.timeout||15e3,console.log("using timeout of ".concat(O)),this.typing(),[4,new re({retries:1,timeout:O}).fetch((function(e){return function(e,t,n,r){return $(this,void 0,void 0,(function(){var o,a;return Z(this,(function(i){switch(i.label){case 0:return o=JSON.stringify(e),ae("URL: ".concat(t)),ae("BODY: ".concat(o)),[4,fetch(t,{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(n),"User-Agent":"Stentor Chat Server"},body:o,mode:"cors",signal:r})];case 1:if(!(a=i.sent()).ok)throw new Error("Status ".concat(a.status,", Text: ").concat(a.statusText));return[2,a.json()]}}))}))}(i,k.config.url,k.config.key,e)})).then(w).catch(_.bind(this,M))]):[3,4];case 2:if(T.sent(),b)return[3,4];T.label=3;case 3:return M++,[3,1];case 4:return ae("Bot says: ".concat(JSON.stringify(y,void 0,2))),this.isNewSession=!1,E=Pt(y),!(null==y?void 0:y.hasOwnProperty("errorText"))&&y||((E={type:"userLeft",timestamp:d,msg:{},user:void 0,endSession:!0}).msg={text:(null==y?void 0:y.hasOwnProperty("errorText"))?y.errorText:"The assistant is not responding right now.  Please close the widget and open it again."}),"function"==typeof(null===(a=this.hooks)||void 0===a?void 0:a.onResponse)&&this.hooks.onResponse(y),this.stopTyping(),[2,E]}}))}))},e.prototype.startSession=function(e){this.visitorInfo.visitorId?this._userId="".concat(this.visitorInfo.visitorId):this.visitorInfo.email?this._userId="stentor-widget-user-".concat(this.visitorInfo.email):this._userId="stentor-widget-user-".concat(kt()),e?(this._sessionId=e,ae("Using persisted session id: ".concat(this._sessionId))):(this._sessionId="stentor-widget-session-".concat(kt()),this.dispatch(St(this._sessionId)),ae("Using generated session id: ".concat(this._sessionId))),this.isNewSession=!0},Object.defineProperty(e.prototype,"userId",{get:function(){return this._userId},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"sessionId",{get:function(){return this._sessionId},enumerable:!1,configurable:!0}),e}();var jt=function(){function e(){}return e.prototype.init=function(){},e.prototype.sendOfflineMsg=function(){},e.prototype.sendChatMsg=function(){},e.prototype.sendChatMsgRequest=function(){},e.prototype.sendTyping=function(){},e.prototype.setVisitorInfo=function(){},e.prototype.sendChatRating=function(){},e.prototype.sendFile=function(){},e.prototype.markAsRead=function(){},e.prototype.flush=function(){},e.prototype.dispose=function(){},e.prototype.bargeOut=function(){},e.prototype.bargeIn=function(){},e.prototype.sleep=function(){},e.prototype.wakeup=function(){},e}();function It(e,t,n,r,o,a,i){var s,u,l,c,d,f,p=(new Date).getTime();if(n&&!(null===(s=null==e?void 0:e.msg)||void 0===s?void 0:s.text))f={type:"LAUNCH_REQUEST",rawQuery:null===(u=null==e?void 0:e.msg)||void 0===u?void 0:u.text,sessionId:r,userId:t,isNewSession:!0,intentId:"LaunchRequest",platform:"stentor-platform",channel:"widget",accessToken:o,attributes:a};else{var h=null===(l=e.msg)||void 0===l?void 0:l.permissionRequest;if(h){e=K(K({},e),{msg:K(K({},e.msg),{permissionRequest:void 0})});var m=p-h.time>3e5,v=null===(c=e.msg.text)||void 0===c?void 0:c.toLowerCase(),g=!m,x={id:t};if(!m){if("EMAIL"===h.type){var y=function(e){var t=/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;return t.test(String(e).toLowerCase())}(v);g=y,x.email=i.email,x.name=i.displayName,this.visitorInfo.email=v}"LOCATION_PRECISE"===h.type&&(g=!!e.msg.location,x.preciseLocation=e.msg.location?{coordinates:{latitude:e.msg.location.latitude,longitude:e.msg.location.longitude}}:void 0)}f={type:"PERMISSION_GRANT",rawQuery:e.msg.text,sessionId:r,userId:t,isNewSession:!1,granted:g,userProfile:x,intentId:"PermissionGrant",platform:"stentor-platform",channel:"widget",accessToken:o,attributes:a}}else f="custom"===e.type?K(K({},JSON.parse(e.payload)),{sessionId:r,userId:t,isNewSession:!1,platform:"stentor-platform",channel:"widget",accessToken:o,attributes:a}):e.msg.token?{type:"OPTION_SELECT_REQUEST",token:e.msg.token,sessionId:r,userId:t,isNewSession:!1,intentId:"OptionSelect",platform:"stentor-platform",channel:"widget",accessToken:o,attributes:a}:{type:"INTENT_REQUEST",rawQuery:e.msg.text,sessionId:r,userId:t,isNewSession:!1,intentId:"NLU_RESULT_PLACEHOLDER",platform:"stentor-platform",channel:"widget",accessToken:o,attributes:a}}return(null===(d=e.msg)||void 0===d?void 0:d.attributes)&&(f.attributes=K(K({},f.attributes),e.msg.attributes)),f}var Dt="router",Rt={deviceId:"Router",userId:Dt,isAdmin:!1,displayName:"XAPP Server",urlAttributes:{path:[],query:{}}},Ut=function(){function e(e,t){var n,r;this.isDisposed=!1,this._userId="",this._sessionId="",this.accessToken="",this.attributes={},this.isAdmin=!1,this.urlAttributes={},this.handlers={},this.config=e,this.options=t;var o=new URL(this.config.url);this.appId=o.searchParams.get("appId");var a=new URL(window.location.href);if(this.isAdmin="true"===a.searchParams.get("isAdmin"),this.appId)this.serverUrl=this.config.url,this.urlAttributes.path=null===(n=o.pathname)||void 0===n?void 0:n.split("/");else{this.serverUrl="".concat(o.origin);var i=null===(r=o.pathname)||void 0===r?void 0:r.split("/");i&&i.length>1&&(this.serverUrl="".concat(this.serverUrl,"/").concat(i[1]),this.urlAttributes.path=i.slice(1))}ae("WS url: ".concat(this.serverUrl," isAdmin: ").concat(this.isAdmin," attributes: ").concat(JSON.stringify(this.attributes)," appId: ").concat(this.appId)),this.configurableMessages=Ct(t.configurableMessages),this.noOfServerErrors=0}return e.prototype.init=function(e){var t,n,r=this;this.dispatch=e,this.setAccountStatus("offline"),this.handlers["connection update"]=function(e,t,n){ae("Connection update received. Session created: ".concat(e.sessionCreated," Error: ").concat(e.errorMessage||"")),e.sessionCreated?(r.sessionCreated=!0,r.setConnectionStatus("online")):(ie("SERVER: something is wrong. Going offline."),r.dispatch(qe("offline")),r.dispatch(ze("offline")))},this.handlers["account status"]=function(t,n,r){e({type:"account_status",detail:{status:"online",timestamp:r||(new Date).getTime()}})},this.handlers.failure=function(e,t,n){ie("SERVER: something's failed: type: ".concat(e.type," tries: ").concat(e.tries," error: ").concat(e.error));var o=r.configurableMessages[e.tries],a=o.retry,i=o.delay,s=o.text;r.sendFailureMessage(a,e.delay||i,s,t)},this.handlers["new message"]=function(e,t,n){var o,a;"Bot"===t.deviceId?("function"==typeof(null===(o=r.options.hooks)||void 0===o?void 0:o.onResponse)&&r.options.hooks.onResponse(a),a=Pt(e)):"Widget"===t.deviceId?a=function(e,t){if(void 0===t&&(t=(new Date).getTime()),e)return{type:"msg",timestamp:t,msg:{text:e.rawQuery},endSession:!1,user:void 0}}(e):ie("Unknown sender device Id: ".concat(t.deviceId)),r.dispatch({type:"chat",detail:{type:"chat.msg",user:{displayName:t.displayName||t.email||t.userId,nick:At(t),avatarPath:t.avatarPath},msg:a.msg,timestamp:n||(new Date).getTime()}})},this.handlers["user joined"]=function(e,t,n){var o,a;r.dispatch({type:"chat",detail:{type:"chat.memberjoin",user:{avatarPath:null===(a=null===(o=r.options)||void 0===o?void 0:o.bot)||void 0===a?void 0:a.avatarPath,displayName:t.displayName,nick:At(t)},timestamp:n||(new Date).getTime()}})},this.handlers["user left"]=function(e,t,n){r.dispatch({type:"chat",detail:{type:"chat.memberleave",user:{displayName:t.displayName,nick:At(t)},timestamp:n||(new Date).getTime()}})},this.handlers.typing=function(e,t,n){r.dispatch({type:"chat",detail:{type:"chat.typing",user:{nick:At(t)},typing:!0,timestamp:n||(new Date).getTime()}})},this.handlers["stop typing"]=function(e,t,n){r.dispatch({type:"chat",detail:{type:"chat.typing",user:{nick:At(t)},typing:!1,timestamp:n||(new Date).getTime()}})},this.handlers.disconnect=function(){ie("SERVER: requested disconnect"),r.dispatch(qe("offline")),r.dispatch(ze("offline"))},this.handlers.reconnect=function(){r.dispatch(qe("online")),r.dispatch(ze("online"))},this.handlers["reconnect failed"]=function(e){ie("SERVER: says re-connect failed"),r.dispatch(qe("offline")),r.dispatch(ze("offline"))},this.handlers["reconnect error"]=function(e){ie("SERVER: says there was an error while re-connecting"),r.dispatch(qe("offline"))},this.dispatch({type:"chat",detail:{type:"chat.memberjoin",user:{avatarPath:null===(n=null===(t=this.options)||void 0===t?void 0:t.bot)||void 0===n?void 0:n.avatarPath,displayName:Rt.displayName,nick:At(Rt)},timestamp:(new Date).getTime()}}),this.setAccountStatus("online"),this.setConnectionStatus("online")},e.prototype.autoReconnect=function(e){var t=this;0===this.noOfServerErrors&&this.setConnectionStatus("pending");var n=this.setAccountStatus.bind(this),r=this.setConnectionStatus.bind(this);function o(){var t=setInterval((function(){var a=e();a?(ae("Re-created WS connection"),a.onopen=function(){ae("Re-opened WS connection"),n("online"),r("online"),a.onclose=function(){ae("Closed WS connection (onclosed was called)"),o()},clearInterval(t)}):clearInterval(t)}),5e3)}ae("Creating WS connection");var a=e();a&&(a.onclose=function(){ae("Closed WS connection (onclosed was called)"),o()},this.ws.onopen=function(){ae("Opened WS connection (onopen was called)"),t.setAccountStatus("online"),t.setConnectionStatus("online")})},e.prototype.wsCreate=function(){var e,t,n=this;if(!this.isDisposed){ae("Trying to re-connect...");var r=new URL(this.serverUrl);if(r.searchParams.set("userId",this._userId),r.searchParams.set("isAdmin","".concat(this.isAdmin)),this.ws&&(null===(e=this.ws)||void 0===e?void 0:e.readyState)!==WebSocket.CLOSED){var o=null===(t=this.ws)||void 0===t?void 0:t.readyState;try{this.ws.close()}catch(ie){ie("Failed to close WS (ready state: ".concat(o,"): ").concat(ie))}}return this.ws=new WebSocket(r.toString()),this.ws.onerror=function(e){var t;ie("Error in WS connection. Url: ".concat(r.toString()," Type: ").concat(e?e.type:"?"," Ready State: ").concat(null===(t=n.ws)||void 0===t?void 0:t.readyState))},this.ws.onmessage=function(e){ae("ROUTER says: ".concat(e.data));var t=JSON.parse(e.data);n.handlers[t.event]?n.handlers[t.event](t.data,t.sender,t.timeMs):ie("Unknown router message event: ".concat(t.event))},this.ws}ae("Stopping reconnect for disposed router connector")},e.prototype.checkConnection=function(){var e;return(null===(e=this.ws)||void 0===e?void 0:e.readyState)===WebSocket.OPEN},e.prototype.emit=function(e,t){return $(this,void 0,void 0,(function(){var n,r=this;return Z(this,(function(o){switch(o.label){case 0:return n=JSON.stringify({event:e,data:t,sender:this.visitorInfo,sessionId:this._sessionId,timeMs:(new Date).getTime()}),ae("Widget says: ".concat(n)),this.ws||this.autoReconnect(this.wsCreate.bind(this)),[4,Yt(this.checkConnection.bind(this),1e3,1e4,"connection").then((function(e){e>0&&ae("Connection is ready in ".concat(e," ms")),r.ws.send(n),r.noOfServerErrors=0})).catch((function(e){ie("Connection wait timed out in ".concat(e," ms (show error)")),r.setConnectionStatus("online")}))];case 1:return o.sent(),[2]}}))}))},e.prototype.setAccountStatus=function(e){ae("SERVER account_status: ".concat(JSON.stringify(e))),this.dispatch(qe(e))},e.prototype.setConnectionStatus=function(e){ae("SERVER: connection_update: ".concat(JSON.stringify(e))),this.dispatch(ze(e))},e.prototype.sendOfflineMsg=function(e,t){t()},e.prototype.sendChatMsg=function(e,t){return $(this,void 0,void 0,(function(){return Z(this,(function(n){return[2,this.sendChatMsgRequest({msg:e,timestamp:(new Date).getTime(),agent:!1,user:void 0,type:"msg"},t)]}))}))},e.prototype.sendFailureMessage=function(e,t,n,r){this.dispatch({type:"chat",detail:{type:"chat.typing",user:{nick:At(r)},typing:!1,timestamp:+new Date}}),this.dispatch({type:"chat",detail:{type:"chat.failureMsg",user:{nick:At(r)},failureMsg:{retry:e,delay:t,text:n},timestamp:+new Date}})},e.prototype.sendDisconnectMessage=function(){this.dispatch({type:"chat",detail:{type:"chat.msg",user:{displayName:"Server",nick:At(Rt),avatarPath:Rt.avatarPath},msg:{text:0===this.noOfServerErrors?"I cannot connect to the server. Please try later.":"Nope. Still no luck. I still cannot connect to the server. Please don't give up."},timestamp:(new Date).getTime()}}),this.noOfServerErrors++},e.prototype.checkSession=function(){return this.sessionCreated},e.prototype.sendChatMsgRequest=function(e,t){return $(this,void 0,void 0,(function(){var n=this;return Z(this,(function(r){switch(r.label){case 0:return this.checkSession()||this.setConnectionStatus("pending"),[4,Yt(this.checkSession.bind(this),1e3,1e4,"session creation").then((function(t){t>0&&ae("Session creation is ready in ".concat(t," ms")),n.postMessage(e)})).catch((function(e){ie("Session creation wait timed out in ".concat(e," ms")),n.setConnectionStatus("online"),n.sendDisconnectMessage()}))];case 1:return r.sent(),this.setConnectionStatus("online"),t(),[2]}}))}))},e.prototype.sendTyping=function(e){},e.prototype.setVisitorInfo=function(e,t,n){ae("Visitor Info Message = ".concat(JSON.stringify(e))),this.visitorInfo={deviceId:"Widget",userId:e.userId,displayName:e.displayName||e.name,email:e.email,isAdmin:this.isAdmin,urlAttributes:this.urlAttributes},this.attributes=K(K(K({},e.attributes),this.attributes),{currentUrl:window.location.href}),this.accessToken=e.accessToken,this.startSession(t),this.postVisitorInfo(),n()},e.prototype.sendChatRating=function(){},e.prototype.sendFile=function(e,t){t()},e.prototype.markAsRead=function(){},e.prototype.flush=function(){},e.prototype.dispose=function(){this.isDisposed=!0,this.ws&&this.ws.close(),ae("Closed web socket (dispose)")},e.prototype.sleep=function(){this.isDisposed=!0,this.ws&&this.ws.close(),ae("Closed web socket (sleep)")},e.prototype.wakeup=function(){this.isDisposed=!1,this._userId&&(this.autoReconnect(this.wsCreate.bind(this)),ae("Waking up"))},e.prototype.bargeOut=function(e){return $(this,void 0,void 0,(function(){return Z(this,(function(e){return this.emit("barge out"),[2]}))}))},e.prototype.bargeIn=function(e,t){return $(this,void 0,void 0,(function(){return Z(this,(function(t){return this.visitorInfo.displayName=e,this.emit("barge in"),[2]}))}))},e.prototype.postVisitorInfo=function(){return $(this,void 0,void 0,(function(){return Z(this,(function(e){return this.sessionCreated=!1,this.emit("user joined"),[2]}))}))},e.prototype.postMessage=function(e){return $(this,void 0,void 0,(function(){var t,n,r,o,a;return Z(this,(function(i){return t=this._userId,n=this._sessionId,r=this.accessToken,o=this.attributes||{},a=It(e,t,this.isNewSession,n,r,o,this.visitorInfo),this.emit("new message",a),[2]}))}))},e.prototype.startSession=function(e){this.visitorInfo.userId?this._userId="".concat(this.visitorInfo.userId):this.visitorInfo.email?this._userId="stentor-widget-user-".concat(this.visitorInfo.email):this._userId="stentor-widget-user-".concat(kt());var t=new URL(window.location.href).searchParams.get("sessionId");t?(this._sessionId=t,this.dispatch(St(this._sessionId)),ae("Using enforced session id: ".concat(this._sessionId))):e?(this._sessionId=e,ae("Using persisted session id: ".concat(this._sessionId))):(this._sessionId="stentor-widget-session-".concat(kt()),this.dispatch(St(this._sessionId)),ae("Using generated session id: ".concat(this._sessionId))),this.isNewSession=!0,ae("Started session: ".concat(this._sessionId))},e}();function At(e){return"Bot"===e.deviceId?"agent:bot:".concat(e.userId):"agent:widget:".concat(e.userId)}function Yt(e,t,n,r){var o=0,a=function(i,s){o>=n?s(o):e()?i(o):(o+=t,r&&ae("Still waiting for ".concat(r," (").concat(o," ms)")),setTimeout((function(e){return a(i,s)}),t))};return new Promise(a)}const Lt=Object.create(null);Lt.open="0",Lt.close="1",Lt.ping="2",Lt.pong="3",Lt.message="4",Lt.upgrade="5",Lt.noop="6";const Ft=Object.create(null);Object.keys(Lt).forEach((e=>{Ft[Lt[e]]=e}));const Wt={type:"error",data:"parser error"},Ht="function"==typeof Blob||"undefined"!=typeof Blob&&"[object BlobConstructor]"===Object.prototype.toString.call(Blob),Bt="function"==typeof ArrayBuffer,qt=({type:e,data:t},n,r)=>{return Ht&&t instanceof Blob?n?r(t):zt(t,r):Bt&&(t instanceof ArrayBuffer||(o=t,"function"==typeof ArrayBuffer.isView?ArrayBuffer.isView(o):o&&o.buffer instanceof ArrayBuffer))?n?r(t):zt(new Blob([t]),r):r(Lt[e]+(t||""));var o},zt=(e,t)=>{const n=new FileReader;return n.onload=function(){const e=n.result.split(",")[1];t("b"+(e||""))},n.readAsDataURL(e)},Qt="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Vt="undefined"==typeof Uint8Array?[]:new Uint8Array(256);for(let Bc=0;Bc<64;Bc++)Vt[Qt.charCodeAt(Bc)]=Bc;const Jt="function"==typeof ArrayBuffer,Xt=(e,t)=>{if("string"!=typeof e)return{type:"message",data:Kt(e,t)};const n=e.charAt(0);if("b"===n)return{type:"message",data:Gt(e.substring(1),t)};return Ft[n]?e.length>1?{type:Ft[n],data:e.substring(1)}:{type:Ft[n]}:Wt},Gt=(e,t)=>{if(Jt){const n=(e=>{let t,n,r,o,a,i=.75*e.length,s=e.length,u=0;"="===e[e.length-1]&&(i--,"="===e[e.length-2]&&i--);const l=new ArrayBuffer(i),c=new Uint8Array(l);for(t=0;t<s;t+=4)n=Vt[e.charCodeAt(t)],r=Vt[e.charCodeAt(t+1)],o=Vt[e.charCodeAt(t+2)],a=Vt[e.charCodeAt(t+3)],c[u++]=n<<2|r>>4,c[u++]=(15&r)<<4|o>>2,c[u++]=(3&o)<<6|63&a;return l})(e);return Kt(n,t)}return{base64:!0,data:e}},Kt=(e,t)=>"blob"===t&&e instanceof ArrayBuffer?new Blob([e]):e,$t=String.fromCharCode(30);var Zt=en;function en(e){if(e)return function(e){for(var t in en.prototype)e[t]=en.prototype[t];return e}(e)}en.prototype.on=en.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks["$"+e]=this._callbacks["$"+e]||[]).push(t),this},en.prototype.once=function(e,t){function n(){this.off(e,n),t.apply(this,arguments)}return n.fn=t,this.on(e,n),this},en.prototype.off=en.prototype.removeListener=en.prototype.removeAllListeners=en.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var n,r=this._callbacks["$"+e];if(!r)return this;if(1==arguments.length)return delete this._callbacks["$"+e],this;for(var o=0;o<r.length;o++)if((n=r[o])===t||n.fn===t){r.splice(o,1);break}return 0===r.length&&delete this._callbacks["$"+e],this},en.prototype.emit=function(e){this._callbacks=this._callbacks||{};for(var t=new Array(arguments.length-1),n=this._callbacks["$"+e],r=1;r<arguments.length;r++)t[r-1]=arguments[r];if(n){r=0;for(var o=(n=n.slice(0)).length;r<o;++r)n[r].apply(this,t)}return this},en.prototype.emitReserved=en.prototype.emit,en.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks["$"+e]||[]},en.prototype.hasListeners=function(e){return!!this.listeners(e).length};const tn="undefined"!=typeof self?self:"undefined"!=typeof window?window:Function("return this")();function nn(e,...t){return t.reduce(((t,n)=>(e.hasOwnProperty(n)&&(t[n]=e[n]),t)),{})}const rn=setTimeout,on=clearTimeout;function an(e,t){t.useNativeTimers?(e.setTimeoutFn=rn.bind(tn),e.clearTimeoutFn=on.bind(tn)):(e.setTimeoutFn=setTimeout.bind(tn),e.clearTimeoutFn=clearTimeout.bind(tn))}class sn extends Error{constructor(e,t,n){super(e),this.description=t,this.context=n,this.type="TransportError"}}class un extends Zt{constructor(e){super(),this.writable=!1,an(this,e),this.opts=e,this.query=e.query,this.readyState="",this.socket=e.socket}onError(e,t,n){return super.emitReserved("error",new sn(e,t,n)),this}open(){return"closed"!==this.readyState&&""!==this.readyState||(this.readyState="opening",this.doOpen()),this}close(){return"opening"!==this.readyState&&"open"!==this.readyState||(this.doClose(),this.onClose()),this}send(e){"open"===this.readyState&&this.write(e)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(e){const t=Xt(e,this.socket.binaryType);this.onPacket(t)}onPacket(e){super.emitReserved("packet",e)}onClose(e){this.readyState="closed",super.emitReserved("close",e)}}const ln="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_".split(""),cn=64,dn={};let fn,pn=0,hn=0;function mn(e){let t="";do{t=ln[e%cn]+t,e=Math.floor(e/cn)}while(e>0);return t}function vn(){const e=mn(+new Date);return e!==fn?(pn=0,fn=e):e+"."+mn(pn++)}for(;hn<cn;hn++)dn[ln[hn]]=hn;function gn(e){let t="";for(let n in e)e.hasOwnProperty(n)&&(t.length&&(t+="&"),t+=encodeURIComponent(n)+"="+encodeURIComponent(e[n]));return t}let xn=!1;try{xn="undefined"!=typeof XMLHttpRequest&&"withCredentials"in new XMLHttpRequest}catch(ie){}const yn=xn;function bn(e){const t=e.xdomain;try{if("undefined"!=typeof XMLHttpRequest&&(!t||yn))return new XMLHttpRequest}catch(n){}if(!t)try{return new(tn[["Active"].concat("Object").join("X")])("Microsoft.XMLHTTP")}catch(n){}}function wn(){}const _n=null!=new bn({xdomain:!1}).responseType;class Mn extends Zt{constructor(e,t){super(),an(this,t),this.opts=t,this.method=t.method||"GET",this.uri=e,this.async=!1!==t.async,this.data=void 0!==t.data?t.data:null,this.create()}create(){const e=nn(this.opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");e.xdomain=!!this.opts.xd,e.xscheme=!!this.opts.xs;const t=this.xhr=new bn(e);try{t.open(this.method,this.uri,this.async);try{if(this.opts.extraHeaders){t.setDisableHeaderCheck&&t.setDisableHeaderCheck(!0);for(let e in this.opts.extraHeaders)this.opts.extraHeaders.hasOwnProperty(e)&&t.setRequestHeader(e,this.opts.extraHeaders[e])}}catch(n){}if("POST"===this.method)try{t.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch(n){}try{t.setRequestHeader("Accept","*/*")}catch(n){}"withCredentials"in t&&(t.withCredentials=this.opts.withCredentials),this.opts.requestTimeout&&(t.timeout=this.opts.requestTimeout),t.onreadystatechange=()=>{4===t.readyState&&(200===t.status||1223===t.status?this.onLoad():this.setTimeoutFn((()=>{this.onError("number"==typeof t.status?t.status:0)}),0))},t.send(this.data)}catch(n){return void this.setTimeoutFn((()=>{this.onError(n)}),0)}"undefined"!=typeof document&&(this.index=Mn.requestsCount++,Mn.requests[this.index]=this)}onError(e){this.emitReserved("error",e,this.xhr),this.cleanup(!0)}cleanup(e){if(void 0!==this.xhr&&null!==this.xhr){if(this.xhr.onreadystatechange=wn,e)try{this.xhr.abort()}catch(t){}"undefined"!=typeof document&&delete Mn.requests[this.index],this.xhr=null}}onLoad(){const e=this.xhr.responseText;null!==e&&(this.emitReserved("data",e),this.emitReserved("success"),this.cleanup())}abort(){this.cleanup()}}if(Mn.requestsCount=0,Mn.requests={},"undefined"!=typeof document)if("function"==typeof attachEvent)attachEvent("onunload",On);else if("function"==typeof addEventListener){addEventListener("onpagehide"in tn?"pagehide":"unload",On,!1)}function On(){for(let e in Mn.requests)Mn.requests.hasOwnProperty(e)&&Mn.requests[e].abort()}const En="function"==typeof Promise&&"function"==typeof Promise.resolve?e=>Promise.resolve().then(e):(e,t)=>t(e,0),kn=tn.WebSocket||tn.MozWebSocket,Tn="undefined"!=typeof navigator&&"string"==typeof navigator.product&&"reactnative"===navigator.product.toLowerCase();const Pn={websocket:class extends un{constructor(e){super(e),this.supportsBinary=!e.forceBase64}get name(){return"websocket"}doOpen(){if(!this.check())return;const e=this.uri(),t=this.opts.protocols,n=Tn?{}:nn(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(n.headers=this.opts.extraHeaders);try{this.ws=Tn?new kn(e,t,n):t?new kn(e,t):new kn(e)}catch(ie){return this.emitReserved("error",ie)}this.ws.binaryType=this.socket.binaryType||"arraybuffer",this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=e=>this.onClose({description:"websocket connection closed",context:e}),this.ws.onmessage=e=>this.onData(e.data),this.ws.onerror=e=>this.onError("websocket error",e)}write(e){this.writable=!1;for(let t=0;t<e.length;t++){const n=e[t],r=t===e.length-1;qt(n,this.supportsBinary,(e=>{try{this.ws.send(e)}catch(t){}r&&En((()=>{this.writable=!0,this.emitReserved("drain")}),this.setTimeoutFn)}))}}doClose(){void 0!==this.ws&&(this.ws.close(),this.ws=null)}uri(){let e=this.query||{};const t=this.opts.secure?"wss":"ws";let n="";this.opts.port&&("wss"===t&&443!==Number(this.opts.port)||"ws"===t&&80!==Number(this.opts.port))&&(n=":"+this.opts.port),this.opts.timestampRequests&&(e[this.opts.timestampParam]=vn()),this.supportsBinary||(e.b64=1);const r=gn(e);return t+"://"+(-1!==this.opts.hostname.indexOf(":")?"["+this.opts.hostname+"]":this.opts.hostname)+n+this.opts.path+(r.length?"?"+r:"")}check(){return!!kn}},polling:class extends un{constructor(e){if(super(e),this.polling=!1,"undefined"!=typeof location){const t="https:"===location.protocol;let n=location.port;n||(n=t?"443":"80"),this.xd="undefined"!=typeof location&&e.hostname!==location.hostname||n!==e.port,this.xs=e.secure!==t}const t=e&&e.forceBase64;this.supportsBinary=_n&&!t}get name(){return"polling"}doOpen(){this.poll()}pause(e){this.readyState="pausing";const t=()=>{this.readyState="paused",e()};if(this.polling||!this.writable){let e=0;this.polling&&(e++,this.once("pollComplete",(function(){--e||t()}))),this.writable||(e++,this.once("drain",(function(){--e||t()})))}else t()}poll(){this.polling=!0,this.doPoll(),this.emitReserved("poll")}onData(e){((e,t)=>{const n=e.split($t),r=[];for(let o=0;o<n.length;o++){const e=Xt(n[o],t);if(r.push(e),"error"===e.type)break}return r})(e,this.socket.binaryType).forEach((e=>{if("opening"===this.readyState&&"open"===e.type&&this.onOpen(),"close"===e.type)return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(e)})),"closed"!==this.readyState&&(this.polling=!1,this.emitReserved("pollComplete"),"open"===this.readyState&&this.poll())}doClose(){const e=()=>{this.write([{type:"close"}])};"open"===this.readyState?e():this.once("open",e)}write(e){this.writable=!1,((e,t)=>{const n=e.length,r=new Array(n);let o=0;e.forEach(((e,a)=>{qt(e,!1,(e=>{r[a]=e,++o===n&&t(r.join($t))}))}))})(e,(e=>{this.doWrite(e,(()=>{this.writable=!0,this.emitReserved("drain")}))}))}uri(){let e=this.query||{};const t=this.opts.secure?"https":"http";let n="";!1!==this.opts.timestampRequests&&(e[this.opts.timestampParam]=vn()),this.supportsBinary||e.sid||(e.b64=1),this.opts.port&&("https"===t&&443!==Number(this.opts.port)||"http"===t&&80!==Number(this.opts.port))&&(n=":"+this.opts.port);const r=gn(e);return t+"://"+(-1!==this.opts.hostname.indexOf(":")?"["+this.opts.hostname+"]":this.opts.hostname)+n+this.opts.path+(r.length?"?"+r:"")}request(e={}){return Object.assign(e,{xd:this.xd,xs:this.xs},this.opts),new Mn(this.uri(),e)}doWrite(e,t){const n=this.request({method:"POST",data:e});n.on("success",t),n.on("error",((e,t)=>{this.onError("xhr post error",e,t)}))}doPoll(){const e=this.request();e.on("data",this.onData.bind(this)),e.on("error",((e,t)=>{this.onError("xhr poll error",e,t)})),this.pollXhr=e}}},Cn=/^(?:(?![^:@]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,Sn=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function Nn(e){const t=e,n=e.indexOf("["),r=e.indexOf("]");-1!=n&&-1!=r&&(e=e.substring(0,n)+e.substring(n,r).replace(/:/g,";")+e.substring(r,e.length));let o=Cn.exec(e||""),a={},i=14;for(;i--;)a[Sn[i]]=o[i]||"";return-1!=n&&-1!=r&&(a.source=t,a.host=a.host.substring(1,a.host.length-1).replace(/;/g,":"),a.authority=a.authority.replace("[","").replace("]","").replace(/;/g,":"),a.ipv6uri=!0),a.pathNames=function(e,t){const n=/\/{2,9}/g,r=t.replace(n,"/").split("/");"/"!=t.slice(0,1)&&0!==t.length||r.splice(0,1);"/"==t.slice(-1)&&r.splice(r.length-1,1);return r}(0,a.path),a.queryKey=function(e,t){const n={};return t.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,(function(e,t,r){t&&(n[t]=r)})),n}(0,a.query),a}class jn extends Zt{constructor(e,t={}){super(),e&&"object"==typeof e&&(t=e,e=null),e?(e=Nn(e),t.hostname=e.host,t.secure="https"===e.protocol||"wss"===e.protocol,t.port=e.port,e.query&&(t.query=e.query)):t.host&&(t.hostname=Nn(t.host).host),an(this,t),this.secure=null!=t.secure?t.secure:"undefined"!=typeof location&&"https:"===location.protocol,t.hostname&&!t.port&&(t.port=this.secure?"443":"80"),this.hostname=t.hostname||("undefined"!=typeof location?location.hostname:"localhost"),this.port=t.port||("undefined"!=typeof location&&location.port?location.port:this.secure?"443":"80"),this.transports=t.transports||["polling","websocket"],this.readyState="",this.writeBuffer=[],this.prevBufferLen=0,this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!0},t),this.opts.path=this.opts.path.replace(/\/$/,"")+"/","string"==typeof this.opts.query&&(this.opts.query=function(e){let t={},n=e.split("&");for(let r=0,o=n.length;r<o;r++){let e=n[r].split("=");t[decodeURIComponent(e[0])]=decodeURIComponent(e[1])}return t}(this.opts.query)),this.id=null,this.upgrades=null,this.pingInterval=null,this.pingTimeout=null,this.pingTimeoutTimer=null,"function"==typeof addEventListener&&(this.opts.closeOnBeforeunload&&(this.beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this.beforeunloadEventListener,!1)),"localhost"!==this.hostname&&(this.offlineEventListener=()=>{this.onClose("transport close",{description:"network connection lost"})},addEventListener("offline",this.offlineEventListener,!1))),this.open()}createTransport(e){const t=Object.assign({},this.opts.query);t.EIO=4,t.transport=e,this.id&&(t.sid=this.id);const n=Object.assign({},this.opts.transportOptions[e],this.opts,{query:t,socket:this,hostname:this.hostname,secure:this.secure,port:this.port});return new Pn[e](n)}open(){let e;if(this.opts.rememberUpgrade&&jn.priorWebsocketSuccess&&-1!==this.transports.indexOf("websocket"))e="websocket";else{if(0===this.transports.length)return void this.setTimeoutFn((()=>{this.emitReserved("error","No transports available")}),0);e=this.transports[0]}this.readyState="opening";try{e=this.createTransport(e)}catch(t){return this.transports.shift(),void this.open()}e.open(),this.setTransport(e)}setTransport(e){this.transport&&this.transport.removeAllListeners(),this.transport=e,e.on("drain",this.onDrain.bind(this)).on("packet",this.onPacket.bind(this)).on("error",this.onError.bind(this)).on("close",(e=>this.onClose("transport close",e)))}probe(e){let t=this.createTransport(e),n=!1;jn.priorWebsocketSuccess=!1;const r=()=>{n||(t.send([{type:"ping",data:"probe"}]),t.once("packet",(e=>{if(!n)if("pong"===e.type&&"probe"===e.data){if(this.upgrading=!0,this.emitReserved("upgrading",t),!t)return;jn.priorWebsocketSuccess="websocket"===t.name,this.transport.pause((()=>{n||"closed"!==this.readyState&&(l(),this.setTransport(t),t.send([{type:"upgrade"}]),this.emitReserved("upgrade",t),t=null,this.upgrading=!1,this.flush())}))}else{const e=new Error("probe error");e.transport=t.name,this.emitReserved("upgradeError",e)}})))};function o(){n||(n=!0,l(),t.close(),t=null)}const a=e=>{const n=new Error("probe error: "+e);n.transport=t.name,o(),this.emitReserved("upgradeError",n)};function i(){a("transport closed")}function s(){a("socket closed")}function u(e){t&&e.name!==t.name&&o()}const l=()=>{t.removeListener("open",r),t.removeListener("error",a),t.removeListener("close",i),this.off("close",s),this.off("upgrading",u)};t.once("open",r),t.once("error",a),t.once("close",i),this.once("close",s),this.once("upgrading",u),t.open()}onOpen(){if(this.readyState="open",jn.priorWebsocketSuccess="websocket"===this.transport.name,this.emitReserved("open"),this.flush(),"open"===this.readyState&&this.opts.upgrade&&this.transport.pause){let e=0;const t=this.upgrades.length;for(;e<t;e++)this.probe(this.upgrades[e])}}onPacket(e){if("opening"===this.readyState||"open"===this.readyState||"closing"===this.readyState)switch(this.emitReserved("packet",e),this.emitReserved("heartbeat"),e.type){case"open":this.onHandshake(JSON.parse(e.data));break;case"ping":this.resetPingTimeout(),this.sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong");break;case"error":const t=new Error("server error");t.code=e.data,this.onError(t);break;case"message":this.emitReserved("data",e.data),this.emitReserved("message",e.data)}}onHandshake(e){this.emitReserved("handshake",e),this.id=e.sid,this.transport.query.sid=e.sid,this.upgrades=this.filterUpgrades(e.upgrades),this.pingInterval=e.pingInterval,this.pingTimeout=e.pingTimeout,this.maxPayload=e.maxPayload,this.onOpen(),"closed"!==this.readyState&&this.resetPingTimeout()}resetPingTimeout(){this.clearTimeoutFn(this.pingTimeoutTimer),this.pingTimeoutTimer=this.setTimeoutFn((()=>{this.onClose("ping timeout")}),this.pingInterval+this.pingTimeout),this.opts.autoUnref&&this.pingTimeoutTimer.unref()}onDrain(){this.writeBuffer.splice(0,this.prevBufferLen),this.prevBufferLen=0,0===this.writeBuffer.length?this.emitReserved("drain"):this.flush()}flush(){if("closed"!==this.readyState&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const e=this.getWritablePackets();this.transport.send(e),this.prevBufferLen=e.length,this.emitReserved("flush")}}getWritablePackets(){if(!(this.maxPayload&&"polling"===this.transport.name&&this.writeBuffer.length>1))return this.writeBuffer;let e=1;for(let n=0;n<this.writeBuffer.length;n++){const r=this.writeBuffer[n].data;if(r&&(e+="string"==typeof(t=r)?function(e){let t=0,n=0;for(let r=0,o=e.length;r<o;r++)t=e.charCodeAt(r),t<128?n+=1:t<2048?n+=2:t<55296||t>=57344?n+=3:(r++,n+=4);return n}(t):Math.ceil(1.33*(t.byteLength||t.size))),n>0&&e>this.maxPayload)return this.writeBuffer.slice(0,n);e+=2}var t;return this.writeBuffer}write(e,t,n){return this.sendPacket("message",e,t,n),this}send(e,t,n){return this.sendPacket("message",e,t,n),this}sendPacket(e,t,n,r){if("function"==typeof t&&(r=t,t=void 0),"function"==typeof n&&(r=n,n=null),"closing"===this.readyState||"closed"===this.readyState)return;(n=n||{}).compress=!1!==n.compress;const o={type:e,data:t,options:n};this.emitReserved("packetCreate",o),this.writeBuffer.push(o),r&&this.once("flush",r),this.flush()}close(){const e=()=>{this.onClose("forced close"),this.transport.close()},t=()=>{this.off("upgrade",t),this.off("upgradeError",t),e()},n=()=>{this.once("upgrade",t),this.once("upgradeError",t)};return"opening"!==this.readyState&&"open"!==this.readyState||(this.readyState="closing",this.writeBuffer.length?this.once("drain",(()=>{this.upgrading?n():e()})):this.upgrading?n():e()),this}onError(e){jn.priorWebsocketSuccess=!1,this.emitReserved("error",e),this.onClose("transport error",e)}onClose(e,t){"opening"!==this.readyState&&"open"!==this.readyState&&"closing"!==this.readyState||(this.clearTimeoutFn(this.pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),"function"==typeof removeEventListener&&(removeEventListener("beforeunload",this.beforeunloadEventListener,!1),removeEventListener("offline",this.offlineEventListener,!1)),this.readyState="closed",this.id=null,this.emitReserved("close",e,t),this.writeBuffer=[],this.prevBufferLen=0)}filterUpgrades(e){const t=[];let n=0;const r=e.length;for(;n<r;n++)~this.transports.indexOf(e[n])&&t.push(e[n]);return t}}jn.protocol=4,jn.protocol;const In="function"==typeof ArrayBuffer,Dn=e=>"function"==typeof ArrayBuffer.isView?ArrayBuffer.isView(e):e.buffer instanceof ArrayBuffer,Rn=Object.prototype.toString,Un="function"==typeof Blob||"undefined"!=typeof Blob&&"[object BlobConstructor]"===Rn.call(Blob),An="function"==typeof File||"undefined"!=typeof File&&"[object FileConstructor]"===Rn.call(File);function Yn(e){return In&&(e instanceof ArrayBuffer||Dn(e))||Un&&e instanceof Blob||An&&e instanceof File}function Ln(e,t){if(!e||"object"!=typeof e)return!1;if(Array.isArray(e)){for(let t=0,n=e.length;t<n;t++)if(Ln(e[t]))return!0;return!1}if(Yn(e))return!0;if(e.toJSON&&"function"==typeof e.toJSON&&1===arguments.length)return Ln(e.toJSON(),!0);for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&Ln(e[n]))return!0;return!1}function Fn(e){const t=[],n=e.data,r=e;return r.data=Wn(n,t),r.attachments=t.length,{packet:r,buffers:t}}function Wn(e,t){if(!e)return e;if(Yn(e)){const n={_placeholder:!0,num:t.length};return t.push(e),n}if(Array.isArray(e)){const n=new Array(e.length);for(let r=0;r<e.length;r++)n[r]=Wn(e[r],t);return n}if("object"==typeof e&&!(e instanceof Date)){const n={};for(const r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=Wn(e[r],t));return n}return e}function Hn(e,t){return e.data=Bn(e.data,t),delete e.attachments,e}function Bn(e,t){if(!e)return e;if(e&&!0===e._placeholder){if("number"==typeof e.num&&e.num>=0&&e.num<t.length)return t[e.num];throw new Error("illegal attachments")}if(Array.isArray(e))for(let n=0;n<e.length;n++)e[n]=Bn(e[n],t);else if("object"==typeof e)for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&(e[n]=Bn(e[n],t));return e}var qn;!function(e){e[e.CONNECT=0]="CONNECT",e[e.DISCONNECT=1]="DISCONNECT",e[e.EVENT=2]="EVENT",e[e.ACK=3]="ACK",e[e.CONNECT_ERROR=4]="CONNECT_ERROR",e[e.BINARY_EVENT=5]="BINARY_EVENT",e[e.BINARY_ACK=6]="BINARY_ACK"}(qn||(qn={}));class zn extends Zt{constructor(e){super(),this.reviver=e}add(e){let t;if("string"==typeof e){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");t=this.decodeString(e);const n=t.type===qn.BINARY_EVENT;n||t.type===qn.BINARY_ACK?(t.type=n?qn.EVENT:qn.ACK,this.reconstructor=new Qn(t),0===t.attachments&&super.emitReserved("decoded",t)):super.emitReserved("decoded",t)}else{if(!Yn(e)&&!e.base64)throw new Error("Unknown type: "+e);if(!this.reconstructor)throw new Error("got binary data when not reconstructing a packet");t=this.reconstructor.takeBinaryData(e),t&&(this.reconstructor=null,super.emitReserved("decoded",t))}}decodeString(e){let t=0;const n={type:Number(e.charAt(0))};if(void 0===qn[n.type])throw new Error("unknown packet type "+n.type);if(n.type===qn.BINARY_EVENT||n.type===qn.BINARY_ACK){const r=t+1;for(;"-"!==e.charAt(++t)&&t!=e.length;);const o=e.substring(r,t);if(o!=Number(o)||"-"!==e.charAt(t))throw new Error("Illegal attachments");n.attachments=Number(o)}if("/"===e.charAt(t+1)){const r=t+1;for(;++t;){if(","===e.charAt(t))break;if(t===e.length)break}n.nsp=e.substring(r,t)}else n.nsp="/";const r=e.charAt(t+1);if(""!==r&&Number(r)==r){const r=t+1;for(;++t;){const n=e.charAt(t);if(null==n||Number(n)!=n){--t;break}if(t===e.length)break}n.id=Number(e.substring(r,t+1))}if(e.charAt(++t)){const r=this.tryParse(e.substr(t));if(!zn.isPayloadValid(n.type,r))throw new Error("invalid payload");n.data=r}return n}tryParse(e){try{return JSON.parse(e,this.reviver)}catch(t){return!1}}static isPayloadValid(e,t){switch(e){case qn.CONNECT:return"object"==typeof t;case qn.DISCONNECT:return void 0===t;case qn.CONNECT_ERROR:return"string"==typeof t||"object"==typeof t;case qn.EVENT:case qn.BINARY_EVENT:return Array.isArray(t)&&t.length>0;case qn.ACK:case qn.BINARY_ACK:return Array.isArray(t)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}}class Qn{constructor(e){this.packet=e,this.buffers=[],this.reconPack=e}takeBinaryData(e){if(this.buffers.push(e),this.buffers.length===this.reconPack.attachments){const e=Hn(this.reconPack,this.buffers);return this.finishedReconstruction(),e}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}var Vn=Object.freeze({__proto__:null,protocol:5,get PacketType(){return qn},Encoder:class{constructor(e){this.replacer=e}encode(e){return e.type!==qn.EVENT&&e.type!==qn.ACK||!Ln(e)?[this.encodeAsString(e)]:this.encodeAsBinary({type:e.type===qn.EVENT?qn.BINARY_EVENT:qn.BINARY_ACK,nsp:e.nsp,data:e.data,id:e.id})}encodeAsString(e){let t=""+e.type;return e.type!==qn.BINARY_EVENT&&e.type!==qn.BINARY_ACK||(t+=e.attachments+"-"),e.nsp&&"/"!==e.nsp&&(t+=e.nsp+","),null!=e.id&&(t+=e.id),null!=e.data&&(t+=JSON.stringify(e.data,this.replacer)),t}encodeAsBinary(e){const t=Fn(e),n=this.encodeAsString(t.packet),r=t.buffers;return r.unshift(n),r}},Decoder:zn});function Jn(e,t,n){return e.on(t,n),function(){e.off(t,n)}}const Xn=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class Gn extends Zt{constructor(e,t,n){super(),this.connected=!1,this.receiveBuffer=[],this.sendBuffer=[],this.ids=0,this.acks={},this.flags={},this.io=e,this.nsp=t,n&&n.auth&&(this.auth=n.auth),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const e=this.io;this.subs=[Jn(e,"open",this.onopen.bind(this)),Jn(e,"packet",this.onpacket.bind(this)),Jn(e,"error",this.onerror.bind(this)),Jn(e,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected||(this.subEvents(),this.io._reconnecting||this.io.open(),"open"===this.io._readyState&&this.onopen()),this}open(){return this.connect()}send(...e){return e.unshift("message"),this.emit.apply(this,e),this}emit(e,...t){if(Xn.hasOwnProperty(e))throw new Error('"'+e+'" is a reserved event name');t.unshift(e);const n={type:qn.EVENT,data:t,options:{}};if(n.options.compress=!1!==this.flags.compress,"function"==typeof t[t.length-1]){const e=this.ids++,r=t.pop();this._registerAckCallback(e,r),n.id=e}const r=this.io.engine&&this.io.engine.transport&&this.io.engine.transport.writable;return this.flags.volatile&&(!r||!this.connected)||(this.connected?(this.notifyOutgoingListeners(n),this.packet(n)):this.sendBuffer.push(n)),this.flags={},this}_registerAckCallback(e,t){const n=this.flags.timeout;if(void 0===n)return void(this.acks[e]=t);const r=this.io.setTimeoutFn((()=>{delete this.acks[e];for(let t=0;t<this.sendBuffer.length;t++)this.sendBuffer[t].id===e&&this.sendBuffer.splice(t,1);t.call(this,new Error("operation has timed out"))}),n);this.acks[e]=(...e)=>{this.io.clearTimeoutFn(r),t.apply(this,[null,...e])}}packet(e){e.nsp=this.nsp,this.io._packet(e)}onopen(){"function"==typeof this.auth?this.auth((e=>{this.packet({type:qn.CONNECT,data:e})})):this.packet({type:qn.CONNECT,data:this.auth})}onerror(e){this.connected||this.emitReserved("connect_error",e)}onclose(e,t){this.connected=!1,delete this.id,this.emitReserved("disconnect",e,t)}onpacket(e){if(e.nsp===this.nsp)switch(e.type){case qn.CONNECT:if(e.data&&e.data.sid){const t=e.data.sid;this.onconnect(t)}else this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case qn.EVENT:case qn.BINARY_EVENT:this.onevent(e);break;case qn.ACK:case qn.BINARY_ACK:this.onack(e);break;case qn.DISCONNECT:this.ondisconnect();break;case qn.CONNECT_ERROR:this.destroy();const t=new Error(e.data.message);t.data=e.data.data,this.emitReserved("connect_error",t)}}onevent(e){const t=e.data||[];null!=e.id&&t.push(this.ack(e.id)),this.connected?this.emitEvent(t):this.receiveBuffer.push(Object.freeze(t))}emitEvent(e){if(this._anyListeners&&this._anyListeners.length){const t=this._anyListeners.slice();for(const n of t)n.apply(this,e)}super.emit.apply(this,e)}ack(e){const t=this;let n=!1;return function(...r){n||(n=!0,t.packet({type:qn.ACK,id:e,data:r}))}}onack(e){const t=this.acks[e.id];"function"==typeof t&&(t.apply(this,e.data),delete this.acks[e.id])}onconnect(e){this.id=e,this.connected=!0,this.emitBuffered(),this.emitReserved("connect")}emitBuffered(){this.receiveBuffer.forEach((e=>this.emitEvent(e))),this.receiveBuffer=[],this.sendBuffer.forEach((e=>{this.notifyOutgoingListeners(e),this.packet(e)})),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach((e=>e())),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:qn.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(e){return this.flags.compress=e,this}get volatile(){return this.flags.volatile=!0,this}timeout(e){return this.flags.timeout=e,this}onAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(e),this}prependAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(e),this}offAny(e){if(!this._anyListeners)return this;if(e){const t=this._anyListeners;for(let n=0;n<t.length;n++)if(e===t[n])return t.splice(n,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(e),this}prependAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(e),this}offAnyOutgoing(e){if(!this._anyOutgoingListeners)return this;if(e){const t=this._anyOutgoingListeners;for(let n=0;n<t.length;n++)if(e===t[n])return t.splice(n,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(e){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const t=this._anyOutgoingListeners.slice();for(const n of t)n.apply(this,e.data)}}}function Kn(e){e=e||{},this.ms=e.min||100,this.max=e.max||1e4,this.factor=e.factor||2,this.jitter=e.jitter>0&&e.jitter<=1?e.jitter:0,this.attempts=0}Kn.prototype.duration=function(){var e=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var t=Math.random(),n=Math.floor(t*this.jitter*e);e=0==(1&Math.floor(10*t))?e-n:e+n}return 0|Math.min(e,this.max)},Kn.prototype.reset=function(){this.attempts=0},Kn.prototype.setMin=function(e){this.ms=e},Kn.prototype.setMax=function(e){this.max=e},Kn.prototype.setJitter=function(e){this.jitter=e};class $n extends Zt{constructor(e,t){var n;super(),this.nsps={},this.subs=[],e&&"object"==typeof e&&(t=e,e=void 0),(t=t||{}).path=t.path||"/socket.io",this.opts=t,an(this,t),this.reconnection(!1!==t.reconnection),this.reconnectionAttempts(t.reconnectionAttempts||1/0),this.reconnectionDelay(t.reconnectionDelay||1e3),this.reconnectionDelayMax(t.reconnectionDelayMax||5e3),this.randomizationFactor(null!==(n=t.randomizationFactor)&&void 0!==n?n:.5),this.backoff=new Kn({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(null==t.timeout?2e4:t.timeout),this._readyState="closed",this.uri=e;const r=t.parser||Vn;this.encoder=new r.Encoder,this.decoder=new r.Decoder,this._autoConnect=!1!==t.autoConnect,this._autoConnect&&this.open()}reconnection(e){return arguments.length?(this._reconnection=!!e,this):this._reconnection}reconnectionAttempts(e){return void 0===e?this._reconnectionAttempts:(this._reconnectionAttempts=e,this)}reconnectionDelay(e){var t;return void 0===e?this._reconnectionDelay:(this._reconnectionDelay=e,null===(t=this.backoff)||void 0===t||t.setMin(e),this)}randomizationFactor(e){var t;return void 0===e?this._randomizationFactor:(this._randomizationFactor=e,null===(t=this.backoff)||void 0===t||t.setJitter(e),this)}reconnectionDelayMax(e){var t;return void 0===e?this._reconnectionDelayMax:(this._reconnectionDelayMax=e,null===(t=this.backoff)||void 0===t||t.setMax(e),this)}timeout(e){return arguments.length?(this._timeout=e,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&0===this.backoff.attempts&&this.reconnect()}open(e){if(~this._readyState.indexOf("open"))return this;this.engine=new jn(this.uri,this.opts);const t=this.engine,n=this;this._readyState="opening",this.skipReconnect=!1;const r=Jn(t,"open",(function(){n.onopen(),e&&e()})),o=Jn(t,"error",(t=>{n.cleanup(),n._readyState="closed",this.emitReserved("error",t),e?e(t):n.maybeReconnectOnOpen()}));if(!1!==this._timeout){const e=this._timeout;0===e&&r();const n=this.setTimeoutFn((()=>{r(),t.close(),t.emit("error",new Error("timeout"))}),e);this.opts.autoUnref&&n.unref(),this.subs.push((function(){clearTimeout(n)}))}return this.subs.push(r),this.subs.push(o),this}connect(e){return this.open(e)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const e=this.engine;this.subs.push(Jn(e,"ping",this.onping.bind(this)),Jn(e,"data",this.ondata.bind(this)),Jn(e,"error",this.onerror.bind(this)),Jn(e,"close",this.onclose.bind(this)),Jn(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(e){this.decoder.add(e)}ondecoded(e){this.emitReserved("packet",e)}onerror(e){this.emitReserved("error",e)}socket(e,t){let n=this.nsps[e];return n||(n=new Gn(this,e,t),this.nsps[e]=n),n}_destroy(e){const t=Object.keys(this.nsps);for(const n of t){if(this.nsps[n].active)return}this._close()}_packet(e){const t=this.encoder.encode(e);for(let n=0;n<t.length;n++)this.engine.write(t[n],e.options)}cleanup(){this.subs.forEach((e=>e())),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close"),this.engine&&this.engine.close()}disconnect(){return this._close()}onclose(e,t){this.cleanup(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",e,t),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const e=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const t=this.backoff.duration();this._reconnecting=!0;const n=this.setTimeoutFn((()=>{e.skipReconnect||(this.emitReserved("reconnect_attempt",e.backoff.attempts),e.skipReconnect||e.open((t=>{t?(e._reconnecting=!1,e.reconnect(),this.emitReserved("reconnect_error",t)):e.onreconnect()})))}),t);this.opts.autoUnref&&n.unref(),this.subs.push((function(){clearTimeout(n)}))}}onreconnect(){const e=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",e)}}const Zn={};function er(e,t){"object"==typeof e&&(t=e,e=void 0);const n=function(e,t="",n){let r=e;n=n||"undefined"!=typeof location&&location,null==e&&(e=n.protocol+"//"+n.host),"string"==typeof e&&("/"===e.charAt(0)&&(e="/"===e.charAt(1)?n.protocol+e:n.host+e),/^(https?|wss?):\/\//.test(e)||(e=void 0!==n?n.protocol+"//"+e:"https://"+e),r=Nn(e)),r.port||(/^(http|ws)$/.test(r.protocol)?r.port="80":/^(http|ws)s$/.test(r.protocol)&&(r.port="443")),r.path=r.path||"/";const o=-1!==r.host.indexOf(":")?"["+r.host+"]":r.host;return r.id=r.protocol+"://"+o+":"+r.port+t,r.href=r.protocol+"://"+o+(n&&n.port===r.port?"":":"+r.port),r}(e,(t=t||{}).path||"/socket.io"),r=n.source,o=n.id,a=n.path,i=Zn[o]&&a in Zn[o].nsps;let s;return t.forceNew||t["force new connection"]||!1===t.multiplex||i?s=new $n(r,t):(Zn[o]||(Zn[o]=new $n(r,t)),s=Zn[o]),n.query&&!t.query&&(t.query=n.queryKey),s.socket(n.path,t)}Object.assign(er,{Manager:$n,Socket:Gn,io:er,connect:er});var tr=function(){function e(e,t){this.config=e,this.token=t.token}return e.prototype.init=function(e){var t=this;this.socket=er(this.config.url,{transports:["websocket"],reconnection:!0,reconnectionDelay:1e3,reconnectionDelayMax:5e3,reconnectionAttempts:5}),this.dispatch=e,this.socket.on("account_status",(function(n){ae("SERVER: account_status: ".concat(JSON.stringify(n))),t.token||(t.token=kt(),e({type:"receiveToken",detail:{token:t.token,timestamp:+new Date,type:"receiveToken",user:void 0}}),ae("CLIENT: created token: ".concat(t.token))),t.socket.emit("connection update",t.token),e({type:"account_status",detail:{status:"online",timestamp:+new Date}})})),this.socket.on("new message",(function(e){ae("SERVER: new message: ".concat(JSON.stringify(e))),t.dispatch({type:"chat",detail:{type:"chat.msg",user:{displayName:e.username,nick:"agent:robot"},msg:e.message,timestamp:+new Date}})})),this.socket.on("user joined",(function(e){ae("SERVER: user joined: ".concat(JSON.stringify(e))),t.visitorInfo.token=e.token,t.dispatch({type:"chat",detail:{type:"chat.memberjoin",user:{displayName:e.username,nick:"agent:robot",avatarPath:e.avatarPath},timestamp:+new Date}})})),this.socket.on("user left",(function(e){ae("SERVER: user left: ".concat(JSON.stringify(e))),t.dispatch({type:"chat",detail:{type:"chat.memberleave",user:{displayName:e.username,nick:"agent:robot"},timestamp:+new Date}})})),this.socket.on("typing",(function(e){ae("SERVER: typing: ".concat(JSON.stringify(e))),t.dispatch({type:"chat",detail:{type:"chat.typing",user:{nick:"agent:robot"},typing:!0,timestamp:+new Date}})})),this.socket.on("stop typing",(function(e){ae("SERVER: stop typing: ".concat(JSON.stringify(e))),t.dispatch({type:"chat",detail:{type:"chat.typing",user:{nick:"agent:robot"},typing:!1,timestamp:+new Date}})})),this.socket.on("disconnect",(function(){ae("SERVER: disconnect"),t.dispatch(qe("offline")),t.dispatch(ze("offline"))})),this.socket.on("reconnect",(function(){ae("SERVER: reconnect"),t.dispatch(qe("online")),t.dispatch(ze("online"))})),this.socket.on("reconnect_failed",(function(e){ae("SERVER: reconnect_failed",e),t.dispatch(qe("offline")),t.dispatch(ze("offline"))})),this.socket.on("reconnect_error",(function(e){ae("SERVER: reconnect_error",e),t.dispatch(qe("offline"))})),this.dispatch(ze("pending"))},e.prototype.sendOfflineMsg=function(e,t){t()},e.prototype.sendChatMsg=function(e,t){this.socket.emit("new message",e),t()},e.prototype.sendChatMsgRequest=function(e,t){this.socket.emit("new message",e),t()},e.prototype.sendTyping=function(e){this.socket.emit(e?"typing":"stop typing")},e.prototype.setVisitorInfo=function(e,t,n){this.visitorInfo=e,this.socket.emit("add user",e),n()},e.prototype.sendChatRating=function(){},e.prototype.sendFile=function(e,t){t()},e.prototype.markAsRead=function(){},e.prototype.flush=function(){},e.prototype.dispose=function(){var e;null===(e=this.socket)||void 0===e||e.disconnect()},e.prototype.sleep=function(){},e.prototype.wakeup=function(){},e.prototype.bargeOut=function(e){return $(this,void 0,void 0,(function(){return Z(this,(function(e){throw new Error("Method not implemented: bargeOut")}))}))},e.prototype.bargeIn=function(e,t){return $(this,void 0,void 0,(function(){return Z(this,(function(e){throw new Error("Method not implemented: bargeIn")}))}))},e}();function nr(e,t){return new Qe(function(e,t){switch(e.type){case"direct":return new Nt({url:e.serverUrl,key:e.accountKey,timeout:e.timeout},t);case"websocket":return new tr({url:e.serverUrl},t);case"websocketraw":return new Ut({url:e.serverUrl},t);case"local":return new jt;default:throw Ae(e.type)}}(e,t))}var rr=(0,r.createContext)(null);function or(){var e=ce(),t=(0,r.useContext)(rr);return(0,r.useCallback)((function(n){n?t&&e(n(t)):console.warn("react bug? Someone invokes with null")}),[e,t])}var ar=function(e){var t=or(),n=x((function(e){return e.chips})),o=ce(),a=x((function(e){return e.visuals})),i=Le();return r.createElement("div",{className:"message-list-container__chips ".concat((null==n?void 0:n.length)?"":"message-list-container__chips--empty")},r.createElement(Re,{options:n,onOptionClick:function(e){var n,r=ue(e)&&e.actionUrl;r?i(r,o,a):t(We(ue(n=e)?n.label:n))}}))},ir=function(e){return r.createElement("button",{id:"xapp-widget-close","aria-label":"close widget","aria-hidden":!1,tabIndex:e.tabIndex?Number(e.tabIndex):0,className:"cancel-button",onClick:e.onClick})},sr={},ur={};Object.defineProperty(ur,"__esModule",{value:!0});var lr={};Object.defineProperty(lr,"__esModule",{value:!0}),lr.CHAT_WIDGET_CHANNEL=void 0,lr.CHAT_WIDGET_CHANNEL="chat-widget";var cr={};Object.defineProperty(cr,"__esModule",{value:!0});var dr={};Object.defineProperty(dr,"__esModule",{value:!0});var fr={};Object.defineProperty(fr,"__esModule",{value:!0});var pr={};Object.defineProperty(pr,"__esModule",{value:!0});var hr,mr,vr,gr={};Object.defineProperty(gr,"__esModule",{value:!0}),gr.isOpenURLMenuItem=gr.isStandardMenuItem=gr.isStaticTextMenuItem=gr.isStaticImageMenuItem=void 0,gr.isStaticImageMenuItem=function(e){return!!e&&!!e.imageUrl},gr.isStaticTextMenuItem=function(e){return!!e&&!!e.body},gr.isStandardMenuItem=function(e){return!!e&&!!e.label},gr.isOpenURLMenuItem=function(e){return!!e&&!!e.url},hr=sr,mr=Ve&&Ve.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),vr=Ve&&Ve.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||mr(t,e,n)},Object.defineProperty(hr,"__esModule",{value:!0}),vr(ur,hr),vr(lr,hr),vr(cr,hr),vr(dr,hr),vr(fr,hr),vr(pr,hr),vr(gr,hr);var xr=function(e){var t=e.subtitle?r.createElement("span",null,r.createElement("div",null,e.label),r.createElement("div",{className:"chat-menu-item--subtitle"},e.subtitle)):r.createElement("span",null,e.label);return r.createElement("button",{type:"button",className:"chat-menu-item",tabIndex:e.tabIndex?Number(e.tabIndex):0,onClick:function(){e.onClick&&e.onClick(e.label)}},t)},yr=function(e){var t=e.items,n=e.opened,o=e.openFrom||"bottom",a=Le(),i=ce(),s=x((function(e){return e.visuals}));return r.createElement("div",{className:"chat-menu-".concat(o," ").concat("chat-menu-".concat(o,n?"--opened":"--closed"))},t.map((function(t,n){return sr.isStandardMenuItem(t)?r.createElement(xr,{key:n,onClick:e.onItemClick,label:t.label,subtitle:t.subtitle}):sr.isStaticImageMenuItem(t)?r.createElement("div",{key:n,className:"chat-menu-item-static"},r.createElement("img",{style:{maxHeight:"100%",maxWidth:"auto"},src:t.imageUrl,alt:"Menu Item"})):sr.isStaticTextMenuItem(t)?r.createElement("div",{key:n,className:"chat-menu-item-static-text"},r.createElement("div",null,r.createElement("div",null,t.title),r.createElement("div",{className:"chat-menu-item-static-text--body"},t.body))):sr.isOpenURLMenuItem(t)?r.createElement("button",{key:n,className:"chat-menu-item",onClick:a.bind(undefined,t.url,i,s,t.behavior)},t.text):r.createElement("p",null,"Unknown")})))},br=function(e){var t=e.bars;return t||(t=2),r.createElement("button",{className:"drawer-bars",tabIndex:e.tabIndex?Number(e.tabIndex):0,"aria-label":"open menu","aria-hidden":!1,onClick:e.onToggle},function(){for(var e=[],n=0;n<t;n++)e.push(r.createElement("div",{className:"drawer-bar bar".concat(n)}));return e}())},wr=function(e){return r.createElement("button",{id:"xapp-widget-minimize","aria-label":"minimize widget","aria-hidden":!1,tabIndex:e.tabIndex?Number(e.tabIndex):0,className:"minimize-button ".concat(e.showInRight?"positionRight":""),onClick:e.onClick})},_r=function(e){return r.createElement("button",{id:"xapp-widget-refresh","aria-label":"refresh chat","aria-hidden":!1,tabIndex:e.tabIndex?Number(e.tabIndex):0,className:"refresh-button ".concat(e.showInRight?"positionRight":e.showInLeft?"positionLeft":""),onClick:e.onClick})},Mr="Virtual Assistant",Or="Leave us a message",Er="We're away!",kr="Connecting...";var Tr=function(e){var t,n,o,a,i,s,u,l,c,d,f,p,h,m,v,g,x=ce(),y=e.menuConfig,b=e.onSubmit,w=(0,r.useState)(!1),_=w[0],M=w[1],O="HEADER_LEFT"===((null==y?void 0:y.menuButtonLocation)||"FOOTER"),E=null==y?void 0:y.items,k=null==y?void 0:y.itemsTabIndex,T=null===(t=null==y?void 0:y.button)||void 0===t?void 0:t.tabIndex,P=(0,r.useMemo)((function(){return E||[]}),[E]);var C="",S=e.canRefresh,N=e.canMinimize,j=e.canCancel;return S&&(C="To refresh chat click on clockwise gapped circle arrow icon in top right side of widget. "),N&&(C="".concat(C).concat("To minimize widget click on minus icon in top right side of widget. ")),j&&(C="".concat(C).concat("To close widget click on close icon in top right side of widget.")),r.createElement(r.Fragment,null,r.createElement("div",{className:"status-container background-header","aria-label":C,"aria-hidden":!1},O&&P.length?r.createElement(r.Fragment,null,r.createElement("div",{className:"chat-footer__menu-icon"},r.createElement(br,{bars:3,tabIndex:T,onToggle:function(){var e=!_;M(e),x(Ye({drawer:e}))}}))):r.createElement(r.Fragment,null),void 0===(null===(n=null==e?void 0:e.agent)||void 0===n?void 0:n.avatarPath)?r.createElement("div",null):r.createElement("div",{className:"status-container__avatar"},r.createElement(se,{entity:e.agent})),r.createElement("div",{className:"\n                        ".concat("status-text","\n                        ").concat(void 0===(null===(o=null==e?void 0:e.agent)||void 0===o?void 0:o.avatarPath)?"status-text-positionLeftNoAvatar":"status-text-positionLeft","\n                        ").concat((null===(a=e.config)||void 0===a?void 0:a.alignTextCenter)?"status-text-positionCenter":"status-text-positionLeft","                     \n                        ")},r.createElement("span",{className:"status-text-title"},function(e,t){var n,r,o,a;switch(e){case"online":return null!==(n=null==t?void 0:t.online)&&void 0!==n?n:Mr;case"offline":return null!==(r=null==t?void 0:t.offline)&&void 0!==r?r:Or;case"away":return null!==(o=null==t?void 0:t.away)&&void 0!==o?o:Er;default:return null!==(a=null==t?void 0:t.connecting)&&void 0!==a?a:kr}}(e.accountStatus,null===(i=e.config)||void 0===i?void 0:i.status)),(null===(u=null===(s=e.config)||void 0===s?void 0:s.subtitle)||void 0===u?void 0:u.enabled)&&r.createElement("span",{className:"status-text-subtitle"},null!==(d=null===(c=null===(l=e.config)||void 0===l?void 0:l.subtitle)||void 0===c?void 0:c.text)&&void 0!==d?d:"")),e.canRefresh&&r.createElement(_r,{onClick:e.refreshOnClick,tabIndex:null===(p=null===(f=e.config)||void 0===f?void 0:f.actions)||void 0===p?void 0:p.refreshTabIndex,showInLeft:e.canMinimize&&e.canCancel,showInRight:!e.canMinimize&&!e.canCancel}),e.canMinimize&&r.createElement(wr,{onClick:e.minimizeOnClick,tabIndex:null===(m=null===(h=e.config)||void 0===h?void 0:h.actions)||void 0===m?void 0:m.minimizeTabIndex,showInRight:!e.canCancel}),e.canCancel&&r.createElement(ir,{onClick:e.cancelOnClick,tabIndex:null===(g=null===(v=e.config)||void 0===v?void 0:v.actions)||void 0===g?void 0:g.cancelTabIndex})),_?r.createElement("div",{className:"xa-chat-menu-container"},r.createElement(yr,{openFrom:"left",opened:_,tabIndex:k,onItemClick:function(e){M(!1),b(e)},items:P})):r.createElement(r.Fragment,null))},Pr=function(){return r.createElement(r.Fragment,null)};var Cr=function(e){return r.createElement("div",{className:"xappw-chat-msg-part"},e.showAvatar&&(t=e.user,r.createElement("div",{className:"xappw-chat-msg-part__avatar"},r.createElement(se,{entity:t}))),e.children);var t};function Sr(){var e=or();return(0,r.useCallback)((function(t,n){e(We(t,n))}),[e])}function Nr(){var e=Le(),t=ce(),n=x((function(e){return e.visuals})),o=Sr();return(0,r.useCallback)((function(r){r.actionUrl?e(r.actionUrl,t,n):o(r.label)}),[t,o,e,n])}var jr=function(e){var t=e.msg,n=e.ctx,o=(0,r.useMemo)((function(){return function(e){return{content:e.content,imageUrl:e.smallImageUrl,title:e.title,imageActionUrl:null==e?void 0:e.imageActionUrl,buttons:e.buttons?e.buttons.map((function(e){return{actionUrl:e.openUrlAction,label:e.title}})):void 0}}(t)}),[t]),a=n.user,i=Nr();return r.createElement(Cr,{showAvatar:!0,user:a},r.createElement("div",{className:"chat-msg"},r.createElement(Ie,{card:o,onButtonClick:i})))};function Ir(e){return function(t){return e.reduceRight((function(e,t){return t(e)}),t)}}function Dr(e){var t,n=(0,r.useState)(e.getArray()),o=n[0],a=n[1],i=(t=(0,r.useRef)(!1),(0,r.useEffect)((function(){return t.current=!0,function(){t.current=!1}}),[]),(0,r.useCallback)((function(){return t.current}),[]));return(0,r.useEffect)((function(){var t=e.subscribe((function(e){i()&&a(e)}));return function(){t.unsubscribe()}}),[i,e]),o}var Rr=[];function Ur(e){var t=e.get()||Rr,n=Array.isArray(t)?function(e){var t=e||[],n=[];function r(){for(var e=0,r=n;e<r.length;e++)(0,r[e])(t)}return{getArray:function(){return t},push:function(e){t=ee(ee([],t,!0),[e],!1),r()},unshift:function(e){t=ee([e],t,!0),r()},subscribe:function(e){return n.push(e),{unsubscribe:function(){var t=n.indexOf(e);t>=0&&n.splice(t,1)}}}}}(t):t;return n!==t&&e.set(n),Dr(n)}var Ar,Yr,Lr=(Ar=globalThis,Yr="xappMsgMiddlewares",{get:function(){return Ar[Yr]},set:function(e){return Ar[Yr]=e}});function Fr(){return function(e){var t=Ur(e);return(0,r.useMemo)((function(){return Ir(t)}),[t])}(Lr)}var Wr=function(e){var t=e.url,n=(0,r.useCallback)((function(e){e.preventDefault()}),[]);return r.createElement("a",{href:t,"aria-label":"read more",target:"_blank",rel:"noreferrer",className:e.className,onClick:n},r.createElement("svg",{viewBox:"0 0 20 20"},r.createElement("path",{d:"M17 17H3V3h5V1H3a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-5h-2z"}),r.createElement("path",{d:"M19 1h-8l3.29 3.29-5.73 5.73 1.42 1.42 5.73-5.73L19 9V1z"})))};function Hr(e,t){for(var n=-1,r=0,o=t;r<o.length;r++){var a=o[r],i=e.indexOf(a);i>=0&&(n<0||n>=0&&i<n)&&(n=i)}return n}var Br=[":","/"],qr=["/"],zr=["?","#"],Qr=["#"],Vr=[function(e){var t=e.indexOf("://");return t<0?t:t+3},function(e){return Hr(e,Br)},function(e){return":"!==e.charAt(0)?-1:Hr(e,qr)},function(e){var t=Hr(e,zr);return t>=0?t:e.length},function(e){return Hr(e,Qr)}];var Jr="/...";function Xr(e,t){if(e.length<t)return e;var n=function(e){for(var t=[],n=e,r=0,o=Vr;r<o.length;r++){var a=o[r],i=Math.max(0,a(n,e)),s=n.substring(0,i);t.push(s),n=n.substring(i)}return n&&t.push(n),t}(e);function r(){return n.join("")}function o(){return r().length>t}function a(e){o()&&(n[e]="")}if(":80"===n[2]&&"http://"===n[0]&&a(2),":443"===n[2]&&"https://"===n[0]&&a(2),a(5),a(4),a(2),a(0),o()){var i=n[3],s=r().length-i.length,u=t-s;if(u<0)n[3]="";else if(u<i.length){var l=i.length-u+4;n[3]=Jr+i.substring(l)}}return r()}var Gr=function(e){var t=e.url,n=e.className,o=(0,r.useCallback)((function(e){e.preventDefault()}),[]);return r.createElement("a",{href:t,"aria-label":"read more",target:"_blank",rel:"noreferrer",className:n,onClick:o},Xr(t,40))},Kr=function(e){var t,n=e.item,o=e.layout||"normal",a=n.url||n.imageActionUrl;return r.createElement(fe,{className:"xappw-vlist-item-container",item:n,onButtonClick:e.onButtonClick,onExecute:e.onExecute,onOpenUrl:e.onOpenUrl},r.createElement("div",{className:"xappw-vlist-item xappw-vlist-item--".concat(o)},r.createElement("div",{className:"xappw-vlist-item__description"},n.title&&r.createElement("div",{className:"xappw-vlist-item__title"},r.createElement("span",null,n.title)),a&&r.createElement(Gr,{url:a,className:"xappw-vlist-item__link"}),n.subTitle&&r.createElement("div",{className:"xappw-vlist-item__subtitle"},r.createElement("span",null,n.subTitle)),!!(null===(t=n.buttons)||void 0===t?void 0:t.length)&&r.createElement(ve,{buttons:n.buttons,onClick:e.onButtonClick})),r.createElement("div",{className:"xappw-vlist-item__side"},a&&r.createElement(Wr,{url:"url",className:"xappw-vlist-item__external-link"}),r.createElement(he,{item:n,className:"xappw-vlist-item__img",emptyImageVisible:e.emptyImageVisible}))))},$r=function(e){var t=e.list,n=(0,r.useRef)(null),o=t.items.some((function(e){return e.imageUrl})),a=!t.items.some((function(e){var t;return e.subTitle||(null===(t=e.buttons)||void 0===t?void 0:t.length)})),i=t.items.map((function(t,n){return r.createElement("div",{className:"xappw-vlist-container__item",key:"item-key-".concat(n)},r.createElement(Kr,{item:t,layout:a?"titles":"normal",emptyImageVisible:o,onExecute:e.onExecute,onButtonClick:e.onButtonClick,onOpenUrl:e.onOpenUrl}))}));return r.createElement("div",{className:"xappw-vlist"},r.createElement("div",{ref:n,className:"xappw-vlist-container"},e.list.title&&r.createElement("div",{className:"xappw-vlist__header"},e.list.title),i))},Zr=function(e){var t=e.msg,n=e.ctx;if(!n)throw new TypeError("ctx not provided to ".concat(Zr.name));var o=(0,r.useMemo)((function(){return function(e){return{type:e.type,title:e.title,items:e.items.map((function(e){var t,n,r={title:e.title,subTitle:e.description,token:e.token,url:e.url,imageUrl:null===(t=e.image)||void 0===t?void 0:t.url,imageActionUrl:null===(n=e.image)||void 0===n?void 0:n.imageActionUrl},o=e.buttons;return o&&o.length>0&&(r.buttons=o.map((function(e){return{actionUrl:e.openUrlAction,label:e.title}}))),r}))}}(t)}),[t]),a=Sr(),i=Nr(),s=n.user;return r.createElement(Cr,{showAvatar:!1,user:s},"CAROUSEL"===o.type&&r.createElement("div",{className:"chat-msg chat-msg--fullwidth chat-msg--no-ava"},r.createElement(be,{list:o,onExecute:a,onButtonClick:i,onOpenUrl:n.openUrl})),"LIST"===o.type&&r.createElement("div",{className:"chat-msg chat-msg--expand"},r.createElement($r,{list:o,onExecute:a,onButtonClick:i,onOpenUrl:n.openUrl})))},eo=function(e){var t=e.items,n=e.checked,o=e.onChange,a=(0,r.useCallback)((function(e){var t,r=e.target.value;o(K(K({},n),((t={})[r]=!n[r],t)))}),[n,o]);return r.createElement("ul",{className:"xappw-multiselect"},null==t?void 0:t.map((function(e){return r.createElement("li",{key:e.id},r.createElement("label",null,r.createElement("input",{type:"checkbox",checked:n[e.id]||!1,onChange:a,value:e.id}),r.createElement("span",null,e.title)))})))};var to=function(e){var t=e.msg,n=e.ctx,o=(0,r.useMemo)((function(){return t.items}),[t]),a=n.user,i=(0,r.useState)({}),s=i[0],u=i[1],l=(0,r.useCallback)((function(){n.send({type:"custom",payload:JSON.stringify({type:"OPTION_SELECT_REQUEST",intentId:"OptionSelect",selected:Object.keys(s).map((function(e){return{id:e}}))})})}),[n,s]);return r.createElement(Cr,{showAvatar:!0,user:a},r.createElement("div",{className:"chat-msg"},r.createElement("div",null,r.createElement(eo,{items:o,checked:s,onChange:u}),r.createElement(Q,{label:"Submit",onClick:l}))))},no=Ir([function(e){return function(t){var n,o=t.msg,a=t.ctx;return!(n=o)||"LIST"!==n.type&&"CAROUSEL"!==n.type?e(t):r.createElement(Zr,{msg:o,ctx:a})}},function(e){return function(t){var n,o=t.msg,a=t.ctx;return(n=o)&&"CARD"===n.type?r.createElement(jr,{msg:o,ctx:a}):e(t)}},function(e){return function(t){var n=t.msg,o=t.ctx;return"MultiSelect"===n.type?r.createElement(to,{msg:n,ctx:o}):e(t)}}]);function ro(){var e,t=(e=Fr(),(0,r.useMemo)((function(){return Ir([e,no])}),[e]));return(0,r.useMemo)((function(){return t(Pr)}),[t])}var oo=no(Pr);function ao(e){return"others"===e?"m 80 0 v 240 h -60 c 40 -40 60 -160 60 -240":"m 0 0 v 240 h 60 c -40 -40 -60 -160 -60 -240"}var io=function(e){var t=e.owner,n=e.onClick,o=(0,r.useCallback)((function(){n&&n()}),[n]);return r.createElement("div",{onClick:o,className:"chat-text-bubble ".concat("mine"===t?"chat-text-bubble--mine":"chat-text-bubble--others")},e.hasTail&&function(e){return r.createElement("svg",{className:"chat-text-bubble__tail",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 80 240"},r.createElement("path",{d:ao(e),fill:"currentColor"}))}(t),e.children)},so=function(e){var t=e.onOpenUrl,n=te(e.message.user.nick),o=(0,r.useRef)(),a=ce(),i=x((function(e){return e.visuals})),s=e.message.msg.html,u=(0,r.useCallback)((function(e){if(t){var n=e.target;e.preventDefault(),t(n.href,a,i)}}),[t]);return(0,r.useEffect)((function(){if(o.current&&(o.current.innerHTML=s,t)){var e=o.current.querySelectorAll("a");return e.forEach((function(e){e.addEventListener("click",u)})),function(){e.forEach((function(e){e.removeEventListener("click",u)}))}}}),[o,s,t,u]),r.createElement("div",{className:"chat-msg"},r.createElement("div",{className:"chat-text-container"},r.createElement(io,{owner:n?"others":"mine",hasTail:n&&!e.sibling},r.createElement("span",{className:"message-sr-only"},"at "+e.time+(n?" the bot said":" the user said")),r.createElement("div",{ref:o}))))},uo=function(e){var t=e.message,n=e.ctx;if(!n)throw new TypeError("ctx not provided to ".concat(uo.name));var o=n.user,a=t.msg.permissionRequest,i=te(e.message.user.nick),s=t.user,u="Deny",l=(0,r.useCallback)((function(e){n.write({type:"msg",user:s,msg:e})}),[n,s]),c=(0,r.useCallback)((function(e){n.write({type:"msg",user:o,msg:e})}),[n,o]),d=(0,r.useCallback)((function(){n.send({type:"msg",user:void 0,msg:{text:u}})}),[n]),f=(0,r.useCallback)((function(e){n.send({type:"permissionGrant",user:s,msg:e})}),[s,n]),p=(0,r.useCallback)((function(e,t){f({text:t,location:e?{latitude:e.coords.latitude,longitude:e.coords.longitude}:void 0,permissionRequest:a}),c({text:t});var n=e?null==a?void 0:a.approve:null==a?void 0:a.deny;n&&l(n)}),[a,c,l,f]),h=(0,r.useCallback)((function(e){p(void 0,e)}),[p]),m=(0,r.useCallback)((function(e){navigator.geolocation&&navigator.geolocation.getCurrentPosition((function(t){p(t,e)}),(function(){d()}))}),[d,p]);return a?r.createElement("div",{className:"chat-msg"},r.createElement("span",{className:"message-sr-only"},"at "+e.time+(i?" the bot said":" the user said")),r.createElement("div",{className:"buttons-container"},r.createElement(Q,{label:"Allow",addClass:"button",onClick:m}),r.createElement(Q,{label:u,addClass:"button",onClick:h}))):r.createElement(r.Fragment,null)},lo=function(e){var t=e.message,n=new Date(t.timestamp),o=n.getHours()+":"+n.getMinutes(),a=te(e.message.user.nick);return r.createElement("div",{className:"chat-msg"},r.createElement("div",{className:"chat-text-container"},r.createElement(io,{owner:a?"others":"mine",hasTail:a&&!e.sibling},r.createElement("span",{className:"message-sr-only"},"at "+o+(a?" the bot said":" the user said")),r.createElement("span",null,t.msg.text))))};var co=["text","html","card","list"],fo=function(e){var t,n,o,a=e.messageMiddleware||oo,i=e.middlewareContext,s=e.agent;return r.createElement("div",{className:"chat-msg-container-wrapper ".concat(te(e.message.user.nick)?"agent":"visitor"," ").concat(e.sibling?"sibling":"")},r.createElement("div",{className:"chat-msg-container ".concat((o=e.message,te(o.user.nick)?"agent":"visitor"))},function(){var t,n=e.message.msg;if("chat.msg"===e.message.type){var o=co.find((function(e){return!!n[e]}));return r.createElement(r.Fragment,null,n.text&&r.createElement(Cr,{showAvatar:"text"===o,user:s},r.createElement(lo,{message:e.message,sibling:e.sibling})),n.html&&r.createElement(Cr,{showAvatar:"html"===o,user:s},r.createElement(so,{message:e.message,sibling:e.sibling,onOpenUrl:null===(t=e.middlewareContext)||void 0===t?void 0:t.openUrl})),n.displays&&a&&n.displays.map((function(t,n){var o=a;return r.createElement(o,{key:n,msg:t,ctx:e.middlewareContext})})),n.permissionRequest&&i&&r.createElement(Cr,{showAvatar:"permissionRequest"===o,user:s},r.createElement(uo,{message:e.message,sibling:e.sibling,ctx:i})))}return r.createElement(r.Fragment,null)}(),(t=e.message.timestamp,n=function(e){var t=new Date,n=Math.floor((t.valueOf()-e.valueOf())/1e3);if(n<1)return"now";if(n<60)return"".concat(n," seconds ago");var r=Math.floor(n/60);if(r<60)return"".concat(r," minutes ago");var o=Math.floor(r/60);return o<24?"".concat(o," hours ago"):e.toLocaleString()}(new Date(t)),r.createElement("div",{className:"chat-msg-timestamp ".concat(te(e.message.user.nick)?"agent":"visitor")},r.createElement("span",null,n)))))};function po(e,t,n){var r=1e3*function(e){if(!e)return 0;var t=e.match(/(\d+)([dhms]?)/);if(!t)return ie("Invalid time string: ".concat(e)),0;var n=parseInt(t[1]);switch(t[2]){case"d":return 24*n*60*60;case"h":return 60*n*60;case"m":return 60*n;default:return n}}(e);return!!e&&+new Date-t>r}function ho(e){(0,r.useEffect)((function(){if(e){var t=function(e){for(var t="es-",n=0;n<e.length;n++)t+=mo(e.charAt(n));return t}(e);if(!document.getElementById(t)){var n=document.createElement("script");n.id=t,n.src=e,n.crossOrigin="anonymous",document.head.appendChild(n)}}}),[e])}function mo(e){return e>="0"&&e<="9"||e>="a"&&e<="z"||e>="A"&&e<="Z"?e:"_".concat(e.charCodeAt(0),"_")}function vo(e){var t,n,o,a,i=(t=or(),n=x((function(e){return e.visitorId||e.userId})),o=x((function(e){return e.accessToken})),a=x((function(e){return e.attributes})),(0,r.useMemo)((function(){return{dispatch:t,visitorId:n,accessToken:o,userId:n,attributes:a}}),[t,n,o,a])),s=(0,r.useRef)(null),u=(0,r.useContext)(J).env.isAdmin,l=x((function(e){return e.sessionId}));(0,r.useEffect)((function(){if(e&&s.current!==i&&(s.current=i,i.visitorId)){if(i.dispatch(Be({name:"Visitor",visitorId:i.visitorId,userId:i.userId,accessToken:i.accessToken,attributes:K(K({},i.attributes),{currentUrl:window.location.href})},l)),!u){var t=setTimeout((function(){var e,t=(void 0===e&&(e=!1),function(t){return function(n,r){e||r().connection.greetingRequested||(ae("sending greeting"),t.sendChatMsg({text:void 0,attributes:{isGreeting:!0}},(function(e){e&&ae("Error sending message"),n({type:"sendGreeting",detail:void 0})})))}});i.dispatch(t)}),1e3);return function(){clearTimeout(t)}}ae("Admin widget. Not sending greeting.")}}),[i,e,u])}function go(e,t){var n=(0,r.useState)(),o=n[0],a=n[1],i=(0,r.useState)(-1),s=i[0],u=i[1],l=(0,r.useState)(e),c=l[0],d=l[1],f=(0,r.useState)(t),p=f[0],h=f[1];(0,r.useEffect)((function(){d(e)}),[e]),(0,r.useEffect)((function(){h(t)}),[t]);var m=(0,r.useMemo)((function(){return o?_t(o,s):void 0}),[o,s]),v=(0,r.useCallback)((function(e){if(o){var t=Mt(o);u((function(n){return function(e,t){return(e+t)%t}(n+e+(n<0&&e<=0?1:0),t)}))}else u(-1)}),[o]),g=(0,r.useCallback)((function(e){switch(e){case"prev":v(-1);break;case"next":v(1);break;case"cancel":u(-1),d(void 0),h(void 0)}}),[v]),x=function(e,t){var n=X(),r=null==n?void 0:n.autocompleteSuggestionsUrl;return Et({url:r,query:e,context:t})}(c||"",p),y="success"===x.state?x.data:void 0,b=(0,r.useMemo)((function(){return y?Ot(y,-1).map((function(e){return{heading:e.heading,items:e.items.slice().reverse()}})):void 0}),[y]);return(0,r.useEffect)((function(){var e=m;a(b),e&&b||u(-1)}),[b,m]),(0,r.useMemo)((function(){return{suggestions:o,index:s,execute:g,item:m}}),[o,s,g,m])}var xo,yo=function(e){var t=(0,r.useRef)(null),n=(0,r.useState)(!1),o=n[0],a=n[1],i=or();function s(e){var n,r;e.preventDefault(),o?(i((function(e){return function(){e.bargeOut((function(e){e&&ae(e)}))}})),a(!1)):(i((r=null===(n=t.current)||void 0===n?void 0:n.value,function(e){return function(){e.bargeIn(r,(function(e){e&&ae(e)}))}})),a(!0))}return r.createElement("div",{className:"xappw-admin-input-container visible"},o?r.createElement("form",{className:"xappw-admin-input-form",onSubmit:s},r.createElement("div",{className:"xappw-admin-input-form__buttons"},r.createElement(Q,{addClass:"xappw-admin-input-form__btn",type:"submit",label:"Leave"}))):r.createElement("form",{className:"xappw-admin-input-form",onSubmit:s},r.createElement("div",{className:"xappw-admin-input-form__buttons"},r.createElement(Q,{addClass:"xappw-admin-input-form__btn",type:"submit",label:"Join"})),r.createElement("div",{className:"xappw-admin-input"},r.createElement("input",{ref:t,id:"adminBarInput",placeholder:"Type your name here...",className:"xappw-admin-input__input"}))))},bo={exports:{}};xo=bo,function(){var e={}.hasOwnProperty;function t(){for(var n=[],r=0;r<arguments.length;r++){var o=arguments[r];if(o){var a=typeof o;if("string"===a||"number"===a)n.push(o);else if(Array.isArray(o)){if(o.length){var i=t.apply(null,o);i&&n.push(i)}}else if("object"===a){if(o.toString!==Object.prototype.toString&&!o.toString.toString().includes("[native code]")){n.push(o.toString());continue}for(var s in o)e.call(o,s)&&o[s]&&n.push(s)}}}return n.join(" ")}xo.exports?(t.default=t,xo.exports=t):window.classNames=t}();var wo=bo.exports,_o=function(e){var t=e.text,n=e.applyBrandingClass,o=e.linkColor,a=function(e){return[e.match(/\[([^\]]+)\]\((https?:\/\/[^\)]+)\)/),e.match(/#{1,6}\s*([^#]+)/)]}(t),i=a[0],s=a[1],u=i?i[1]:s?s[1]:"",l=i?i[2]:"",c=i?i[0]:s?s[0]:"",d=null==t?void 0:t.split(c)[0],f=null==t?void 0:t.split(c)[1],p=wo({"chat-footer__branding":n}),h={color:o||"",textDecoration:"underline"};return i?r.createElement("div",{className:p},d,r.createElement("a",{style:h,href:l,target:"_blank",rel:"noopener noreferrer"},u),f):s?r.createElement("div",null,d&&r.createElement(r.Fragment,null,d),r.createElement("b",null,u),f&&r.createElement(r.Fragment,null,f)):r.createElement(r.Fragment,null)},Mo=function(e){var t=e.text;return(null==t?void 0:t.match(/\[([^\]]+)\]\((https?:\/\/[^\)]+)\)/))?r.createElement(_o,{text:t,applyBrandingClass:!0,linkColor:"white"}):r.createElement("div",{className:"chat-footer__branding",style:{color:"white"}},t)},Oo=function(){return r.createElement("svg",{style:{color:"grey",paddingRight:"5px"},xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",viewBox:"0 0 16 16"},r.createElement("path",{d:"M1.293 1.293a1 1 0 0 1 1.414 0L8 6.586l5.293-5.293a1 1 0 1 1 1.414 1.414L9.414 8l5.293 5.293a1 1 0 0 1-1.414 1.414L8 9.414l-5.293 5.293a1 1 0 0 1-1.414-1.414L6.586 8 1.293 2.707a1 1 0 0 1 0-1.414z"}))},Eo=function(){return r.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",viewBox:"0 0 16 16"},r.createElement("path",{fillRule:"evenodd",d:"M2 13.5a.5.5 0 0 0 .5.5h6a.5.5 0 0 0 0-1H3.707L13.854 2.854a.5.5 0 0 0-.708-.708L3 12.293V7.5a.5.5 0 0 0-1 0v6z"}))},ko=function(){return r.createElement("svg",{viewBox:"80.208 98.129 313.069 282.823",xmlns:"http://www.w3.org/2000/svg"},r.createElement("g",{transform:"matrix(0.024498, 0, 0, -0.038359, 79.83091, 381.182404)",fill:"currentColor",stroke:"none"},r.createElement("path",{d:"M12670 7345 c-63 -18 -272 -77 -465 -130 -192 -53 -478 -132 -635 -175 -508 -141 -1091 -302 -2345 -649 -676 -187 -2038 -563 -3025 -836 -987 -273 -2072 -573 -2410 -666 -338 -94 -802 -222 -1030 -285 -1857 -514 -2579 -714 -2684 -742 -38 -10 -65 -21 -60 -24 5 -3 67 -22 139 -41 72 -20 326 -90 565 -157 239 -67 611 -170 825 -230 215 -60 586 -163 825 -230 239 -67 491 -137 560 -156 l126 -34 974 439 c1397 629 4128 1858 6050 2724 910 410 1826 822 2035 917 209 94 387 173 395 176 35 10 -66 -39 -8200 -3928 -586 -280 -1068 -512 -1071 -516 -3 -4 33 -117 82 -252 76 -213 355 -996 765 -2147 65 -183 120 -330 122 -329 1 2 114 558 250 1236 l248 1233 3455 2064 c1900 1135 3670 2193 3933 2351 264 158 491 293 505 301 62 33 -5 -12 -271 -182 -1671 -1070 -7188 -4613 -7188 -4617 0 -7 3661 -2455 3669 -2454 4 1 3713 6853 3977 7347 8 15 11 27 7 26 -5 0 -60 -15 -123 -34z"}),r.createElement("path",{d:"M5030 2232 c-15 -61 -479 -1861 -531 -2058 -21 -83 -39 -154 -39 -158 0 -3 369 330 820 740 452 411 817 750 813 754 -11 10 -1025 754 -1039 763 -8 4 -16 -10 -24 -41z"})))},To=function(e){return r.createElement(r.Fragment,null,e.sendButtonIcon?r.createElement("button",{className:"xappw-custom-send-button",tabIndex:e.tabIndex?Number(e.tabIndex):0,onClick:e.onClick},r.createElement("img",{src:e.sendButtonIcon,alt:"Send button",draggable:!1})):r.createElement(yt,{className:"xappw-send-button ".concat(e.className||""),tabIndex:e.tabIndex,onClick:e.onClick,icon:ko}))},Po=function(e){var t,n,o=e.value,a=e.placeholder,i=e.sendButtonIcon,s=e.suggestion,u=e.footerConfig,l=e.inputConfig,c=e.onChange,d=e.onSubmit,f=e.onSuggestionCommand,p=(0,r.useState)(!1),h=p[0],m=p[1];var v=(0,r.useCallback)((function(e){e&&e.preventDefault(),d(o)}),[o,d]),g=(0,r.useCallback)((function(){c({text:"",formats:[]})}),[c]),x=(0,r.useCallback)((function(e){!s||"End"!==e.key&&"ArrowRight"!==e.key&&"Enter"!==e.key?f&&("ArrowUp"===e.key?(f("prev"),e.preventDefault()):"ArrowDown"===e.key?(f("next"),e.preventDefault()):"Escape"===e.key&&(f("cancel"),e.preventDefault())):c(s)}),[s,c,f]);return r.createElement("div",{className:"xappw-input-container ".concat(e.addClass," ").concat(h?"drag-drop-zone":""),"aria-label":(o.text,"To clear input field click on clear icon on the left of send button"),"aria-hidden":!1,onDrop:function(t){m(!1),e.onFileUpload(t)},onDragOver:function(e){m(!0),e.preventDefault(),e.dataTransfer.dropEffect="copy"},onDragLeave:function(){m(!1)}},r.createElement("form",{className:"xappw-input-form",onSubmit:v},r.createElement(bt,{key:"input",id:"chatWidgetInput",className:"xappw-input",placeholder:null!=a?a:"type your question here",tabIndex:null==l?void 0:l.tabIndex,onInput:c,onChange:c,onKeyDown:x,value:o,spellCheck:!0}),r.createElement("div",{className:"xappw-input-form__buttons"},o.text&&r.createElement(yt,{icon:Oo,tabIndex:null===(t=null==u?void 0:u.clearButton)||void 0===t?void 0:t.tabIndex,className:"xappw-input-form__btn",onClick:g}),r.createElement(To,{className:"xappw-input-form__btn",sendButtonIcon:i,tabIndex:null===(n=null==u?void 0:u.sendButton)||void 0===n?void 0:n.tabIndex,onClick:v}))))};var Co=function(e){var t=e.data,n=e.onItemUse,o=e.searchTerms,a=(0,r.useState)(),i=a[0],s=a[1],u=(0,r.useState)(),l=u[0],c=u[1];(0,r.useEffect)((function(){t&&s(t),o||(s(void 0),c(void 0))}),[t,o]);var d=(null==t?void 0:t.length)>0?e.index:NaN,f=(0,r.useMemo)((function(){return _t(t,d)}),[t,d]),p=(0,r.useCallback)((function(e,t){if("inputText"===t.type)return n(e),c(void 0),!1}),[n]);(0,r.useEffect)((function(){c(f)}),[f]);var h=(0,r.useMemo)((function(){return function(e){return function(t){var n=t.data,o="FAQ"!==n.type,a=(0,r.useCallback)((function(t){e(n),t.stopPropagation()}),[n]);return o?r.createElement(yt,{className:"xappw-suggestions__use",onClick:a,icon:Eo}):r.createElement(r.Fragment,null)}}(n)}),[n]);return r.createElement("div",{className:"xappw-suggestions ".concat(e.className||"")},(null==l?void 0:l.content)&&r.createElement("div",{className:"xappw-suggestions__answer"},l.content.split("\n").map((function(e){return e?r.createElement(_o,{text:e}):r.createElement(r.Fragment,null)}))),i&&i.length>0&&r.createElement(wt,{suggestions:i,index:d,className:"xappw-suggestions__groups",itemActions:h,onItemClick:e.onItemClick,onItemHover:c,onSpanClick:p}))},So=function(e){var t,n,o=ce(),a=e.placeholder,i=e.sendButtonIcon,s=e.footerConfig,u=e.menuConfig,l=e.inputConfig,c=e.onSubmit,d=(0,r.useState)(!1),f=d[0],p=d[1],h=(0,r.useState)(),m=h[0],v=h[1],g=go(m,x((function(e){return e.activeContexts}))),y="FOOTER"===((null==u?void 0:u.menuButtonLocation)||"FOOTER"),b=null==u?void 0:u.items,w=null==u?void 0:u.itemsTabIndex,_=null===(t=null==u?void 0:u.button)||void 0===t?void 0:t.tabIndex,M=(0,r.useMemo)((function(){return b||[]}),[b]),O=null===(n=null==s?void 0:s.branding)||void 0===n?void 0:n.enabled,E=(0,r.useState)({text:"",formats:[]}),k=E[0],T=E[1];var P=(0,r.useCallback)((function(e){v(""),T({text:"",formats:[]}),c(e.text)}),[c]),C=(0,r.useCallback)((function(e){P(e)}),[P]),S=(0,r.useCallback)((function(e){console.log(e),T(e),v(e.text)}),[]);return r.createElement("div",{className:"chat-footer background-footer","aria-label":M.length?"to open menu click a button above the rounded rectangle at the bottom of widget":"","aria-hidden":!1},y&&M.length?r.createElement(r.Fragment,null,f?r.createElement(yr,{opened:f,tabIndex:w,onItemClick:function(t){p(!1),e.onSubmit(t)},items:M}):r.createElement(r.Fragment,null),r.createElement("div",{className:"chat-footer__menu-icon"},r.createElement(br,{tabIndex:_,onToggle:function(){var e=!f;p(e),o(Ye({drawer:e}))}}))):r.createElement(r.Fragment,null),r.createElement(Co,{className:"xappw-chat-footer__suggestions",data:g.suggestions,index:g.index,searchTerms:m,onItemClick:C,onItemUse:S}),e.isAdmin&&e.isChatting&&e.visible&&r.createElement(yo,null),r.createElement(Po,{addClass:"chat-footer__input "+(e.isChatting&&e.visible?"visible":""),suggestion:g.item,value:k,placeholder:a,sendButtonIcon:i,footerConfig:s,inputConfig:l,onSubmit:P,onChange:function(t){T(t),e.onChange(t.text),v(t.text)},onSuggestionCommand:g.execute,onFileUpload:e.onFileUpload}),O&&r.createElement(Mo,{text:"Powered by [XAPP AI](https://xapp.ai)"}))},No=function(){},jo=function(){function e(e){this.cache={},this.template=e}return e.prototype.resolve=function(e){var t,n,r;if(e){var o=this.cache,a=e.nick,i=o[a];return i||(i={user:e,send:null!==(t=this.template.send)&&void 0!==t?t:No,write:null!==(n=this.template.write)&&void 0!==n?n:No,openUrl:null!==(r=this.template.openUrl)&&void 0!==r?r:No},o[a]=i),i}},e}(),Io=function(e){return r.createElement("div",{className:"card-container ".concat(e.addClass)},(t="string"==typeof e.icon,r.createElement("div",{className:"card-container__icon"},!t&&e.icon)),r.createElement("div",{className:"card-container__content ".concat(e.contentAddClass)},r.createElement("div",{className:"card-container__title"},e.title),e.children));var t},Do={agent:{},hasRating:!1,shouldDisplay:!0,onRate:function(){}},Ro=function(e){void 0===e&&(e=Do);var t=e.onRate,n=(0,r.useCallback)((function(){t("bad")}),[t]),o=(0,r.useCallback)((function(){t("good")}),[t]),a=(0,r.useCallback)((function(){t(void 0)}),[t]);return e.shouldDisplay?e.hasRating?r.createElement(Io,{title:"Chat Rating",addClass:"chat-rating-card"},"You have rated the chat service.",r.createElement("div",{className:"buttons-container"},r.createElement(Q,{addClass:"button button-rate-again",label:"Rate again",onClick:a}))):r.createElement(Io,{title:"Chat Rating",addClass:"chat-rating-card"},e.agent.displayName," has requested you to rate the chat service.",r.createElement("div",{className:"buttons-container"},r.createElement(Q,{addClass:"button button-rate-bad",label:"Rate Bad",onClick:n}),r.createElement(Q,{addClass:"button button-rate-good",label:"Rate Good",onClick:o}))):null},Uo=function(e){var t=or(),n=(0,r.useCallback)((function(e){t(function(e){return function(t){return function(){t.sendChatRating(e)}}}(e))}),[t]);return r.createElement(r.Fragment,null,r.createElement("span",{className:"message-sr-only"},"at "+e.time+" system message"),r.createElement(Ro,{agent:e.agent,hasRating:e.hasRating,shouldDisplay:e.shouldDisplay,onRate:n}))},Ao={},Yo={exports:{}},Lo={exports:{}},Fo={exports:{}};!function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){if(null===e||!0===e||!1===e)return NaN;var t=Number(e);if(isNaN(t))return t;return t<0?Math.ceil(t):Math.floor(t)},e.exports=t.default}(Fo,Fo.exports);var Wo={exports:{}},Ho={exports:{}};!function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if(t.length<e)throw new TypeError(e+" argument"+(e>1?"s":"")+" required, but only "+t.length+" present")},e.exports=t.default}(Ho,Ho.exports),function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){(0,r.default)(1,arguments);var t=Object.prototype.toString.call(e);return e instanceof Date||"object"==typeof e&&"[object Date]"===t?new Date(e.getTime()):"number"==typeof e||"[object Number]"===t?new Date(e):("string"!=typeof e&&"[object String]"!==t||"undefined"==typeof console||(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://git.io/fjule"),console.warn((new Error).stack)),new Date(NaN))};var n,r=(n=Ho.exports)&&n.__esModule?n:{default:n};e.exports=t.default}(Wo,Wo.exports),function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){(0,o.default)(2,arguments);var a=(0,r.default)(e),i=(0,n.default)(t);if(isNaN(i))return new Date(NaN);if(!i)return a;return a.setDate(a.getDate()+i),a};var n=a(Fo.exports),r=a(Wo.exports),o=a(Ho.exports);function a(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default}(Lo,Lo.exports);var Bo={exports:{}};!function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){(0,o.default)(2,arguments);var a=(0,r.default)(e),i=(0,n.default)(t);if(isNaN(i))return new Date(NaN);if(!i)return a;var s=a.getDate(),u=new Date(a.getTime());u.setMonth(a.getMonth()+i+1,0);var l=u.getDate();return s>=l?u:(a.setFullYear(u.getFullYear(),u.getMonth(),s),a)};var n=a(Fo.exports),r=a(Wo.exports),o=a(Ho.exports);function a(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default}(Bo,Bo.exports),function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if((0,a.default)(2,arguments),!t||"object"!=typeof t)return new Date(NaN);var s=t.years?(0,i.default)(t.years):0,u=t.months?(0,i.default)(t.months):0,l=t.weeks?(0,i.default)(t.weeks):0,c=t.days?(0,i.default)(t.days):0,d=t.hours?(0,i.default)(t.hours):0,f=t.minutes?(0,i.default)(t.minutes):0,p=t.seconds?(0,i.default)(t.seconds):0,h=(0,o.default)(e),m=u||s?(0,r.default)(h,u+12*s):h,v=c||l?(0,n.default)(m,c+7*l):m,g=1e3*(p+60*(f+60*d));return new Date(v.getTime()+g)};var n=s(Lo.exports),r=s(Bo.exports),o=s(Wo.exports),a=s(Ho.exports),i=s(Fo.exports);function s(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default}(Yo,Yo.exports);var qo={exports:{}},zo={exports:{}};!function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){(0,r.default)(1,arguments);var t=(0,n.default)(e).getDay();return 0===t||6===t};var n=o(Wo.exports),r=o(Ho.exports);function o(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default}(zo,zo.exports);var Qo={exports:{}};!function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,r.default)(1,arguments),0===(0,n.default)(e).getDay()};var n=o(Wo.exports),r=o(Ho.exports);function o(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default}(Qo,Qo.exports);var Vo={exports:{}};!function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,r.default)(1,arguments),6===(0,n.default)(e).getDay()};var n=o(Wo.exports),r=o(Ho.exports);function o(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default}(Vo,Vo.exports),function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){(0,a.default)(2,arguments);var u=(0,r.default)(e),l=(0,n.default)(u),c=(0,o.default)(t);if(isNaN(c))return new Date(NaN);var d=u.getHours(),f=c<0?-1:1,p=(0,o.default)(c/5);u.setDate(u.getDate()+7*p);var h=Math.abs(c%5);for(;h>0;)u.setDate(u.getDate()+f),(0,n.default)(u)||(h-=1);l&&(0,n.default)(u)&&0!==c&&((0,s.default)(u)&&u.setDate(u.getDate()+(f<0?2:-1)),(0,i.default)(u)&&u.setDate(u.getDate()+(f<0?1:-2)));return u.setHours(d),u};var n=u(zo.exports),r=u(Wo.exports),o=u(Fo.exports),a=u(Ho.exports),i=u(Qo.exports),s=u(Vo.exports);function u(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default}(qo,qo.exports);var Jo={exports:{}},Xo={exports:{}};!function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){(0,o.default)(2,arguments);var a=(0,r.default)(e).getTime(),i=(0,n.default)(t);return new Date(a+i)};var n=a(Fo.exports),r=a(Wo.exports),o=a(Ho.exports);function a(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default}(Xo,Xo.exports),function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){(0,o.default)(2,arguments);var a=(0,n.default)(t);return(0,r.default)(e,a*i)};var n=a(Fo.exports),r=a(Xo.exports),o=a(Ho.exports);function a(e){return e&&e.__esModule?e:{default:e}}var i=36e5;e.exports=t.default}(Jo,Jo.exports);var Go={exports:{}},Ko={exports:{}},$o={exports:{}},Zo={exports:{}};!function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){(0,o.default)(1,arguments);var a=t||{},i=a.locale,s=i&&i.options&&i.options.weekStartsOn,u=null==s?0:(0,r.default)(s),l=null==a.weekStartsOn?u:(0,r.default)(a.weekStartsOn);if(!(l>=0&&l<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var c=(0,n.default)(e),d=c.getDay(),f=(d<l?7:0)+d-l;return c.setDate(c.getDate()-f),c.setHours(0,0,0,0),c};var n=a(Wo.exports),r=a(Fo.exports),o=a(Ho.exports);function a(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default}(Zo,Zo.exports),function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,r.default)(1,arguments),(0,n.default)(e,{weekStartsOn:1})};var n=o(Zo.exports),r=o(Ho.exports);function o(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default}($o,$o.exports),function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){(0,o.default)(1,arguments);var t=(0,n.default)(e),a=t.getFullYear(),i=new Date(0);i.setFullYear(a+1,0,4),i.setHours(0,0,0,0);var s=(0,r.default)(i),u=new Date(0);u.setFullYear(a,0,4),u.setHours(0,0,0,0);var l=(0,r.default)(u);return t.getTime()>=s.getTime()?a+1:t.getTime()>=l.getTime()?a:a-1};var n=a(Wo.exports),r=a($o.exports),o=a(Ho.exports);function a(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default}(Ko,Ko.exports);var ea={exports:{}},ta={exports:{}};!function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){(0,o.default)(1,arguments);var t=(0,n.default)(e),a=new Date(0);return a.setFullYear(t,0,4),a.setHours(0,0,0,0),(0,r.default)(a)};var n=a(Ko.exports),r=a($o.exports),o=a(Ho.exports);function a(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default}(ta,ta.exports);var na={exports:{}},ra={exports:{}};!function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return t.setUTCFullYear(e.getFullYear()),e.getTime()-t.getTime()},e.exports=t.default}(ra,ra.exports);var oa={exports:{}};!function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){(0,r.default)(1,arguments);var t=(0,n.default)(e);return t.setHours(0,0,0,0),t};var n=o(Wo.exports),r=o(Ho.exports);function o(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default}(oa,oa.exports),function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){(0,o.default)(2,arguments);var a=(0,r.default)(e),s=(0,r.default)(t),u=a.getTime()-(0,n.default)(a),l=s.getTime()-(0,n.default)(s);return Math.round((u-l)/i)};var n=a(ra.exports),r=a(oa.exports),o=a(Ho.exports);function a(e){return e&&e.__esModule?e:{default:e}}var i=864e5;e.exports=t.default}(na,na.exports),function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){(0,i.default)(2,arguments);var s=(0,r.default)(e),u=(0,n.default)(t),l=(0,a.default)(s,(0,o.default)(s)),c=new Date(0);return c.setFullYear(u,0,4),c.setHours(0,0,0,0),(s=(0,o.default)(c)).setDate(s.getDate()+l),s};var n=s(Fo.exports),r=s(Wo.exports),o=s(ta.exports),a=s(na.exports),i=s(Ho.exports);function s(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default}(ea,ea.exports),function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){(0,a.default)(2,arguments);var i=(0,n.default)(t);return(0,o.default)(e,(0,r.default)(e)+i)};var n=i(Fo.exports),r=i(Ko.exports),o=i(ea.exports),a=i(Ho.exports);function i(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default}(Go,Go.exports);var aa={exports:{}};!function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){(0,o.default)(2,arguments);var a=(0,n.default)(t);return(0,r.default)(e,a*i)};var n=a(Fo.exports),r=a(Xo.exports),o=a(Ho.exports);function a(e){return e&&e.__esModule?e:{default:e}}var i=6e4;e.exports=t.default}(aa,aa.exports);var ia={exports:{}};!function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){(0,o.default)(2,arguments);var a=3*(0,n.default)(t);return(0,r.default)(e,a)};var n=a(Fo.exports),r=a(Bo.exports),o=a(Ho.exports);function a(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default}(ia,ia.exports);var sa={exports:{}};!function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){(0,o.default)(2,arguments);var a=(0,n.default)(t);return(0,r.default)(e,1e3*a)};var n=a(Fo.exports),r=a(Xo.exports),o=a(Ho.exports);function a(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default}(sa,sa.exports);var ua={exports:{}};!function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){(0,o.default)(2,arguments);var a=7*(0,n.default)(t);return(0,r.default)(e,a)};var n=a(Fo.exports),r=a(Lo.exports),o=a(Ho.exports);function a(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default}(ua,ua.exports);var la={exports:{}};!function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){(0,o.default)(2,arguments);var a=(0,n.default)(t);return(0,r.default)(e,12*a)};var n=a(Fo.exports),r=a(Bo.exports),o=a(Ho.exports);function a(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default}(la,la.exports);var ca={exports:{}};!function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{inclusive:!1};(0,r.default)(2,arguments);var a=e||{},i=t||{},s=(0,n.default)(a.start).getTime(),u=(0,n.default)(a.end).getTime(),l=(0,n.default)(i.start).getTime(),c=(0,n.default)(i.end).getTime();if(!(s<=u&&l<=c))throw new RangeError("Invalid interval");if(o.inclusive)return s<=c&&l<=u;return s<c&&l<u};var n=o(Wo.exports),r=o(Ho.exports);function o(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default}(ca,ca.exports);var da={exports:{}},fa={exports:{}};!function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t,o;if((0,r.default)(1,arguments),e&&"function"==typeof e.forEach)t=e;else{if("object"!=typeof e||null===e)return new Date(NaN);t=Array.prototype.slice.call(e)}return t.forEach((function(e){var t=(0,n.default)(e);(void 0===o||o<t||isNaN(Number(t)))&&(o=t)})),o||new Date(NaN)};var n=o(Wo.exports),r=o(Ho.exports);function o(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default}(fa,fa.exports);var pa={exports:{}};!function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t,o;if((0,r.default)(1,arguments),e&&"function"==typeof e.forEach)t=e;else{if("object"!=typeof e||null===e)return new Date(NaN);t=Array.prototype.slice.call(e)}return t.forEach((function(e){var t=(0,n.default)(e);(void 0===o||o>t||isNaN(t.getDate()))&&(o=t)})),o||new Date(NaN)};var n=o(Wo.exports),r=o(Ho.exports);function o(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default}(pa,pa.exports),function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var a=t.start,i=t.end;return(0,o.default)(2,arguments),(0,r.default)([(0,n.default)([e,a]),i])};var n=a(fa.exports),r=a(pa.exports),o=a(Ho.exports);function a(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default}(da,da.exports);var ha={exports:{}};!function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){(0,r.default)(2,arguments);var o=(0,n.default)(e);if(isNaN(Number(o)))return NaN;var a,i,s,u=o.getTime();a=null==t?[]:"function"==typeof t.forEach?t:Array.prototype.slice.call(t);return a.forEach((function(e,t){var r=(0,n.default)(e);if(isNaN(Number(r)))return i=NaN,void(s=NaN);var o=Math.abs(u-r.getTime());(null==i||o<Number(s))&&(i=t,s=o)})),i};var n=o(Wo.exports),r=o(Ho.exports);function o(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default}(ha,ha.exports);var ma={exports:{}};!function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){(0,r.default)(2,arguments);var o=(0,n.default)(e);if(isNaN(Number(o)))return new Date(NaN);var a,i,s,u=o.getTime();a=null==t?[]:"function"==typeof t.forEach?t:Array.prototype.slice.call(t);return a.forEach((function(e){var t=(0,n.default)(e);if(isNaN(Number(t)))return i=new Date(NaN),void(s=NaN);var r=Math.abs(u-t.getTime());(null==i||r<Number(s))&&(i=t,s=r)})),i};var n=o(Wo.exports),r=o(Ho.exports);function o(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default}(ma,ma.exports);var va={exports:{}};!function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){(0,r.default)(2,arguments);var o=(0,n.default)(e),a=(0,n.default)(t),i=o.getTime()-a.getTime();return i<0?-1:i>0?1:i};var n=o(Wo.exports),r=o(Ho.exports);function o(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default}(va,va.exports);var ga={exports:{}};!function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){(0,r.default)(2,arguments);var o=(0,n.default)(e),a=(0,n.default)(t),i=o.getTime()-a.getTime();return i>0?-1:i<0?1:i};var n=o(Wo.exports),r=o(Ho.exports);function o(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default}(ga,ga.exports);var xa={exports:{}},ya={};Object.defineProperty(ya,"__esModule",{value:!0}),ya.secondsInMinute=ya.secondsInHour=ya.quartersInYear=ya.monthsInYear=ya.monthsInQuarter=ya.minutesInHour=ya.minTime=ya.millisecondsInSecond=ya.millisecondsInHour=ya.millisecondsInMinute=ya.maxTime=ya.daysInWeek=void 0;ya.daysInWeek=7;var ba=24*Math.pow(10,8)*60*60*1e3;ya.maxTime=ba;ya.millisecondsInMinute=6e4;ya.millisecondsInHour=36e5;ya.millisecondsInSecond=1e3;var wa=-ba;ya.minTime=wa;ya.minutesInHour=60;ya.monthsInQuarter=3;ya.monthsInYear=12;ya.quartersInYear=4;ya.secondsInHour=3600;ya.secondsInMinute=60,function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){(0,r.default)(1,arguments);var t=e/o.daysInWeek;return Math.floor(t)};var n,r=(n=Ho.exports)&&n.__esModule?n:{default:n},o=ya;e.exports=t.default}(xa,xa.exports);var _a={exports:{}},Ma={exports:{}};!function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){(0,r.default)(2,arguments);var o=(0,n.default)(e),a=(0,n.default)(t);return o.getTime()===a.getTime()};var n=o(oa.exports),r=o(Ho.exports);function o(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default}(Ma,Ma.exports);var Oa={exports:{}},Ea={exports:{}};!function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,r.default)(1,arguments),e instanceof Date||"object"==typeof e&&"[object Date]"===Object.prototype.toString.call(e)};var n,r=(n=Ho.exports)&&n.__esModule?n:{default:n};e.exports=t.default}(Ea,Ea.exports),function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){if((0,o.default)(1,arguments),!(0,n.default)(e)&&"number"!=typeof e)return!1;var t=(0,r.default)(e);return!isNaN(Number(t))};var n=a(Ea.exports),r=a(Wo.exports),o=a(Ho.exports);function a(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default}(Oa,Oa.exports),function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){(0,u.default)(2,arguments);var c=(0,s.default)(e),d=(0,s.default)(t);if(!(0,a.default)(c)||!(0,a.default)(d))return NaN;var f=(0,r.default)(c,d),p=f<0?-1:1,h=(0,l.default)(f/7),m=5*h;d=(0,n.default)(d,7*h);for(;!(0,o.default)(c,d);)m+=(0,i.default)(d)?0:p,d=(0,n.default)(d,p);return 0===m?0:m};var n=c(Lo.exports),r=c(na.exports),o=c(Ma.exports),a=c(Oa.exports),i=c(zo.exports),s=c(Wo.exports),u=c(Ho.exports),l=c(Fo.exports);function c(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default}(_a,_a.exports);var ka={exports:{}};!function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){return(0,r.default)(2,arguments),(0,n.default)(e)-(0,n.default)(t)};var n=o(Ko.exports),r=o(Ho.exports);function o(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default}(ka,ka.exports);var Ta={exports:{}};!function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){(0,o.default)(2,arguments);var a=(0,r.default)(e),s=(0,r.default)(t),u=a.getTime()-(0,n.default)(a),l=s.getTime()-(0,n.default)(s);return Math.round((u-l)/i)};var n=a(ra.exports),r=a($o.exports),o=a(Ho.exports);function a(e){return e&&e.__esModule?e:{default:e}}var i=6048e5;e.exports=t.default}(Ta,Ta.exports);var Pa={exports:{}};!function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){(0,r.default)(2,arguments);var o=(0,n.default)(e),a=(0,n.default)(t),i=o.getFullYear()-a.getFullYear(),s=o.getMonth()-a.getMonth();return 12*i+s};var n=o(Wo.exports),r=o(Ho.exports);function o(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default}(Pa,Pa.exports);var Ca={exports:{}},Sa={exports:{}};!function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){(0,r.default)(1,arguments);var t=(0,n.default)(e);return Math.floor(t.getMonth()/3)+1};var n=o(Wo.exports),r=o(Ho.exports);function o(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default}(Sa,Sa.exports),function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){(0,o.default)(2,arguments);var a=(0,r.default)(e),i=(0,r.default)(t),s=a.getFullYear()-i.getFullYear(),u=(0,n.default)(a)-(0,n.default)(i);return 4*s+u};var n=a(Sa.exports),r=a(Wo.exports),o=a(Ho.exports);function a(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default}(Ca,Ca.exports);var Na={exports:{}};!function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,a){(0,o.default)(2,arguments);var s=(0,n.default)(e,a),u=(0,n.default)(t,a),l=s.getTime()-(0,r.default)(s),c=u.getTime()-(0,r.default)(u);return Math.round((l-c)/i)};var n=a(Zo.exports),r=a(ra.exports),o=a(Ho.exports);function a(e){return e&&e.__esModule?e:{default:e}}var i=6048e5;e.exports=t.default}(Na,Na.exports);var ja={exports:{}};!function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){(0,r.default)(2,arguments);var o=(0,n.default)(e),a=(0,n.default)(t);return o.getFullYear()-a.getFullYear()};var n=o(Wo.exports),r=o(Ho.exports);function o(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default}(ja,ja.exports);var Ia={exports:{}};!function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){(0,o.default)(2,arguments);var a=(0,n.default)(e),s=(0,n.default)(t),u=i(a,s),l=Math.abs((0,r.default)(a,s));a.setDate(a.getDate()-u*l);var c=Number(i(a,s)===-u),d=u*(l-c);return 0===d?0:d};var n=a(Wo.exports),r=a(na.exports),o=a(Ho.exports);function a(e){return e&&e.__esModule?e:{default:e}}function i(e,t){var n=e.getFullYear()-t.getFullYear()||e.getMonth()-t.getMonth()||e.getDate()-t.getDate()||e.getHours()-t.getHours()||e.getMinutes()-t.getMinutes()||e.getSeconds()-t.getSeconds()||e.getMilliseconds()-t.getMilliseconds();return n<0?-1:n>0?1:n}e.exports=t.default}(Ia,Ia.exports);var Da={exports:{}},Ra={exports:{}};!function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){return(0,r.default)(2,arguments),(0,n.default)(e).getTime()-(0,n.default)(t).getTime()};var n=o(Wo.exports),r=o(Ho.exports);function o(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default}(Ra,Ra.exports);var Ua={};Object.defineProperty(Ua,"__esModule",{value:!0}),Ua.getRoundingMethod=function(e){return e?Aa[e]:Aa[Ya]};var Aa={ceil:Math.ceil,round:Math.round,floor:Math.floor,trunc:function(e){return e<0?Math.ceil(e):Math.floor(e)}},Ya="trunc";!function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,i){(0,o.default)(2,arguments);var s=(0,r.default)(e,t)/n.millisecondsInHour;return(0,a.getRoundingMethod)(null==i?void 0:i.roundingMethod)(s)};var n=ya,r=i(Ra.exports),o=i(Ho.exports),a=Ua;function i(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default}(Da,Da.exports);var La={exports:{}},Fa={exports:{}};!function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){(0,o.default)(2,arguments);var a=(0,n.default)(t);return(0,r.default)(e,-a)};var n=a(Fo.exports),r=a(Go.exports),o=a(Ho.exports);function a(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default}(Fa,Fa.exports),function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){(0,i.default)(2,arguments);var s=(0,n.default)(e),u=(0,n.default)(t),l=(0,o.default)(s,u),c=Math.abs((0,r.default)(s,u));s=(0,a.default)(s,l*c);var d=Number((0,o.default)(s,u)===-l),f=l*(c-d);return 0===f?0:f};var n=s(Wo.exports),r=s(ka.exports),o=s(va.exports),a=s(Fa.exports),i=s(Ho.exports);function s(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default}(La,La.exports);var Wa={exports:{}};!function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,i){(0,o.default)(2,arguments);var s=(0,r.default)(e,t)/n.millisecondsInMinute;return(0,a.getRoundingMethod)(null==i?void 0:i.roundingMethod)(s)};var n=ya,r=i(Ra.exports),o=i(Ho.exports),a=Ua;function i(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default}(Wa,Wa.exports);var Ha={exports:{}},Ba={exports:{}},qa={exports:{}};!function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){(0,r.default)(1,arguments);var t=(0,n.default)(e);return t.setHours(23,59,59,999),t};var n=o(Wo.exports),r=o(Ho.exports);function o(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default}(qa,qa.exports);var za={exports:{}};!function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){(0,r.default)(1,arguments);var t=(0,n.default)(e),o=t.getMonth();return t.setFullYear(t.getFullYear(),o+1,0),t.setHours(23,59,59,999),t};var n=o(Wo.exports),r=o(Ho.exports);function o(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default}(za,za.exports),function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){(0,a.default)(1,arguments);var t=(0,n.default)(e);return(0,r.default)(t).getTime()===(0,o.default)(t).getTime()};var n=i(Wo.exports),r=i(qa.exports),o=i(za.exports),a=i(Ho.exports);function i(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default}(Ba,Ba.exports),function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){(0,a.default)(2,arguments);var s,u=(0,n.default)(e),l=(0,n.default)(t),c=(0,o.default)(u,l),d=Math.abs((0,r.default)(u,l));if(d<1)s=0;else{1===u.getMonth()&&u.getDate()>27&&u.setDate(30),u.setMonth(u.getMonth()-c*d);var f=(0,o.default)(u,l)===-c;(0,i.default)((0,n.default)(e))&&1===d&&1===(0,o.default)(e,l)&&(f=!1),s=c*(d-Number(f))}return 0===s?0:s};var n=s(Wo.exports),r=s(Pa.exports),o=s(va.exports),a=s(Ho.exports),i=s(Ba.exports);function s(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default}(Ha,Ha.exports);var Qa={exports:{}};!function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,a){(0,r.default)(2,arguments);var i=(0,n.default)(e,t)/3;return(0,o.getRoundingMethod)(null==a?void 0:a.roundingMethod)(i)};var n=a(Ha.exports),r=a(Ho.exports),o=Ua;function a(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default}(Qa,Qa.exports);var Va={exports:{}};!function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,a){(0,r.default)(2,arguments);var i=(0,n.default)(e,t)/1e3;return(0,o.getRoundingMethod)(null==a?void 0:a.roundingMethod)(i)};var n=a(Ra.exports),r=a(Ho.exports),o=Ua;function a(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default}(Va,Va.exports);var Ja={exports:{}};!function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,a){(0,r.default)(2,arguments);var i=(0,n.default)(e,t)/7;return(0,o.getRoundingMethod)(null==a?void 0:a.roundingMethod)(i)};var n=a(Ia.exports),r=a(Ho.exports),o=Ua;function a(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default}(Ja,Ja.exports);var Xa={exports:{}};!function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){(0,a.default)(2,arguments);var i=(0,n.default)(e),s=(0,n.default)(t),u=(0,o.default)(i,s),l=Math.abs((0,r.default)(i,s));i.setFullYear(1584),s.setFullYear(1584);var c=(0,o.default)(i,s)===-u,d=u*(l-Number(c));return 0===d?0:d};var n=i(Wo.exports),r=i(ja.exports),o=i(va.exports),a=i(Ho.exports);function i(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default}(Xa,Xa.exports);var Ga={exports:{}};!function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){(0,r.default)(1,arguments);var o=e||{},a=(0,n.default)(o.start),i=(0,n.default)(o.end).getTime();if(!(a.getTime()<=i))throw new RangeError("Invalid interval");var s=[],u=a;u.setHours(0,0,0,0);var l=t&&"step"in t?Number(t.step):1;if(l<1||isNaN(l))throw new RangeError("`options.step` must be a number greater than 1");for(;u.getTime()<=i;)s.push((0,n.default)(u)),u.setDate(u.getDate()+l),u.setHours(0,0,0,0);return s};var n=o(Wo.exports),r=o(Ho.exports);function o(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default}(Ga,Ga.exports);var Ka={exports:{}};!function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){(0,o.default)(1,arguments);var a=e||{},i=(0,r.default)(a.start),s=(0,r.default)(a.end),u=i.getTime(),l=s.getTime();if(!(u<=l))throw new RangeError("Invalid interval");var c=[],d=i;d.setMinutes(0,0,0);var f=t&&"step"in t?Number(t.step):1;if(f<1||isNaN(f))throw new RangeError("`options.step` must be a number greater than 1");for(;d.getTime()<=l;)c.push((0,r.default)(d)),d=(0,n.default)(d,f);return c};var n=a(Jo.exports),r=a(Wo.exports),o=a(Ho.exports);function a(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default}(Ka,Ka.exports);var $a={exports:{}},Za={exports:{}};!function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){(0,r.default)(1,arguments);var t=(0,n.default)(e);return t.setSeconds(0,0),t};var n=o(Wo.exports),r=o(Ho.exports);function o(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default}(Za,Za.exports),function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){(0,a.default)(1,arguments);var i=(0,o.default)((0,r.default)(e.start)),s=(0,r.default)(e.end),u=i.getTime(),l=s.getTime();if(u>=l)throw new RangeError("Invalid interval");var c=[],d=i,f=t&&"step"in t?Number(t.step):1;if(f<1||isNaN(f))throw new RangeError("`options.step` must be a number equal or greater than 1");for(;d.getTime()<=l;)c.push((0,r.default)(d)),d=(0,n.default)(d,f);return c};var n=i(aa.exports),r=i(Wo.exports),o=i(Za.exports),a=i(Ho.exports);function i(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default}($a,$a.exports);var ei={exports:{}};!function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){(0,r.default)(1,arguments);var t=e||{},o=(0,n.default)(t.start),a=(0,n.default)(t.end).getTime(),i=[];if(!(o.getTime()<=a))throw new RangeError("Invalid interval");var s=o;s.setHours(0,0,0,0),s.setDate(1);for(;s.getTime()<=a;)i.push((0,n.default)(s)),s.setMonth(s.getMonth()+1);return i};var n=o(Wo.exports),r=o(Ho.exports);function o(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default}(ei,ei.exports);var ti={exports:{}},ni={exports:{}};!function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){(0,r.default)(1,arguments);var t=(0,n.default)(e),o=t.getMonth(),a=o-o%3;return t.setMonth(a,1),t.setHours(0,0,0,0),t};var n=o(Wo.exports),r=o(Ho.exports);function o(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default}(ni,ni.exports),function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){(0,a.default)(1,arguments);var t=e||{},i=(0,o.default)(t.start),s=(0,o.default)(t.end),u=s.getTime();if(!(i.getTime()<=u))throw new RangeError("Invalid interval");var l=(0,r.default)(i),c=(0,r.default)(s);u=c.getTime();var d=[],f=l;for(;f.getTime()<=u;)d.push((0,o.default)(f)),f=(0,n.default)(f,1);return d};var n=i(ia.exports),r=i(ni.exports),o=i(Wo.exports),a=i(Ho.exports);function i(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default}(ti,ti.exports);var ri={exports:{}};!function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){(0,a.default)(1,arguments);var i=e||{},s=(0,o.default)(i.start),u=(0,o.default)(i.end),l=u.getTime();if(!(s.getTime()<=l))throw new RangeError("Invalid interval");var c=(0,r.default)(s,t),d=(0,r.default)(u,t);c.setHours(15),d.setHours(15),l=d.getTime();var f=[],p=c;for(;p.getTime()<=l;)p.setHours(0),f.push((0,o.default)(p)),(p=(0,n.default)(p,1)).setHours(15);return f};var n=i(ua.exports),r=i(Zo.exports),o=i(Wo.exports),a=i(Ho.exports);function i(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default}(ri,ri.exports);var oi={exports:{}};!function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){(0,a.default)(1,arguments);var t=(0,n.default)(e),i=[],s=0;for(;s<t.length;){var u=t[s++];(0,o.default)(u)&&(i.push(u),(0,r.default)(u)&&(s+=5))}return i};var n=i(Ga.exports),r=i(Qo.exports),o=i(zo.exports),a=i(Ho.exports);function i(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default}(oi,oi.exports);var ai={exports:{}},ii={exports:{}};!function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){(0,r.default)(1,arguments);var t=(0,n.default)(e);return t.setDate(1),t.setHours(0,0,0,0),t};var n=o(Wo.exports),r=o(Ho.exports);function o(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default}(ii,ii.exports),function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){(0,a.default)(1,arguments);var t=(0,r.default)(e);if(isNaN(t.getTime()))throw new RangeError("The passed date is invalid");var i=(0,o.default)(e);return(0,n.default)({start:t,end:i})};var n=i(oi.exports),r=i(ii.exports),o=i(za.exports),a=i(Ho.exports);function i(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default}(ai,ai.exports);var si={exports:{}},ui={exports:{}};!function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){(0,r.default)(1,arguments);var t=(0,n.default)(e),o=new Date(0);return o.setFullYear(t.getFullYear(),0,1),o.setHours(0,0,0,0),o};var n=o(Wo.exports),r=o(Ho.exports);function o(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default}(ui,ui.exports);var li={exports:{}};!function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){(0,r.default)(1,arguments);var t=(0,n.default)(e),o=t.getFullYear();return t.setFullYear(o+1,0,0),t.setHours(23,59,59,999),t};var n=o(Wo.exports),r=o(Ho.exports);function o(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default}(li,li.exports),function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){(0,a.default)(1,arguments);var t=(0,r.default)(e);if(isNaN(t))throw new RangeError("The passed date is invalid");var i=(0,o.default)(e);return(0,n.default)({start:t,end:i})};var n=i(oi.exports),r=i(ui.exports),o=i(li.exports),a=i(Ho.exports);function i(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default}(si,si.exports);var ci={exports:{}};!function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){(0,r.default)(1,arguments);var t=e||{},o=(0,n.default)(t.start),a=(0,n.default)(t.end).getTime();if(!(o.getTime()<=a))throw new RangeError("Invalid interval");var i=[],s=o;s.setHours(0,0,0,0),s.setMonth(0,1);for(;s.getTime()<=a;)i.push((0,n.default)(s)),s.setFullYear(s.getFullYear()+1);return i};var n=o(Wo.exports),r=o(Ho.exports);function o(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default}(ci,ci.exports);var di={exports:{}};!function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){(0,r.default)(1,arguments);var t=(0,n.default)(e),o=t.getFullYear(),a=9+10*Math.floor(o/10);return t.setFullYear(a,11,31),t.setHours(23,59,59,999),t};var n=o(Wo.exports),r=o(Ho.exports);function o(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default}(di,di.exports);var fi={exports:{}};!function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){(0,r.default)(1,arguments);var t=(0,n.default)(e);return t.setMinutes(59,59,999),t};var n=o(Wo.exports),r=o(Ho.exports);function o(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default}(fi,fi.exports);var pi={exports:{}},hi={exports:{}};!function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){(0,o.default)(1,arguments);var a=t||{},i=a.locale,s=i&&i.options&&i.options.weekStartsOn,u=null==s?0:(0,r.default)(s),l=null==a.weekStartsOn?u:(0,r.default)(a.weekStartsOn);if(!(l>=0&&l<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var c=(0,n.default)(e),d=c.getDay(),f=6+(d<l?-7:0)-(d-l);return c.setDate(c.getDate()+f),c.setHours(23,59,59,999),c};var n=a(Wo.exports),r=a(Fo.exports),o=a(Ho.exports);function a(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default}(hi,hi.exports),function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,r.default)(1,arguments),(0,n.default)(e,{weekStartsOn:1})};var n=o(hi.exports),r=o(Ho.exports);function o(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default}(pi,pi.exports);var mi={exports:{}};!function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){(0,o.default)(1,arguments);var t=(0,n.default)(e),a=new Date(0);a.setFullYear(t+1,0,4),a.setHours(0,0,0,0);var i=(0,r.default)(a);return i.setMilliseconds(i.getMilliseconds()-1),i};var n=a(Ko.exports),r=a($o.exports),o=a(Ho.exports);function a(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default}(mi,mi.exports);var vi={exports:{}};!function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){(0,r.default)(1,arguments);var t=(0,n.default)(e);return t.setSeconds(59,999),t};var n=o(Wo.exports),r=o(Ho.exports);function o(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default}(vi,vi.exports);var gi={exports:{}};!function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){(0,r.default)(1,arguments);var t=(0,n.default)(e),o=t.getMonth(),a=o-o%3+3;return t.setMonth(a,0),t.setHours(23,59,59,999),t};var n=o(Wo.exports),r=o(Ho.exports);function o(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default}(gi,gi.exports);var xi={exports:{}};!function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){(0,r.default)(1,arguments);var t=(0,n.default)(e);return t.setMilliseconds(999),t};var n=o(Wo.exports),r=o(Ho.exports);function o(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default}(xi,xi.exports);var yi={exports:{}};!function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){return(0,r.default)(Date.now())};var n,r=(n=qa.exports)&&n.__esModule?n:{default:n};e.exports=t.default}(yi,yi.exports);var bi={exports:{}};!function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var e=new Date,t=e.getFullYear(),n=e.getMonth(),r=e.getDate(),o=new Date(0);return o.setFullYear(t,n,r+1),o.setHours(23,59,59,999),o},e.exports=t.default}(bi,bi.exports);var wi={exports:{}};!function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var e=new Date,t=e.getFullYear(),n=e.getMonth(),r=e.getDate(),o=new Date(0);return o.setFullYear(t,n,r-1),o.setHours(23,59,59,999),o},e.exports=t.default}(wi,wi.exports);var _i={exports:{}},Mi={exports:{}},Oi={exports:{}};!function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},r=function(e,t,r){var o,a=n[e];return o="string"==typeof a?a:1===t?a.one:a.other.replace("{{count}}",t.toString()),null!=r&&r.addSuffix?r.comparison&&r.comparison>0?"in "+o:o+" ago":o};t.default=r,e.exports=t.default}(Oi,Oi.exports);var Ei={exports:{}},ki={exports:{}};!function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.width?String(t.width):e.defaultWidth;return e.formats[n]||e.formats[e.defaultWidth]}},e.exports=t.default}(ki,ki.exports),function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,r=(n=ki.exports)&&n.__esModule?n:{default:n};var o={date:(0,r.default)({formats:{full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},defaultWidth:"full"}),time:(0,r.default)({formats:{full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},defaultWidth:"full"}),dateTime:(0,r.default)({formats:{full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},defaultWidth:"full"})};t.default=o,e.exports=t.default}(Ei,Ei.exports);var Ti={exports:{}};!function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},r=function(e,t,r,o){return n[e]};t.default=r,e.exports=t.default}(Ti,Ti.exports);var Pi={exports:{}},Ci={exports:{}};!function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return function(t,n){var r,o=n||{};if("formatting"===(o.context?String(o.context):"standalone")&&e.formattingValues){var a=e.defaultFormattingWidth||e.defaultWidth,i=o.width?String(o.width):a;r=e.formattingValues[i]||e.formattingValues[a]}else{var s=e.defaultWidth,u=o.width?String(o.width):e.defaultWidth;r=e.values[u]||e.values[s]}return r[e.argumentCallback?e.argumentCallback(t):t]}},e.exports=t.default}(Ci,Ci.exports),function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,r=(n=Ci.exports)&&n.__esModule?n:{default:n};var o={ordinalNumber:function(e,t){var n=Number(e),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},era:(0,r.default)({values:{narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},defaultWidth:"wide"}),quarter:(0,r.default)({values:{narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},defaultWidth:"wide",argumentCallback:function(e){return e-1}}),month:(0,r.default)({values:{narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},defaultWidth:"wide"}),day:(0,r.default)({values:{narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},defaultWidth:"wide"}),dayPeriod:(0,r.default)({values:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},defaultWidth:"wide",formattingValues:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},defaultFormattingWidth:"wide"})};t.default=o,e.exports=t.default}(Pi,Pi.exports);var Si={exports:{}},Ni={exports:{}};!function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.width,o=r&&e.matchPatterns[r]||e.matchPatterns[e.defaultMatchWidth],a=t.match(o);if(!a)return null;var i,s=a[0],u=r&&e.parsePatterns[r]||e.parsePatterns[e.defaultParseWidth],l=Array.isArray(u)?function(e,t){for(var n=0;n<e.length;n++)if(t(e[n]))return n;return}(u,(function(e){return e.test(s)})):function(e,t){for(var n in e)if(e.hasOwnProperty(n)&&t(e[n]))return n;return}(u,(function(e){return e.test(s)}));return i=e.valueCallback?e.valueCallback(l):l,{value:i=n.valueCallback?n.valueCallback(i):i,rest:t.slice(s.length)}}},e.exports=t.default}(Ni,Ni.exports);var ji={exports:{}};!function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.match(e.matchPattern);if(!r)return null;var o=r[0],a=t.match(e.parsePattern);if(!a)return null;var i=e.valueCallback?e.valueCallback(a[0]):a[0];return{value:i=n.valueCallback?n.valueCallback(i):i,rest:t.slice(o.length)}}},e.exports=t.default}(ji,ji.exports),function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=r(Ni.exports);function r(e){return e&&e.__esModule?e:{default:e}}var o={ordinalNumber:(0,r(ji.exports).default)({matchPattern:/^(\d+)(th|st|nd|rd)?/i,parsePattern:/\d+/i,valueCallback:function(e){return parseInt(e,10)}}),era:(0,n.default)({matchPatterns:{narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},defaultMatchWidth:"wide",parsePatterns:{any:[/^b/i,/^(a|c)/i]},defaultParseWidth:"any"}),quarter:(0,n.default)({matchPatterns:{narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},defaultMatchWidth:"wide",parsePatterns:{any:[/1/i,/2/i,/3/i,/4/i]},defaultParseWidth:"any",valueCallback:function(e){return e+1}}),month:(0,n.default)({matchPatterns:{narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},defaultParseWidth:"any"}),day:(0,n.default)({matchPatterns:{narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},defaultParseWidth:"any"}),dayPeriod:(0,n.default)({matchPatterns:{narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},defaultMatchWidth:"any",parsePatterns:{any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},defaultParseWidth:"any"})},a=o;t.default=a,e.exports=t.default}(Si,Si.exports),function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=s(Oi.exports),r=s(Ei.exports),o=s(Ti.exports),a=s(Pi.exports),i=s(Si.exports);function s(e){return e&&e.__esModule?e:{default:e}}var u={code:"en-US",formatDistance:n.default,formatLong:r.default,formatRelative:o.default,localize:a.default,match:i.default,options:{weekStartsOn:0,firstWeekContainsDate:1}};t.default=u,e.exports=t.default}(Mi,Mi.exports);var Ii={exports:{}};!function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){(0,o.default)(2,arguments);var a=(0,n.default)(t);return(0,r.default)(e,-a)};var n=a(Fo.exports),r=a(Xo.exports),o=a(Ho.exports);function a(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default}(Ii,Ii.exports);var Di={exports:{}},Ri={exports:{}};!function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){(0,r.default)(1,arguments);var t=(0,n.default)(e),o=t.getTime();t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0);var i=t.getTime(),s=o-i;return Math.floor(s/a)+1};var n=o(Wo.exports),r=o(Ho.exports);function o(e){return e&&e.__esModule?e:{default:e}}var a=864e5;e.exports=t.default}(Ri,Ri.exports);var Ui={exports:{}},Ai={exports:{}};!function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){(0,r.default)(1,arguments);var t=(0,n.default)(e),o=t.getUTCDay(),a=(o<1?7:0)+o-1;return t.setUTCDate(t.getUTCDate()-a),t.setUTCHours(0,0,0,0),t};var n=o(Wo.exports),r=o(Ho.exports);function o(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default}(Ai,Ai.exports);var Yi={exports:{}},Li={exports:{}};!function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){(0,r.default)(1,arguments);var t=(0,n.default)(e),a=t.getUTCFullYear(),i=new Date(0);i.setUTCFullYear(a+1,0,4),i.setUTCHours(0,0,0,0);var s=(0,o.default)(i),u=new Date(0);u.setUTCFullYear(a,0,4),u.setUTCHours(0,0,0,0);var l=(0,o.default)(u);return t.getTime()>=s.getTime()?a+1:t.getTime()>=l.getTime()?a:a-1};var n=a(Wo.exports),r=a(Ho.exports),o=a(Ai.exports);function a(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default}(Li,Li.exports),function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){(0,o.default)(1,arguments);var t=(0,n.default)(e),a=new Date(0);return a.setUTCFullYear(t,0,4),a.setUTCHours(0,0,0,0),(0,r.default)(a)};var n=a(Li.exports),r=a(Ai.exports),o=a(Ho.exports);function a(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default}(Yi,Yi.exports),function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){(0,a.default)(1,arguments);var t=(0,n.default)(e),i=(0,r.default)(t).getTime()-(0,o.default)(t).getTime();return Math.round(i/s)+1};var n=i(Wo.exports),r=i(Ai.exports),o=i(Yi.exports),a=i(Ho.exports);function i(e){return e&&e.__esModule?e:{default:e}}var s=6048e5;e.exports=t.default}(Ui,Ui.exports);var Fi={exports:{}},Wi={exports:{}};!function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){(0,r.default)(1,arguments);var a=t||{},i=a.locale,s=i&&i.options&&i.options.weekStartsOn,u=null==s?0:(0,o.default)(s),l=null==a.weekStartsOn?u:(0,o.default)(a.weekStartsOn);if(!(l>=0&&l<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var c=(0,n.default)(e),d=c.getUTCDay(),f=(d<l?7:0)+d-l;return c.setUTCDate(c.getUTCDate()-f),c.setUTCHours(0,0,0,0),c};var n=a(Wo.exports),r=a(Ho.exports),o=a(Fo.exports);function a(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default}(Wi,Wi.exports);var Hi={exports:{}},Bi={exports:{}};!function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){(0,r.default)(1,arguments);var i=(0,n.default)(e),s=i.getUTCFullYear(),u=t||{},l=u.locale,c=l&&l.options&&l.options.firstWeekContainsDate,d=null==c?1:(0,a.default)(c),f=null==u.firstWeekContainsDate?d:(0,a.default)(u.firstWeekContainsDate);if(!(f>=1&&f<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var p=new Date(0);p.setUTCFullYear(s+1,0,f),p.setUTCHours(0,0,0,0);var h=(0,o.default)(p,t),m=new Date(0);m.setUTCFullYear(s,0,f),m.setUTCHours(0,0,0,0);var v=(0,o.default)(m,t);return i.getTime()>=h.getTime()?s+1:i.getTime()>=v.getTime()?s:s-1};var n=i(Wo.exports),r=i(Ho.exports),o=i(Wi.exports),a=i(Fo.exports);function i(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default}(Bi,Bi.exports),function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){(0,r.default)(1,arguments);var i=t||{},s=i.locale,u=s&&s.options&&s.options.firstWeekContainsDate,l=null==u?1:(0,a.default)(u),c=null==i.firstWeekContainsDate?l:(0,a.default)(i.firstWeekContainsDate),d=(0,n.default)(e,t),f=new Date(0);return f.setUTCFullYear(d,0,c),f.setUTCHours(0,0,0,0),(0,o.default)(f,t)};var n=i(Bi.exports),r=i(Ho.exports),o=i(Wi.exports),a=i(Fo.exports);function i(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default}(Hi,Hi.exports),function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){(0,a.default)(1,arguments);var i=(0,n.default)(e),u=(0,r.default)(i,t).getTime()-(0,o.default)(i,t).getTime();return Math.round(u/s)+1};var n=i(Wo.exports),r=i(Wi.exports),o=i(Hi.exports),a=i(Ho.exports);function i(e){return e&&e.__esModule?e:{default:e}}var s=6048e5;e.exports=t.default}(Fi,Fi.exports);var qi={exports:{}};!function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var n=e<0?"-":"",r=Math.abs(e).toString();for(;r.length<t;)r="0"+r;return n+r},e.exports=t.default}(qi,qi.exports);var zi={exports:{}};!function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,r=(n=qi.exports)&&n.__esModule?n:{default:n};var o={y:function(e,t){var n=e.getUTCFullYear(),o=n>0?n:1-n;return(0,r.default)("yy"===t?o%100:o,t.length)},M:function(e,t){var n=e.getUTCMonth();return"M"===t?String(n+1):(0,r.default)(n+1,2)},d:function(e,t){return(0,r.default)(e.getUTCDate(),t.length)},a:function(e,t){var n=e.getUTCHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];default:return"am"===n?"a.m.":"p.m."}},h:function(e,t){return(0,r.default)(e.getUTCHours()%12||12,t.length)},H:function(e,t){return(0,r.default)(e.getUTCHours(),t.length)},m:function(e,t){return(0,r.default)(e.getUTCMinutes(),t.length)},s:function(e,t){return(0,r.default)(e.getUTCSeconds(),t.length)},S:function(e,t){var n=t.length,o=e.getUTCMilliseconds(),a=Math.floor(o*Math.pow(10,n-3));return(0,r.default)(a,t.length)}},a=o;t.default=a,e.exports=t.default}(zi,zi.exports),function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(Ri.exports),r=l(Ui.exports),o=l(Li.exports),a=l(Fi.exports),i=l(Bi.exports),s=l(qi.exports),u=l(zi.exports);function l(e){return e&&e.__esModule?e:{default:e}}var c="midnight",d="noon",f="morning",p="afternoon",h="evening",m="night",v={G:function(e,t,n){var r=e.getUTCFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});default:return n.era(r,{width:"wide"})}},y:function(e,t,n){if("yo"===t){var r=e.getUTCFullYear(),o=r>0?r:1-r;return n.ordinalNumber(o,{unit:"year"})}return u.default.y(e,t)},Y:function(e,t,n,r){var o=(0,i.default)(e,r),a=o>0?o:1-o;if("YY"===t){var u=a%100;return(0,s.default)(u,2)}return"Yo"===t?n.ordinalNumber(a,{unit:"year"}):(0,s.default)(a,t.length)},R:function(e,t){var n=(0,o.default)(e);return(0,s.default)(n,t.length)},u:function(e,t){var n=e.getUTCFullYear();return(0,s.default)(n,t.length)},Q:function(e,t,n){var r=Math.ceil((e.getUTCMonth()+1)/3);switch(t){case"Q":return String(r);case"QQ":return(0,s.default)(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(e,t,n){var r=Math.ceil((e.getUTCMonth()+1)/3);switch(t){case"q":return String(r);case"qq":return(0,s.default)(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(e,t,n){var r=e.getUTCMonth();switch(t){case"M":case"MM":return u.default.M(e,t);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(e,t,n){var r=e.getUTCMonth();switch(t){case"L":return String(r+1);case"LL":return(0,s.default)(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(e,t,n,r){var o=(0,a.default)(e,r);return"wo"===t?n.ordinalNumber(o,{unit:"week"}):(0,s.default)(o,t.length)},I:function(e,t,n){var o=(0,r.default)(e);return"Io"===t?n.ordinalNumber(o,{unit:"week"}):(0,s.default)(o,t.length)},d:function(e,t,n){return"do"===t?n.ordinalNumber(e.getUTCDate(),{unit:"date"}):u.default.d(e,t)},D:function(e,t,r){var o=(0,n.default)(e);return"Do"===t?r.ordinalNumber(o,{unit:"dayOfYear"}):(0,s.default)(o,t.length)},E:function(e,t,n){var r=e.getUTCDay();switch(t){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(e,t,n,r){var o=e.getUTCDay(),a=(o-r.weekStartsOn+8)%7||7;switch(t){case"e":return String(a);case"ee":return(0,s.default)(a,2);case"eo":return n.ordinalNumber(a,{unit:"day"});case"eee":return n.day(o,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(o,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(o,{width:"short",context:"formatting"});default:return n.day(o,{width:"wide",context:"formatting"})}},c:function(e,t,n,r){var o=e.getUTCDay(),a=(o-r.weekStartsOn+8)%7||7;switch(t){case"c":return String(a);case"cc":return(0,s.default)(a,t.length);case"co":return n.ordinalNumber(a,{unit:"day"});case"ccc":return n.day(o,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(o,{width:"narrow",context:"standalone"});case"cccccc":return n.day(o,{width:"short",context:"standalone"});default:return n.day(o,{width:"wide",context:"standalone"})}},i:function(e,t,n){var r=e.getUTCDay(),o=0===r?7:r;switch(t){case"i":return String(o);case"ii":return(0,s.default)(o,t.length);case"io":return n.ordinalNumber(o,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(e,t,n){var r=e.getUTCHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(r,{width:"narrow",context:"formatting"});default:return n.dayPeriod(r,{width:"wide",context:"formatting"})}},b:function(e,t,n){var r,o=e.getUTCHours();switch(r=12===o?d:0===o?c:o/12>=1?"pm":"am",t){case"b":case"bb":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(r,{width:"narrow",context:"formatting"});default:return n.dayPeriod(r,{width:"wide",context:"formatting"})}},B:function(e,t,n){var r,o=e.getUTCHours();switch(r=o>=17?h:o>=12?p:o>=4?f:m,t){case"B":case"BB":case"BBB":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(r,{width:"narrow",context:"formatting"});default:return n.dayPeriod(r,{width:"wide",context:"formatting"})}},h:function(e,t,n){if("ho"===t){var r=e.getUTCHours()%12;return 0===r&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return u.default.h(e,t)},H:function(e,t,n){return"Ho"===t?n.ordinalNumber(e.getUTCHours(),{unit:"hour"}):u.default.H(e,t)},K:function(e,t,n){var r=e.getUTCHours()%12;return"Ko"===t?n.ordinalNumber(r,{unit:"hour"}):(0,s.default)(r,t.length)},k:function(e,t,n){var r=e.getUTCHours();return 0===r&&(r=24),"ko"===t?n.ordinalNumber(r,{unit:"hour"}):(0,s.default)(r,t.length)},m:function(e,t,n){return"mo"===t?n.ordinalNumber(e.getUTCMinutes(),{unit:"minute"}):u.default.m(e,t)},s:function(e,t,n){return"so"===t?n.ordinalNumber(e.getUTCSeconds(),{unit:"second"}):u.default.s(e,t)},S:function(e,t){return u.default.S(e,t)},X:function(e,t,n,r){var o=(r._originalDate||e).getTimezoneOffset();if(0===o)return"Z";switch(t){case"X":return x(o);case"XXXX":case"XX":return y(o);default:return y(o,":")}},x:function(e,t,n,r){var o=(r._originalDate||e).getTimezoneOffset();switch(t){case"x":return x(o);case"xxxx":case"xx":return y(o);default:return y(o,":")}},O:function(e,t,n,r){var o=(r._originalDate||e).getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+g(o,":");default:return"GMT"+y(o,":")}},z:function(e,t,n,r){var o=(r._originalDate||e).getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+g(o,":");default:return"GMT"+y(o,":")}},t:function(e,t,n,r){var o=r._originalDate||e,a=Math.floor(o.getTime()/1e3);return(0,s.default)(a,t.length)},T:function(e,t,n,r){var o=(r._originalDate||e).getTime();return(0,s.default)(o,t.length)}};function g(e,t){var n=e>0?"-":"+",r=Math.abs(e),o=Math.floor(r/60),a=r%60;if(0===a)return n+String(o);var i=t||"";return n+String(o)+i+(0,s.default)(a,2)}function x(e,t){return e%60==0?(e>0?"-":"+")+(0,s.default)(Math.abs(e)/60,2):y(e,t)}function y(e,t){var n=t||"",r=e>0?"-":"+",o=Math.abs(e);return r+(0,s.default)(Math.floor(o/60),2)+n+(0,s.default)(o%60,2)}var b=v;t.default=b,e.exports=t.default}(Di,Di.exports);var Qi={exports:{}};!function(e,t){function n(e,t){switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});default:return t.date({width:"full"})}}function r(e,t){switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});default:return t.time({width:"full"})}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o={p:r,P:function(e,t){var o,a=e.match(/(P+)(p+)?/)||[],i=a[1],s=a[2];if(!s)return n(e,t);switch(i){case"P":o=t.dateTime({width:"short"});break;case"PP":o=t.dateTime({width:"medium"});break;case"PPP":o=t.dateTime({width:"long"});break;default:o=t.dateTime({width:"full"})}return o.replace("{{date}}",n(i,t)).replace("{{time}}",r(s,t))}},a=o;t.default=a,e.exports=t.default}(Qi,Qi.exports);var Vi={};Object.defineProperty(Vi,"__esModule",{value:!0}),Vi.isProtectedDayOfYearToken=function(e){return-1!==Ji.indexOf(e)},Vi.isProtectedWeekYearToken=function(e){return-1!==Xi.indexOf(e)},Vi.throwProtectedError=function(e,t,n){if("YYYY"===e)throw new RangeError("Use `yyyy` instead of `YYYY` (in `".concat(t,"`) for formatting years to the input `").concat(n,"`; see: https://git.io/fxCyr"));if("YY"===e)throw new RangeError("Use `yy` instead of `YY` (in `".concat(t,"`) for formatting years to the input `").concat(n,"`; see: https://git.io/fxCyr"));if("D"===e)throw new RangeError("Use `d` instead of `D` (in `".concat(t,"`) for formatting days of the month to the input `").concat(n,"`; see: https://git.io/fxCyr"));if("DD"===e)throw new RangeError("Use `dd` instead of `DD` (in `".concat(t,"`) for formatting days of the month to the input `").concat(n,"`; see: https://git.io/fxCyr"))};var Ji=["D","DD"],Xi=["YY","YYYY"];!function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,f){(0,d.default)(2,arguments);var x=String(t),y=f||{},b=y.locale||r.default,w=b.options&&b.options.firstWeekContainsDate,_=null==w?1:(0,c.default)(w),M=null==y.firstWeekContainsDate?_:(0,c.default)(y.firstWeekContainsDate);if(!(M>=1&&M<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var O=b.options&&b.options.weekStartsOn,E=null==O?0:(0,c.default)(O),k=null==y.weekStartsOn?E:(0,c.default)(y.weekStartsOn);if(!(k>=0&&k<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(!b.localize)throw new RangeError("locale must contain localize property");if(!b.formatLong)throw new RangeError("locale must contain formatLong property");var T=(0,a.default)(e);if(!(0,n.default)(T))throw new RangeError("Invalid time value");var P=(0,u.default)(T),C=(0,o.default)(T,P),S={firstWeekContainsDate:M,weekStartsOn:k,locale:b,_originalDate:T};return x.match(h).map((function(e){var t=e[0];return"p"===t||"P"===t?(0,s.default[t])(e,b.formatLong,S):e})).join("").match(p).map((function(n){if("''"===n)return"'";var r=n[0];if("'"===r)return n.match(m)[1].replace(v,"'");var o=i.default[r];if(o)return!y.useAdditionalWeekYearTokens&&(0,l.isProtectedWeekYearToken)(n)&&(0,l.throwProtectedError)(n,t,e),!y.useAdditionalDayOfYearTokens&&(0,l.isProtectedDayOfYearToken)(n)&&(0,l.throwProtectedError)(n,t,e),o(C,n,b.localize,S);if(r.match(g))throw new RangeError("Format string contains an unescaped latin alphabet character `"+r+"`");return n})).join("")};var n=f(Oa.exports),r=f(Mi.exports),o=f(Ii.exports),a=f(Wo.exports),i=f(Di.exports),s=f(Qi.exports),u=f(ra.exports),l=Vi,c=f(Fo.exports),d=f(Ho.exports);function f(e){return e&&e.__esModule?e:{default:e}}var p=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,h=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,m=/^'([^]*?)'?$/,v=/''/g,g=/[a-zA-Z]/;e.exports=t.default}(_i,_i.exports);var Gi={exports:{}},Ki={exports:{}},$i={exports:{}};!function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if(null==e)throw new TypeError("assign requires that input parameter not be null or undefined");for(var n in t=t||{})Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e},e.exports=t.default}($i,$i.exports),function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,r.default)({},e)};var n,r=(n=$i.exports)&&n.__esModule?n:{default:n};e.exports=t.default}(Ki,Ki.exports),function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var c=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};(0,l.default)(2,arguments);var m=c.locale||a.default;if(!m.formatDistance)throw new RangeError("locale must contain formatDistance property");var v=(0,n.default)(e,t);if(isNaN(v))throw new RangeError("Invalid time value");var g,x,y=(0,s.default)(c);y.addSuffix=Boolean(c.addSuffix),y.comparison=v,v>0?(g=(0,i.default)(t),x=(0,i.default)(e)):(g=(0,i.default)(e),x=(0,i.default)(t));var b,w=(0,o.default)(x,g),_=((0,u.default)(x)-(0,u.default)(g))/1e3,M=Math.round((w-_)/60);if(M<2)return c.includeSeconds?w<5?m.formatDistance("lessThanXSeconds",5,y):w<10?m.formatDistance("lessThanXSeconds",10,y):w<20?m.formatDistance("lessThanXSeconds",20,y):w<40?m.formatDistance("halfAMinute",null,y):w<60?m.formatDistance("lessThanXMinutes",1,y):m.formatDistance("xMinutes",1,y):0===M?m.formatDistance("lessThanXMinutes",1,y):m.formatDistance("xMinutes",M,y);if(M<45)return m.formatDistance("xMinutes",M,y);if(M<90)return m.formatDistance("aboutXHours",1,y);if(M<d){var O=Math.round(M/60);return m.formatDistance("aboutXHours",O,y)}if(M<f)return m.formatDistance("xDays",1,y);if(M<p){var E=Math.round(M/d);return m.formatDistance("xDays",E,y)}if(M<h)return b=Math.round(M/p),m.formatDistance("aboutXMonths",b,y);if((b=(0,r.default)(x,g))<12){var k=Math.round(M/p);return m.formatDistance("xMonths",k,y)}var T=b%12,P=Math.floor(b/12);return T<3?m.formatDistance("aboutXYears",P,y):T<9?m.formatDistance("overXYears",P,y):m.formatDistance("almostXYears",P+1,y)};var n=c(va.exports),r=c(Ha.exports),o=c(Va.exports),a=c(Mi.exports),i=c(Wo.exports),s=c(Ki.exports),u=c(ra.exports),l=c(Ho.exports);function c(e){return e&&e.__esModule?e:{default:e}}var d=1440,f=2520,p=43200,h=86400;e.exports=t.default}(Gi,Gi.exports);var Zi={exports:{}};!function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var u=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};(0,s.default)(2,arguments);var p=u.locale||i.default;if(!p.formatDistance)throw new RangeError("locale must contain localize.formatDistance property");var h=(0,r.default)(e,t);if(isNaN(h))throw new RangeError("Invalid time value");var m,v,g=(0,a.default)(u);g.addSuffix=Boolean(u.addSuffix),g.comparison=h,h>0?(m=(0,o.default)(t),v=(0,o.default)(e)):(m=(0,o.default)(e),v=(0,o.default)(t));var x,y=null==u.roundingMethod?"round":String(u.roundingMethod);if("floor"===y)x=Math.floor;else if("ceil"===y)x=Math.ceil;else{if("round"!==y)throw new RangeError("roundingMethod must be 'floor', 'ceil' or 'round'");x=Math.round}var b,w=v.getTime()-m.getTime(),_=w/l,M=(0,n.default)(v)-(0,n.default)(m),O=(w-M)/l;b=null==u.unit?_<1?"second":_<60?"minute":_<c?"hour":O<d?"day":O<f?"month":"year":String(u.unit);if("second"===b){var E=x(w/1e3);return p.formatDistance("xSeconds",E,g)}if("minute"===b){var k=x(_);return p.formatDistance("xMinutes",k,g)}if("hour"===b){var T=x(_/60);return p.formatDistance("xHours",T,g)}if("day"===b){var P=x(O/c);return p.formatDistance("xDays",P,g)}if("month"===b){var C=x(O/d);return 12===C&&"month"!==u.unit?p.formatDistance("xYears",1,g):p.formatDistance("xMonths",C,g)}if("year"===b){var S=x(O/f);return p.formatDistance("xYears",S,g)}throw new RangeError("unit must be 'second', 'minute', 'hour', 'day', 'month' or 'year'")};var n=u(ra.exports),r=u(va.exports),o=u(Wo.exports),a=u(Ki.exports),i=u(Mi.exports),s=u(Ho.exports);function u(e){return e&&e.__esModule?e:{default:e}}var l=6e4,c=1440,d=30*c,f=365*c;e.exports=t.default}(Zi,Zi.exports);var es={exports:{}};!function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){return(0,r.default)(1,arguments),(0,n.default)(e,Date.now(),t)};var n=o(Gi.exports),r=o(Ho.exports);function o(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default}(es,es.exports);var ts={exports:{}};!function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){return(0,r.default)(1,arguments),(0,n.default)(e,Date.now(),t)};var n=o(Zi.exports),r=o(Ho.exports);function o(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default}(ts,ts.exports);var ns={exports:{}};!function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(arguments.length<1)throw new TypeError("1 argument required, but only ".concat(arguments.length," present"));var n=(null==t?void 0:t.format)||o,a=(null==t?void 0:t.locale)||r.default,i=(null==t?void 0:t.zero)||!1,s=(null==t?void 0:t.delimiter)||" ",u=n.reduce((function(t,n){var r="x".concat(n.replace(/(^.)/,(function(e){return e.toUpperCase()})));return"number"==typeof e[n]&&(i||e[n])&&a.formatDistance?t.concat(a.formatDistance(r,e[n])):t}),[]).join(s);return u};var n,r=(n=Mi.exports)&&n.__esModule?n:{default:n};var o=["years","months","weeks","days","hours","minutes","seconds"];e.exports=t.default}(ns,ns.exports);var rs={exports:{}};!function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){(0,o.default)(1,arguments);var a=(0,n.default)(e);if(isNaN(a.getTime()))throw new RangeError("Invalid time value");var i=null!=t&&t.format?String(t.format):"extended",s=null!=t&&t.representation?String(t.representation):"complete";if("extended"!==i&&"basic"!==i)throw new RangeError("format must be 'extended' or 'basic'");if("date"!==s&&"time"!==s&&"complete"!==s)throw new RangeError("representation must be 'date', 'time', or 'complete'");var u="",l="",c="extended"===i?"-":"",d="extended"===i?":":"";if("time"!==s){var f=(0,r.default)(a.getDate(),2),p=(0,r.default)(a.getMonth()+1,2),h=(0,r.default)(a.getFullYear(),4);u="".concat(h).concat(c).concat(p).concat(c).concat(f)}if("date"!==s){var m=a.getTimezoneOffset();if(0!==m){var v=Math.abs(m),g=(0,r.default)(Math.floor(v/60),2),x=(0,r.default)(v%60,2);l="".concat(m<0?"+":"-").concat(g,":").concat(x)}else l="Z";var y=""===u?"":"T",b=[(0,r.default)(a.getHours(),2),(0,r.default)(a.getMinutes(),2),(0,r.default)(a.getSeconds(),2)].join(d);u="".concat(u).concat(y).concat(b).concat(l)}return u};var n=a(Wo.exports),r=a(qi.exports),o=a(Ho.exports);function a(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default}(rs,rs.exports);var os={exports:{}};!function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if(arguments.length<1)throw new TypeError("1 argument required, but only ".concat(arguments.length," present"));var a=(0,n.default)(e);if(!(0,r.default)(a))throw new RangeError("Invalid time value");var i=t||{},s=null==i.format?"extended":String(i.format),u=null==i.representation?"complete":String(i.representation);if("extended"!==s&&"basic"!==s)throw new RangeError("format must be 'extended' or 'basic'");if("date"!==u&&"time"!==u&&"complete"!==u)throw new RangeError("representation must be 'date', 'time', or 'complete'");var l="",c="extended"===s?"-":"",d="extended"===s?":":"";if("time"!==u){var f=(0,o.default)(a.getDate(),2),p=(0,o.default)(a.getMonth()+1,2),h=(0,o.default)(a.getFullYear(),4);l="".concat(h).concat(c).concat(p).concat(c).concat(f)}if("date"!==u){var m=(0,o.default)(a.getHours(),2),v=(0,o.default)(a.getMinutes(),2),g=(0,o.default)(a.getSeconds(),2),x=""===l?"":" ";l="".concat(l).concat(x).concat(m).concat(d).concat(v).concat(d).concat(g)}return l};var n=a(Wo.exports),r=a(Oa.exports),o=a(qi.exports);function a(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default}(os,os.exports);var as={exports:{}};!function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){if((0,r.default)(1,arguments),"object"!=typeof e)throw new Error("Duration must be an object");var t=e.years,n=void 0===t?0:t,o=e.months,a=void 0===o?0:o,i=e.days,s=void 0===i?0:i,u=e.hours,l=void 0===u?0:u,c=e.minutes,d=void 0===c?0:c,f=e.seconds,p=void 0===f?0:f;return"P".concat(n,"Y").concat(a,"M").concat(s,"DT").concat(l,"H").concat(d,"M").concat(p,"S")};var n,r=(n=Ho.exports)&&n.__esModule?n:{default:n};e.exports=t.default}(as,as.exports);var is={exports:{}};!function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if(arguments.length<1)throw new TypeError("1 arguments required, but only ".concat(arguments.length," present"));var i=(0,n.default)(e);if(!(0,r.default)(i))throw new RangeError("Invalid time value");var s=(t||{}).fractionDigits,u=void 0===s?0:s;if(!(u>=0&&u<=3))throw new RangeError("fractionDigits must be between 0 and 3 inclusively");var l=(0,o.default)(i.getDate(),2),c=(0,o.default)(i.getMonth()+1,2),d=i.getFullYear(),f=(0,o.default)(i.getHours(),2),p=(0,o.default)(i.getMinutes(),2),h=(0,o.default)(i.getSeconds(),2),m="";if(u>0){var v=i.getMilliseconds(),g=Math.floor(v*Math.pow(10,u-3));m="."+(0,o.default)(g,u)}var x="",y=i.getTimezoneOffset();if(0!==y){var b=Math.abs(y),w=(0,o.default)((0,a.default)(b/60),2),_=(0,o.default)(b%60,2);x="".concat(y<0?"+":"-").concat(w,":").concat(_)}else x="Z";return"".concat(d,"-").concat(c,"-").concat(l,"T").concat(f,":").concat(p,":").concat(h).concat(m).concat(x)};var n=i(Wo.exports),r=i(Oa.exports),o=i(qi.exports),a=i(Fo.exports);function i(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default}(is,is.exports);var ss={exports:{}};!function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){if(arguments.length<1)throw new TypeError("1 arguments required, but only ".concat(arguments.length," present"));var t=(0,n.default)(e);if(!(0,r.default)(t))throw new RangeError("Invalid time value");var a=i[t.getUTCDay()],u=(0,o.default)(t.getUTCDate(),2),l=s[t.getUTCMonth()],c=t.getUTCFullYear(),d=(0,o.default)(t.getUTCHours(),2),f=(0,o.default)(t.getUTCMinutes(),2),p=(0,o.default)(t.getUTCSeconds(),2);return"".concat(a,", ").concat(u," ").concat(l," ").concat(c," ").concat(d,":").concat(f,":").concat(p," GMT")};var n=a(Wo.exports),r=a(Oa.exports),o=a(qi.exports);function a(e){return e&&e.__esModule?e:{default:e}}var i=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],s=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];e.exports=t.default}(ss,ss.exports);var us={exports:{}};!function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,l){(0,u.default)(2,arguments);var c=(0,i.default)(e),d=(0,i.default)(t),f=l||{},p=f.locale,h=void 0===p?o.default:p,m=f.weekStartsOn,v=void 0===m?0:m;if(!h.localize)throw new RangeError("locale must contain localize property");if(!h.formatLong)throw new RangeError("locale must contain formatLong property");if(!h.formatRelative)throw new RangeError("locale must contain formatRelative property");var g,x=(0,n.default)(c,d);if(isNaN(x))throw new RangeError("Invalid time value");g=x<-6?"other":x<-1?"lastWeek":x<0?"yesterday":x<1?"today":x<2?"tomorrow":x<7?"nextWeek":"other";var y=(0,a.default)(c,(0,s.default)(c)),b=(0,a.default)(d,(0,s.default)(d)),w=h.formatRelative(g,y,b,{locale:h,weekStartsOn:v});return(0,r.default)(c,w,{locale:h,weekStartsOn:v})};var n=l(na.exports),r=l(_i.exports),o=l(Mi.exports),a=l(Ii.exports),i=l(Wo.exports),s=l(ra.exports),u=l(Ho.exports);function l(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default}(us,us.exports);var ls={exports:{}};!function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){(0,o.default)(1,arguments);var t=(0,r.default)(e);return(0,n.default)(1e3*t)};var n=a(Wo.exports),r=a(Fo.exports),o=a(Ho.exports);function a(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default}(ls,ls.exports);var cs={exports:{}};!function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,r.default)(1,arguments),(0,n.default)(e).getDate()};var n=o(Wo.exports),r=o(Ho.exports);function o(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default}(cs,cs.exports);var ds={exports:{}};!function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,r.default)(1,arguments),(0,n.default)(e).getDay()};var n=o(Wo.exports),r=o(Ho.exports);function o(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default}(ds,ds.exports);var fs={exports:{}};!function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){(0,a.default)(1,arguments);var t=(0,n.default)(e);return(0,o.default)(t,(0,r.default)(t))+1};var n=i(Wo.exports),r=i(ui.exports),o=i(na.exports),a=i(Ho.exports);function i(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default}(fs,fs.exports);var ps={exports:{}};!function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){(0,r.default)(1,arguments);var t=(0,n.default)(e),o=t.getFullYear(),a=t.getMonth(),i=new Date(0);return i.setFullYear(o,a+1,0),i.setHours(0,0,0,0),i.getDate()};var n=o(Wo.exports),r=o(Ho.exports);function o(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default}(ps,ps.exports);var hs={exports:{}},ms={exports:{}};!function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){(0,r.default)(1,arguments);var t=(0,n.default)(e).getFullYear();return t%400==0||t%4==0&&t%100!=0};var n=o(Wo.exports),r=o(Ho.exports);function o(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default}(ms,ms.exports),function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){(0,o.default)(1,arguments);var t=(0,n.default)(e);if("Invalid Date"===String(new Date(t)))return NaN;return(0,r.default)(t)?366:365};var n=a(Wo.exports),r=a(ms.exports),o=a(Ho.exports);function a(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default}(hs,hs.exports);var vs={exports:{}};!function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){(0,r.default)(1,arguments);var t=(0,n.default)(e).getFullYear();return 10*Math.floor(t/10)};var n=o(Wo.exports),r=o(Ho.exports);function o(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default}(vs,vs.exports);var gs={exports:{}};!function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,r.default)(1,arguments),(0,n.default)(e).getHours()};var n=o(Wo.exports),r=o(Ho.exports);function o(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default}(gs,gs.exports);var xs={exports:{}};!function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){(0,r.default)(1,arguments);var t=(0,n.default)(e).getDay();0===t&&(t=7);return t};var n=o(Wo.exports),r=o(Ho.exports);function o(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default}(xs,xs.exports);var ys={exports:{}};!function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){(0,a.default)(1,arguments);var t=(0,n.default)(e),i=(0,r.default)(t).getTime()-(0,o.default)(t).getTime();return Math.round(i/s)+1};var n=i(Wo.exports),r=i($o.exports),o=i(ta.exports),a=i(Ho.exports);function i(e){return e&&e.__esModule?e:{default:e}}var s=6048e5;e.exports=t.default}(ys,ys.exports);var bs={exports:{}};!function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){(0,o.default)(1,arguments);var t=(0,n.default)(e),a=(0,n.default)((0,r.default)(t,60)).valueOf()-t.valueOf();return Math.round(a/i)};var n=a(ta.exports),r=a(ua.exports),o=a(Ho.exports);function a(e){return e&&e.__esModule?e:{default:e}}var i=6048e5;e.exports=t.default}(bs,bs.exports);var ws={exports:{}};!function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){(0,r.default)(1,arguments);var t=(0,n.default)(e).getMilliseconds();return t};var n=o(Wo.exports),r=o(Ho.exports);function o(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default}(ws,ws.exports);var _s={exports:{}};!function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,r.default)(1,arguments),(0,n.default)(e).getMinutes()};var n=o(Wo.exports),r=o(Ho.exports);function o(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default}(_s,_s.exports);var Ms={exports:{}};!function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,r.default)(1,arguments),(0,n.default)(e).getMonth()};var n=o(Wo.exports),r=o(Ho.exports);function o(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default}(Ms,Ms.exports);var Os={exports:{}};!function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){(0,r.default)(2,arguments);var o=e||{},i=t||{},s=(0,n.default)(o.start).getTime(),u=(0,n.default)(o.end).getTime(),l=(0,n.default)(i.start).getTime(),c=(0,n.default)(i.end).getTime();if(!(s<=u&&l<=c))throw new RangeError("Invalid interval");if(!(s<c&&l<u))return 0;var d=(c>u?u:c)-(l<s?s:l);return Math.ceil(d/a)};var n=o(Wo.exports),r=o(Ho.exports);function o(e){return e&&e.__esModule?e:{default:e}}var a=864e5;e.exports=t.default}(Os,Os.exports);var Es={exports:{}};!function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,r.default)(1,arguments),(0,n.default)(e).getSeconds()};var n=o(Wo.exports),r=o(Ho.exports);function o(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default}(Es,Es.exports);var ks={exports:{}};!function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,r.default)(1,arguments),(0,n.default)(e).getTime()};var n=o(Wo.exports),r=o(Ho.exports);function o(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default}(ks,ks.exports);var Ts={exports:{}};!function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,r.default)(1,arguments),Math.floor((0,n.default)(e)/1e3)};var n=o(ks.exports),r=o(Ho.exports);function o(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default}(Ts,Ts.exports);var Ps={exports:{}},Cs={exports:{}},Ss={exports:{}};!function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var i,s;(0,a.default)(1,arguments);var u=(0,r.default)(e),l=u.getFullYear(),c=null==t||null===(i=t.locale)||void 0===i||null===(s=i.options)||void 0===s?void 0:s.firstWeekContainsDate,d=null==c?1:(0,o.default)(c),f=null==(null==t?void 0:t.firstWeekContainsDate)?d:(0,o.default)(t.firstWeekContainsDate);if(!(f>=1&&f<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var p=new Date(0);p.setFullYear(l+1,0,f),p.setHours(0,0,0,0);var h=(0,n.default)(p,t),m=new Date(0);m.setFullYear(l,0,f),m.setHours(0,0,0,0);var v=(0,n.default)(m,t);return u.getTime()>=h.getTime()?l+1:u.getTime()>=v.getTime()?l:l-1};var n=i(Zo.exports),r=i(Wo.exports),o=i(Fo.exports),a=i(Ho.exports);function i(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default}(Ss,Ss.exports),function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){(0,a.default)(1,arguments);var i=t||{},s=i.locale,u=s&&s.options&&s.options.firstWeekContainsDate,l=null==u?1:(0,o.default)(u),c=null==i.firstWeekContainsDate?l:(0,o.default)(i.firstWeekContainsDate),d=(0,n.default)(e,t),f=new Date(0);return f.setFullYear(d,0,c),f.setHours(0,0,0,0),(0,r.default)(f,t)};var n=i(Ss.exports),r=i(Zo.exports),o=i(Fo.exports),a=i(Ho.exports);function i(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default}(Cs,Cs.exports),function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){(0,a.default)(1,arguments);var i=(0,o.default)(e),u=(0,n.default)(i,t).getTime()-(0,r.default)(i,t).getTime();return Math.round(u/s)+1};var n=i(Zo.exports),r=i(Cs.exports),o=i(Wo.exports),a=i(Ho.exports);function i(e){return e&&e.__esModule?e:{default:e}}var s=6048e5;e.exports=t.default}(Ps,Ps.exports);var Ns={exports:{}};!function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var s,u;(0,a.default)(1,arguments);var l=(null==t||null===(s=t.locale)||void 0===s||null===(u=s.options)||void 0===u?void 0:u.weekStartsOn)||0,c=null==(null==t?void 0:t.weekStartsOn)?(0,i.default)(l):(0,i.default)(t.weekStartsOn);if(!(c>=0&&c<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var d=(0,n.default)(e);if(isNaN(d))return NaN;var f=(0,r.default)((0,o.default)(e)),p=c-f;p<=0&&(p+=7);var h=d-p;return Math.ceil(h/7)+1};var n=s(cs.exports),r=s(ds.exports),o=s(ii.exports),a=s(Ho.exports),i=s(Fo.exports);function s(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default}(Ns,Ns.exports);var js={exports:{}},Is={exports:{}};!function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){(0,r.default)(1,arguments);var t=(0,n.default)(e),o=t.getMonth();return t.setFullYear(t.getFullYear(),o+1,0),t.setHours(0,0,0,0),t};var n=o(Wo.exports),r=o(Ho.exports);function o(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default}(Is,Is.exports),function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){return(0,a.default)(1,arguments),(0,n.default)((0,r.default)(e),(0,o.default)(e),t)+1};var n=i(Na.exports),r=i(Is.exports),o=i(ii.exports),a=i(Ho.exports);function i(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default}(js,js.exports);var Ds={exports:{}};!function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,r.default)(1,arguments),(0,n.default)(e).getFullYear()};var n=o(Wo.exports),r=o(Ho.exports);function o(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default}(Ds,Ds.exports);var Rs={exports:{}};!function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,r.default)(1,arguments),Math.floor(e*o.millisecondsInHour)};var n,r=(n=Ho.exports)&&n.__esModule?n:{default:n},o=ya;e.exports=t.default}(Rs,Rs.exports);var Us={exports:{}};!function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,r.default)(1,arguments),Math.floor(e*o.minutesInHour)};var n,r=(n=Ho.exports)&&n.__esModule?n:{default:n},o=ya;e.exports=t.default}(Us,Us.exports);var As={exports:{}};!function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,r.default)(1,arguments),Math.floor(e*o.secondsInHour)};var n,r=(n=Ho.exports)&&n.__esModule?n:{default:n},o=ya;e.exports=t.default}(As,As.exports);var Ys={exports:{}},Ls={exports:{}},Fs={exports:{}};!function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){(0,o.default)(2,arguments);var a=(0,n.default)(t);return(0,r.default)(e,-a)};var n=a(Fo.exports),r=a(Lo.exports),o=a(Ho.exports);function a(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default}(Fs,Fs.exports);var Ws={exports:{}};!function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){(0,o.default)(2,arguments);var a=(0,n.default)(t);return(0,r.default)(e,-a)};var n=a(Fo.exports),r=a(Bo.exports),o=a(Ho.exports);function a(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default}(Ws,Ws.exports),function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if((0,o.default)(2,arguments),!t||"object"!=typeof t)return new Date(NaN);var i=t.years?(0,a.default)(t.years):0,s=t.months?(0,a.default)(t.months):0,u=t.weeks?(0,a.default)(t.weeks):0,l=t.days?(0,a.default)(t.days):0,c=t.hours?(0,a.default)(t.hours):0,d=t.minutes?(0,a.default)(t.minutes):0,f=t.seconds?(0,a.default)(t.seconds):0,p=(0,r.default)(e,s+12*i),h=(0,n.default)(p,l+7*u),m=1e3*(f+60*(d+60*c));return new Date(h.getTime()-m)};var n=i(Fs.exports),r=i(Ws.exports),o=i(Ho.exports),a=i(Fo.exports);function i(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default}(Ls,Ls.exports),function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.start,p=e.end;(0,c.default)(1,arguments);var h=(0,d.default)(t),m=(0,d.default)(p);if(!(0,l.default)(h))throw new RangeError("Start Date is invalid");if(!(0,l.default)(m))throw new RangeError("End Date is invalid");var v={years:0,months:0,days:0,hours:0,minutes:0,seconds:0},g=(0,n.default)(h,m);v.years=Math.abs((0,r.default)(h,m));var x=(0,f.default)(h,{years:g*v.years});v.months=Math.abs((0,o.default)(x,m));var y=(0,f.default)(x,{months:g*v.months});v.days=Math.abs((0,a.default)(y,m));var b=(0,f.default)(y,{days:g*v.days});v.hours=Math.abs((0,i.default)(b,m));var w=(0,f.default)(b,{hours:g*v.hours});v.minutes=Math.abs((0,s.default)(w,m));var _=(0,f.default)(w,{minutes:g*v.minutes});return v.seconds=Math.abs((0,u.default)(_,m)),v};var n=p(va.exports),r=p(Xa.exports),o=p(Ha.exports),a=p(Ia.exports),i=p(Da.exports),s=p(Wa.exports),u=p(Va.exports),l=p(Oa.exports),c=p(Ho.exports),d=p(Wo.exports),f=p(Ls.exports);function p(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default}(Ys,Ys.exports);var Hs={exports:{}};!function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n){var o,a;(0,r.default)(1,arguments),function(e){return void 0!==e&&!("locale"in e)}(t)?a=t:n=t;return new Intl.DateTimeFormat(null===(o=n)||void 0===o?void 0:o.locale,a).format(e)};var n,r=(n=Ho.exports)&&n.__esModule?n:{default:n};e.exports=t.default}(Hs,Hs.exports);var Bs={exports:{}};!function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){(0,r.default)(2,arguments);var o=(0,n.default)(e),a=(0,n.default)(t);return o.getTime()>a.getTime()};var n=o(Wo.exports),r=o(Ho.exports);function o(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default}(Bs,Bs.exports);var qs={exports:{}};!function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){(0,r.default)(2,arguments);var o=(0,n.default)(e),a=(0,n.default)(t);return o.getTime()<a.getTime()};var n=o(Wo.exports),r=o(Ho.exports);function o(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default}(qs,qs.exports);var zs={exports:{}};!function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){(0,r.default)(2,arguments);var o=(0,n.default)(e),a=(0,n.default)(t);return o.getTime()===a.getTime()};var n=o(Wo.exports),r=o(Ho.exports);function o(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default}(zs,zs.exports);var Qs={exports:{}};!function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n){if(arguments.length<3)throw new TypeError("3 argument required, but only "+arguments.length+" present");var r=new Date(e,t,n);return r.getFullYear()===e&&r.getMonth()===t&&r.getDate()===n},e.exports=t.default}(Qs,Qs.exports);var Vs={exports:{}};!function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,r.default)(1,arguments),1===(0,n.default)(e).getDate()};var n=o(Wo.exports),r=o(Ho.exports);function o(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default}(Vs,Vs.exports);var Js={exports:{}};!function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,r.default)(1,arguments),5===(0,n.default)(e).getDay()};var n=o(Wo.exports),r=o(Ho.exports);function o(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default}(Js,Js.exports);var Xs={exports:{}};!function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,r.default)(1,arguments),(0,n.default)(e).getTime()>Date.now()};var n=o(Wo.exports),r=o(Ho.exports);function o(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default}(Xs,Xs.exports);var Gs={exports:{}},Ks={exports:{}},$s={exports:{}},Zs={exports:{}};!function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,a){(0,r.default)(2,arguments);var i=a||{},s=i.locale,u=s&&s.options&&s.options.weekStartsOn,l=null==u?0:(0,o.default)(u),c=null==i.weekStartsOn?l:(0,o.default)(i.weekStartsOn);if(!(c>=0&&c<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var d=(0,n.default)(e),f=(0,o.default)(t),p=d.getUTCDay(),h=((f%7+7)%7<c?7:0)+f-p;return d.setUTCDate(d.getUTCDate()+h),d};var n=a(Wo.exports),r=a(Ho.exports),o=a(Fo.exports);function a(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default}(Zs,Zs.exports);var eu={exports:{}};!function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){(0,r.default)(2,arguments);var a=(0,o.default)(t);a%7==0&&(a-=7);var i=(0,n.default)(e),s=i.getUTCDay(),u=((a%7+7)%7<1?7:0)+a-s;return i.setUTCDate(i.getUTCDate()+u),i};var n=a(Wo.exports),r=a(Ho.exports),o=a(Fo.exports);function a(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default}(eu,eu.exports);var tu={exports:{}};!function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){(0,a.default)(2,arguments);var i=(0,r.default)(e),s=(0,n.default)(t),u=(0,o.default)(i)-s;return i.setUTCDate(i.getUTCDate()-7*u),i};var n=i(Fo.exports),r=i(Wo.exports),o=i(Ui.exports),a=i(Ho.exports);function i(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default}(tu,tu.exports);var nu={exports:{}};!function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,i){(0,a.default)(2,arguments);var s=(0,r.default)(e),u=(0,n.default)(t),l=(0,o.default)(s,i)-u;return s.setUTCDate(s.getUTCDate()-7*l),s};var n=i(Fo.exports),r=i(Wo.exports),o=i(Fi.exports),a=i(Ho.exports);function i(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default}(nu,nu.exports),function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=l(Bi.exports),r=l(Zs.exports),o=l(eu.exports),a=l(tu.exports),i=l(nu.exports),s=l(Ai.exports),u=l(Wi.exports);function l(e){return e&&e.__esModule?e:{default:e}}var c=/^(1[0-2]|0?\d)/,d=/^(3[0-1]|[0-2]?\d)/,f=/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,p=/^(5[0-3]|[0-4]?\d)/,h=/^(2[0-3]|[0-1]?\d)/,m=/^(2[0-4]|[0-1]?\d)/,v=/^(1[0-1]|0?\d)/,g=/^(1[0-2]|0?\d)/,x=/^[0-5]?\d/,y=/^[0-5]?\d/,b=/^\d/,w=/^\d{1,2}/,_=/^\d{1,3}/,M=/^\d{1,4}/,O=/^-?\d+/,E=/^-?\d/,k=/^-?\d{1,2}/,T=/^-?\d{1,3}/,P=/^-?\d{1,4}/,C=/^([+-])(\d{2})(\d{2})?|Z/,S=/^([+-])(\d{2})(\d{2})|Z/,N=/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,j=/^([+-])(\d{2}):(\d{2})|Z/,I=/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/;function D(e,t,n){var r=t.match(e);if(!r)return null;var o=parseInt(r[0],10);return{value:n?n(o):o,rest:t.slice(r[0].length)}}function R(e,t){var n=t.match(e);return n?"Z"===n[0]?{value:0,rest:t.slice(1)}:{value:("+"===n[1]?1:-1)*(36e5*(n[2]?parseInt(n[2],10):0)+6e4*(n[3]?parseInt(n[3],10):0)+1e3*(n[5]?parseInt(n[5],10):0)),rest:t.slice(n[0].length)}:null}function U(e,t){return D(O,e,t)}function A(e,t,n){switch(e){case 1:return D(b,t,n);case 2:return D(w,t,n);case 3:return D(_,t,n);case 4:return D(M,t,n);default:return D(new RegExp("^\\d{1,"+e+"}"),t,n)}}function Y(e,t,n){switch(e){case 1:return D(E,t,n);case 2:return D(k,t,n);case 3:return D(T,t,n);case 4:return D(P,t,n);default:return D(new RegExp("^-?\\d{1,"+e+"}"),t,n)}}function L(e){switch(e){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;default:return 0}}function F(e,t){var n,r=t>0,o=r?t:1-t;if(o<=50)n=e||100;else{var a=o+50;n=e+100*Math.floor(a/100)-(e>=a%100?100:0)}return r?n:1-n}var W=[31,28,31,30,31,30,31,31,30,31,30,31],H=[31,29,31,30,31,30,31,31,30,31,30,31];function B(e){return e%400==0||e%4==0&&e%100!=0}var q={G:{priority:140,parse:function(e,t,n,r){switch(t){case"G":case"GG":case"GGG":return n.era(e,{width:"abbreviated"})||n.era(e,{width:"narrow"});case"GGGGG":return n.era(e,{width:"narrow"});default:return n.era(e,{width:"wide"})||n.era(e,{width:"abbreviated"})||n.era(e,{width:"narrow"})}},set:function(e,t,n,r){return t.era=n,e.setUTCFullYear(n,0,1),e.setUTCHours(0,0,0,0),e},incompatibleTokens:["R","u","t","T"]},y:{priority:130,parse:function(e,t,n,r){var o=function(e){return{year:e,isTwoDigitYear:"yy"===t}};switch(t){case"y":return A(4,e,o);case"yo":return n.ordinalNumber(e,{unit:"year",valueCallback:o});default:return A(t.length,e,o)}},validate:function(e,t,n){return t.isTwoDigitYear||t.year>0},set:function(e,t,n,r){var o=e.getUTCFullYear();if(n.isTwoDigitYear){var a=F(n.year,o);return e.setUTCFullYear(a,0,1),e.setUTCHours(0,0,0,0),e}var i="era"in t&&1!==t.era?1-n.year:n.year;return e.setUTCFullYear(i,0,1),e.setUTCHours(0,0,0,0),e},incompatibleTokens:["Y","R","u","w","I","i","e","c","t","T"]},Y:{priority:130,parse:function(e,t,n,r){var o=function(e){return{year:e,isTwoDigitYear:"YY"===t}};switch(t){case"Y":return A(4,e,o);case"Yo":return n.ordinalNumber(e,{unit:"year",valueCallback:o});default:return A(t.length,e,o)}},validate:function(e,t,n){return t.isTwoDigitYear||t.year>0},set:function(e,t,r,o){var a=(0,n.default)(e,o);if(r.isTwoDigitYear){var i=F(r.year,a);return e.setUTCFullYear(i,0,o.firstWeekContainsDate),e.setUTCHours(0,0,0,0),(0,u.default)(e,o)}var s="era"in t&&1!==t.era?1-r.year:r.year;return e.setUTCFullYear(s,0,o.firstWeekContainsDate),e.setUTCHours(0,0,0,0),(0,u.default)(e,o)},incompatibleTokens:["y","R","u","Q","q","M","L","I","d","D","i","t","T"]},R:{priority:130,parse:function(e,t,n,r){return Y("R"===t?4:t.length,e)},set:function(e,t,n,r){var o=new Date(0);return o.setUTCFullYear(n,0,4),o.setUTCHours(0,0,0,0),(0,s.default)(o)},incompatibleTokens:["G","y","Y","u","Q","q","M","L","w","d","D","e","c","t","T"]},u:{priority:130,parse:function(e,t,n,r){return Y("u"===t?4:t.length,e)},set:function(e,t,n,r){return e.setUTCFullYear(n,0,1),e.setUTCHours(0,0,0,0),e},incompatibleTokens:["G","y","Y","R","w","I","i","e","c","t","T"]},Q:{priority:120,parse:function(e,t,n,r){switch(t){case"Q":case"QQ":return A(t.length,e);case"Qo":return n.ordinalNumber(e,{unit:"quarter"});case"QQQ":return n.quarter(e,{width:"abbreviated",context:"formatting"})||n.quarter(e,{width:"narrow",context:"formatting"});case"QQQQQ":return n.quarter(e,{width:"narrow",context:"formatting"});default:return n.quarter(e,{width:"wide",context:"formatting"})||n.quarter(e,{width:"abbreviated",context:"formatting"})||n.quarter(e,{width:"narrow",context:"formatting"})}},validate:function(e,t,n){return t>=1&&t<=4},set:function(e,t,n,r){return e.setUTCMonth(3*(n-1),1),e.setUTCHours(0,0,0,0),e},incompatibleTokens:["Y","R","q","M","L","w","I","d","D","i","e","c","t","T"]},q:{priority:120,parse:function(e,t,n,r){switch(t){case"q":case"qq":return A(t.length,e);case"qo":return n.ordinalNumber(e,{unit:"quarter"});case"qqq":return n.quarter(e,{width:"abbreviated",context:"standalone"})||n.quarter(e,{width:"narrow",context:"standalone"});case"qqqqq":return n.quarter(e,{width:"narrow",context:"standalone"});default:return n.quarter(e,{width:"wide",context:"standalone"})||n.quarter(e,{width:"abbreviated",context:"standalone"})||n.quarter(e,{width:"narrow",context:"standalone"})}},validate:function(e,t,n){return t>=1&&t<=4},set:function(e,t,n,r){return e.setUTCMonth(3*(n-1),1),e.setUTCHours(0,0,0,0),e},incompatibleTokens:["Y","R","Q","M","L","w","I","d","D","i","e","c","t","T"]},M:{priority:110,parse:function(e,t,n,r){var o=function(e){return e-1};switch(t){case"M":return D(c,e,o);case"MM":return A(2,e,o);case"Mo":return n.ordinalNumber(e,{unit:"month",valueCallback:o});case"MMM":return n.month(e,{width:"abbreviated",context:"formatting"})||n.month(e,{width:"narrow",context:"formatting"});case"MMMMM":return n.month(e,{width:"narrow",context:"formatting"});default:return n.month(e,{width:"wide",context:"formatting"})||n.month(e,{width:"abbreviated",context:"formatting"})||n.month(e,{width:"narrow",context:"formatting"})}},validate:function(e,t,n){return t>=0&&t<=11},set:function(e,t,n,r){return e.setUTCMonth(n,1),e.setUTCHours(0,0,0,0),e},incompatibleTokens:["Y","R","q","Q","L","w","I","D","i","e","c","t","T"]},L:{priority:110,parse:function(e,t,n,r){var o=function(e){return e-1};switch(t){case"L":return D(c,e,o);case"LL":return A(2,e,o);case"Lo":return n.ordinalNumber(e,{unit:"month",valueCallback:o});case"LLL":return n.month(e,{width:"abbreviated",context:"standalone"})||n.month(e,{width:"narrow",context:"standalone"});case"LLLLL":return n.month(e,{width:"narrow",context:"standalone"});default:return n.month(e,{width:"wide",context:"standalone"})||n.month(e,{width:"abbreviated",context:"standalone"})||n.month(e,{width:"narrow",context:"standalone"})}},validate:function(e,t,n){return t>=0&&t<=11},set:function(e,t,n,r){return e.setUTCMonth(n,1),e.setUTCHours(0,0,0,0),e},incompatibleTokens:["Y","R","q","Q","M","w","I","D","i","e","c","t","T"]},w:{priority:100,parse:function(e,t,n,r){switch(t){case"w":return D(p,e);case"wo":return n.ordinalNumber(e,{unit:"week"});default:return A(t.length,e)}},validate:function(e,t,n){return t>=1&&t<=53},set:function(e,t,n,r){return(0,u.default)((0,i.default)(e,n,r),r)},incompatibleTokens:["y","R","u","q","Q","M","L","I","d","D","i","t","T"]},I:{priority:100,parse:function(e,t,n,r){switch(t){case"I":return D(p,e);case"Io":return n.ordinalNumber(e,{unit:"week"});default:return A(t.length,e)}},validate:function(e,t,n){return t>=1&&t<=53},set:function(e,t,n,r){return(0,s.default)((0,a.default)(e,n,r),r)},incompatibleTokens:["y","Y","u","q","Q","M","L","w","d","D","e","c","t","T"]},d:{priority:90,subPriority:1,parse:function(e,t,n,r){switch(t){case"d":return D(d,e);case"do":return n.ordinalNumber(e,{unit:"date"});default:return A(t.length,e)}},validate:function(e,t,n){var r=B(e.getUTCFullYear()),o=e.getUTCMonth();return r?t>=1&&t<=H[o]:t>=1&&t<=W[o]},set:function(e,t,n,r){return e.setUTCDate(n),e.setUTCHours(0,0,0,0),e},incompatibleTokens:["Y","R","q","Q","w","I","D","i","e","c","t","T"]},D:{priority:90,subPriority:1,parse:function(e,t,n,r){switch(t){case"D":case"DD":return D(f,e);case"Do":return n.ordinalNumber(e,{unit:"date"});default:return A(t.length,e)}},validate:function(e,t,n){return B(e.getUTCFullYear())?t>=1&&t<=366:t>=1&&t<=365},set:function(e,t,n,r){return e.setUTCMonth(0,n),e.setUTCHours(0,0,0,0),e},incompatibleTokens:["Y","R","q","Q","M","L","w","I","d","E","i","e","c","t","T"]},E:{priority:90,parse:function(e,t,n,r){switch(t){case"E":case"EE":case"EEE":return n.day(e,{width:"abbreviated",context:"formatting"})||n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"});case"EEEEE":return n.day(e,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"});default:return n.day(e,{width:"wide",context:"formatting"})||n.day(e,{width:"abbreviated",context:"formatting"})||n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"})}},validate:function(e,t,n){return t>=0&&t<=6},set:function(e,t,n,o){return(e=(0,r.default)(e,n,o)).setUTCHours(0,0,0,0),e},incompatibleTokens:["D","i","e","c","t","T"]},e:{priority:90,parse:function(e,t,n,r){var o=function(e){var t=7*Math.floor((e-1)/7);return(e+r.weekStartsOn+6)%7+t};switch(t){case"e":case"ee":return A(t.length,e,o);case"eo":return n.ordinalNumber(e,{unit:"day",valueCallback:o});case"eee":return n.day(e,{width:"abbreviated",context:"formatting"})||n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"});case"eeeee":return n.day(e,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"});default:return n.day(e,{width:"wide",context:"formatting"})||n.day(e,{width:"abbreviated",context:"formatting"})||n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"})}},validate:function(e,t,n){return t>=0&&t<=6},set:function(e,t,n,o){return(e=(0,r.default)(e,n,o)).setUTCHours(0,0,0,0),e},incompatibleTokens:["y","R","u","q","Q","M","L","I","d","D","E","i","c","t","T"]},c:{priority:90,parse:function(e,t,n,r){var o=function(e){var t=7*Math.floor((e-1)/7);return(e+r.weekStartsOn+6)%7+t};switch(t){case"c":case"cc":return A(t.length,e,o);case"co":return n.ordinalNumber(e,{unit:"day",valueCallback:o});case"ccc":return n.day(e,{width:"abbreviated",context:"standalone"})||n.day(e,{width:"short",context:"standalone"})||n.day(e,{width:"narrow",context:"standalone"});case"ccccc":return n.day(e,{width:"narrow",context:"standalone"});case"cccccc":return n.day(e,{width:"short",context:"standalone"})||n.day(e,{width:"narrow",context:"standalone"});default:return n.day(e,{width:"wide",context:"standalone"})||n.day(e,{width:"abbreviated",context:"standalone"})||n.day(e,{width:"short",context:"standalone"})||n.day(e,{width:"narrow",context:"standalone"})}},validate:function(e,t,n){return t>=0&&t<=6},set:function(e,t,n,o){return(e=(0,r.default)(e,n,o)).setUTCHours(0,0,0,0),e},incompatibleTokens:["y","R","u","q","Q","M","L","I","d","D","E","i","e","t","T"]},i:{priority:90,parse:function(e,t,n,r){var o=function(e){return 0===e?7:e};switch(t){case"i":case"ii":return A(t.length,e);case"io":return n.ordinalNumber(e,{unit:"day"});case"iii":return n.day(e,{width:"abbreviated",context:"formatting",valueCallback:o})||n.day(e,{width:"short",context:"formatting",valueCallback:o})||n.day(e,{width:"narrow",context:"formatting",valueCallback:o});case"iiiii":return n.day(e,{width:"narrow",context:"formatting",valueCallback:o});case"iiiiii":return n.day(e,{width:"short",context:"formatting",valueCallback:o})||n.day(e,{width:"narrow",context:"formatting",valueCallback:o});default:return n.day(e,{width:"wide",context:"formatting",valueCallback:o})||n.day(e,{width:"abbreviated",context:"formatting",valueCallback:o})||n.day(e,{width:"short",context:"formatting",valueCallback:o})||n.day(e,{width:"narrow",context:"formatting",valueCallback:o})}},validate:function(e,t,n){return t>=1&&t<=7},set:function(e,t,n,r){return(e=(0,o.default)(e,n,r)).setUTCHours(0,0,0,0),e},incompatibleTokens:["y","Y","u","q","Q","M","L","w","d","D","E","e","c","t","T"]},a:{priority:80,parse:function(e,t,n,r){switch(t){case"a":case"aa":case"aaa":return n.dayPeriod(e,{width:"abbreviated",context:"formatting"})||n.dayPeriod(e,{width:"narrow",context:"formatting"});case"aaaaa":return n.dayPeriod(e,{width:"narrow",context:"formatting"});default:return n.dayPeriod(e,{width:"wide",context:"formatting"})||n.dayPeriod(e,{width:"abbreviated",context:"formatting"})||n.dayPeriod(e,{width:"narrow",context:"formatting"})}},set:function(e,t,n,r){return e.setUTCHours(L(n),0,0,0),e},incompatibleTokens:["b","B","H","k","t","T"]},b:{priority:80,parse:function(e,t,n,r){switch(t){case"b":case"bb":case"bbb":return n.dayPeriod(e,{width:"abbreviated",context:"formatting"})||n.dayPeriod(e,{width:"narrow",context:"formatting"});case"bbbbb":return n.dayPeriod(e,{width:"narrow",context:"formatting"});default:return n.dayPeriod(e,{width:"wide",context:"formatting"})||n.dayPeriod(e,{width:"abbreviated",context:"formatting"})||n.dayPeriod(e,{width:"narrow",context:"formatting"})}},set:function(e,t,n,r){return e.setUTCHours(L(n),0,0,0),e},incompatibleTokens:["a","B","H","k","t","T"]},B:{priority:80,parse:function(e,t,n,r){switch(t){case"B":case"BB":case"BBB":return n.dayPeriod(e,{width:"abbreviated",context:"formatting"})||n.dayPeriod(e,{width:"narrow",context:"formatting"});case"BBBBB":return n.dayPeriod(e,{width:"narrow",context:"formatting"});default:return n.dayPeriod(e,{width:"wide",context:"formatting"})||n.dayPeriod(e,{width:"abbreviated",context:"formatting"})||n.dayPeriod(e,{width:"narrow",context:"formatting"})}},set:function(e,t,n,r){return e.setUTCHours(L(n),0,0,0),e},incompatibleTokens:["a","b","t","T"]},h:{priority:70,parse:function(e,t,n,r){switch(t){case"h":return D(g,e);case"ho":return n.ordinalNumber(e,{unit:"hour"});default:return A(t.length,e)}},validate:function(e,t,n){return t>=1&&t<=12},set:function(e,t,n,r){var o=e.getUTCHours()>=12;return o&&n<12?e.setUTCHours(n+12,0,0,0):o||12!==n?e.setUTCHours(n,0,0,0):e.setUTCHours(0,0,0,0),e},incompatibleTokens:["H","K","k","t","T"]},H:{priority:70,parse:function(e,t,n,r){switch(t){case"H":return D(h,e);case"Ho":return n.ordinalNumber(e,{unit:"hour"});default:return A(t.length,e)}},validate:function(e,t,n){return t>=0&&t<=23},set:function(e,t,n,r){return e.setUTCHours(n,0,0,0),e},incompatibleTokens:["a","b","h","K","k","t","T"]},K:{priority:70,parse:function(e,t,n,r){switch(t){case"K":return D(v,e);case"Ko":return n.ordinalNumber(e,{unit:"hour"});default:return A(t.length,e)}},validate:function(e,t,n){return t>=0&&t<=11},set:function(e,t,n,r){return e.getUTCHours()>=12&&n<12?e.setUTCHours(n+12,0,0,0):e.setUTCHours(n,0,0,0),e},incompatibleTokens:["h","H","k","t","T"]},k:{priority:70,parse:function(e,t,n,r){switch(t){case"k":return D(m,e);case"ko":return n.ordinalNumber(e,{unit:"hour"});default:return A(t.length,e)}},validate:function(e,t,n){return t>=1&&t<=24},set:function(e,t,n,r){var o=n<=24?n%24:n;return e.setUTCHours(o,0,0,0),e},incompatibleTokens:["a","b","h","H","K","t","T"]},m:{priority:60,parse:function(e,t,n,r){switch(t){case"m":return D(x,e);case"mo":return n.ordinalNumber(e,{unit:"minute"});default:return A(t.length,e)}},validate:function(e,t,n){return t>=0&&t<=59},set:function(e,t,n,r){return e.setUTCMinutes(n,0,0),e},incompatibleTokens:["t","T"]},s:{priority:50,parse:function(e,t,n,r){switch(t){case"s":return D(y,e);case"so":return n.ordinalNumber(e,{unit:"second"});default:return A(t.length,e)}},validate:function(e,t,n){return t>=0&&t<=59},set:function(e,t,n,r){return e.setUTCSeconds(n,0),e},incompatibleTokens:["t","T"]},S:{priority:30,parse:function(e,t,n,r){return A(t.length,e,(function(e){return Math.floor(e*Math.pow(10,3-t.length))}))},set:function(e,t,n,r){return e.setUTCMilliseconds(n),e},incompatibleTokens:["t","T"]},X:{priority:10,parse:function(e,t,n,r){switch(t){case"X":return R(C,e);case"XX":return R(S,e);case"XXXX":return R(N,e);case"XXXXX":return R(I,e);default:return R(j,e)}},set:function(e,t,n,r){return t.timestampIsSet?e:new Date(e.getTime()-n)},incompatibleTokens:["t","T","x"]},x:{priority:10,parse:function(e,t,n,r){switch(t){case"x":return R(C,e);case"xx":return R(S,e);case"xxxx":return R(N,e);case"xxxxx":return R(I,e);default:return R(j,e)}},set:function(e,t,n,r){return t.timestampIsSet?e:new Date(e.getTime()-n)},incompatibleTokens:["t","T","X"]},t:{priority:40,parse:function(e,t,n,r){return U(e)},set:function(e,t,n,r){return[new Date(1e3*n),{timestampIsSet:!0}]},incompatibleTokens:"*"},T:{priority:20,parse:function(e,t,n,r){return U(e)},set:function(e,t,n,r){return[new Date(n),{timestampIsSet:!0}]},incompatibleTokens:"*"}},z=q;t.default=z,e.exports=t.default}($s,$s.exports),function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,f,w){(0,d.default)(3,arguments);var _=String(e),M=String(t),O=w||{},E=O.locale||n.default;if(!E.match)throw new RangeError("locale must contain match property");var k=E.options&&E.options.firstWeekContainsDate,T=null==k?1:(0,l.default)(k),P=null==O.firstWeekContainsDate?T:(0,l.default)(O.firstWeekContainsDate);if(!(P>=1&&P<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var C=E.options&&E.options.weekStartsOn,S=null==C?0:(0,l.default)(C),N=null==O.weekStartsOn?S:(0,l.default)(O.weekStartsOn);if(!(N>=0&&N<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(""===M)return""===_?(0,o.default)(f):new Date(NaN);var j,I={firstWeekContainsDate:P,weekStartsOn:N,locale:E},D=[{priority:p,subPriority:-1,set:b,index:0}],R=M.match(m).map((function(e){var t=e[0];return"p"===t||"P"===t?(0,i.default[t])(e,E.formatLong,I):e})).join("").match(h),U=[];for(j=0;j<R.length;j++){var A=R[j];!O.useAdditionalWeekYearTokens&&(0,u.isProtectedWeekYearToken)(A)&&(0,u.throwProtectedError)(A,M,e),!O.useAdditionalDayOfYearTokens&&(0,u.isProtectedDayOfYearToken)(A)&&(0,u.throwProtectedError)(A,M,e);var Y=A[0],L=c.default[Y];if(L){var F=L.incompatibleTokens;if(Array.isArray(F)){for(var W=void 0,H=0;H<U.length;H++){var B=U[H].token;if(-1!==F.indexOf(B)||B===Y){W=U[H];break}}if(W)throw new RangeError("The format string mustn't contain `".concat(W.fullToken,"` and `").concat(A,"` at the same time"))}else if("*"===L.incompatibleTokens&&U.length)throw new RangeError("The format string mustn't contain `".concat(A,"` and any other token at the same time"));U.push({token:Y,fullToken:A});var q=L.parse(_,A,E.match,I);if(!q)return new Date(NaN);D.push({priority:L.priority,subPriority:L.subPriority||0,set:L.set,validate:L.validate,value:q.value,index:D.length}),_=q.rest}else{if(Y.match(y))throw new RangeError("Format string contains an unescaped latin alphabet character `"+Y+"`");if("''"===A?A="'":"'"===Y&&(A=A.match(v)[1].replace(g,"'")),0!==_.indexOf(A))return new Date(NaN);_=_.slice(A.length)}}if(_.length>0&&x.test(_))return new Date(NaN);var z=D.map((function(e){return e.priority})).sort((function(e,t){return t-e})).filter((function(e,t,n){return n.indexOf(e)===t})).map((function(e){return D.filter((function(t){return t.priority===e})).sort((function(e,t){return t.subPriority-e.subPriority}))})).map((function(e){return e[0]})),Q=(0,o.default)(f);if(isNaN(Q))return new Date(NaN);var V=(0,r.default)(Q,(0,s.default)(Q)),J={};for(j=0;j<z.length;j++){var X=z[j];if(X.validate&&!X.validate(V,X.value,I))return new Date(NaN);var G=X.set(V,J,X.value,I);G[0]?(V=G[0],(0,a.default)(J,G[1])):V=G}return V};var n=f(Mi.exports),r=f(Ii.exports),o=f(Wo.exports),a=f($i.exports),i=f(Qi.exports),s=f(ra.exports),u=Vi,l=f(Fo.exports),c=f($s.exports),d=f(Ho.exports);function f(e){return e&&e.__esModule?e:{default:e}}var p=10,h=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,m=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,v=/^'([^]*?)'?$/,g=/''/g,x=/\S/,y=/[a-zA-Z]/;function b(e,t){if(t.timestampIsSet)return e;var n=new Date(0);return n.setFullYear(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate()),n.setHours(e.getUTCHours(),e.getUTCMinutes(),e.getUTCSeconds(),e.getUTCMilliseconds()),n}e.exports=t.default}(Ks,Ks.exports),function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,a){return(0,o.default)(2,arguments),(0,r.default)((0,n.default)(e,t,new Date,a))};var n=a(Ks.exports),r=a(Oa.exports),o=a(Ho.exports);function a(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default}(Gs,Gs.exports);var ru={exports:{}};!function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,r.default)(1,arguments),1===(0,n.default)(e).getDay()};var n=o(Wo.exports),r=o(Ho.exports);function o(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default}(ru,ru.exports);var ou={exports:{}};!function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,r.default)(1,arguments),(0,n.default)(e).getTime()<Date.now()};var n=o(Wo.exports),r=o(Ho.exports);function o(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default}(ou,ou.exports);var au={exports:{}},iu={exports:{}};!function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){(0,r.default)(1,arguments);var t=(0,n.default)(e);return t.setMinutes(0,0,0),t};var n=o(Wo.exports),r=o(Ho.exports);function o(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default}(iu,iu.exports),function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){(0,r.default)(2,arguments);var o=(0,n.default)(e),a=(0,n.default)(t);return o.getTime()===a.getTime()};var n=o(iu.exports),r=o(Ho.exports);function o(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default}(au,au.exports);var su={exports:{}},uu={exports:{}};!function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,o){(0,r.default)(2,arguments);var a=(0,n.default)(e,o),i=(0,n.default)(t,o);return a.getTime()===i.getTime()};var n=o(Zo.exports),r=o(Ho.exports);function o(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default}(uu,uu.exports),function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){return(0,r.default)(2,arguments),(0,n.default)(e,t,{weekStartsOn:1})};var n=o(uu.exports),r=o(Ho.exports);function o(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default}(su,su.exports);var lu={exports:{}};!function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){(0,r.default)(2,arguments);var o=(0,n.default)(e),a=(0,n.default)(t);return o.getTime()===a.getTime()};var n=o(ta.exports),r=o(Ho.exports);function o(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default}(lu,lu.exports);var cu={exports:{}};!function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){(0,r.default)(2,arguments);var o=(0,n.default)(e),a=(0,n.default)(t);return o.getTime()===a.getTime()};var n=o(Za.exports),r=o(Ho.exports);function o(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default}(cu,cu.exports);var du={exports:{}};!function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){(0,r.default)(2,arguments);var o=(0,n.default)(e),a=(0,n.default)(t);return o.getFullYear()===a.getFullYear()&&o.getMonth()===a.getMonth()};var n=o(Wo.exports),r=o(Ho.exports);function o(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default}(du,du.exports);var fu={exports:{}};!function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){(0,r.default)(2,arguments);var o=(0,n.default)(e),a=(0,n.default)(t);return o.getTime()===a.getTime()};var n=o(ni.exports),r=o(Ho.exports);function o(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default}(fu,fu.exports);var pu={exports:{}},hu={exports:{}};!function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){(0,r.default)(1,arguments);var t=(0,n.default)(e);return t.setMilliseconds(0),t};var n=o(Wo.exports),r=o(Ho.exports);function o(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default}(hu,hu.exports),function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){(0,r.default)(2,arguments);var o=(0,n.default)(e),a=(0,n.default)(t);return o.getTime()===a.getTime()};var n=o(hu.exports),r=o(Ho.exports);function o(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default}(pu,pu.exports);var mu={exports:{}};!function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){(0,r.default)(2,arguments);var o=(0,n.default)(e),a=(0,n.default)(t);return o.getFullYear()===a.getFullYear()};var n=o(Wo.exports),r=o(Ho.exports);function o(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default}(mu,mu.exports);var vu={exports:{}};!function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,r.default)(1,arguments),(0,n.default)(Date.now(),e)};var n=o(au.exports),r=o(Ho.exports);function o(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default}(vu,vu.exports);var gu={exports:{}};!function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,r.default)(1,arguments),(0,n.default)(e,Date.now())};var n=o(su.exports),r=o(Ho.exports);function o(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default}(gu,gu.exports);var xu={exports:{}};!function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,r.default)(1,arguments),(0,n.default)(Date.now(),e)};var n=o(cu.exports),r=o(Ho.exports);function o(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default}(xu,xu.exports);var yu={exports:{}};!function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,r.default)(1,arguments),(0,n.default)(Date.now(),e)};var n=o(du.exports),r=o(Ho.exports);function o(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default}(yu,yu.exports);var bu={exports:{}};!function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,r.default)(1,arguments),(0,n.default)(Date.now(),e)};var n=o(fu.exports),r=o(Ho.exports);function o(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default}(bu,bu.exports);var wu={exports:{}};!function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,r.default)(1,arguments),(0,n.default)(Date.now(),e)};var n=o(pu.exports),r=o(Ho.exports);function o(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default}(wu,wu.exports);var _u={exports:{}};!function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){return(0,r.default)(1,arguments),(0,n.default)(e,Date.now(),t)};var n=o(uu.exports),r=o(Ho.exports);function o(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default}(_u,_u.exports);var Mu={exports:{}};!function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,r.default)(1,arguments),(0,n.default)(e,Date.now())};var n=o(mu.exports),r=o(Ho.exports);function o(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default}(Mu,Mu.exports);var Ou={exports:{}};!function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,r.default)(1,arguments),4===(0,n.default)(e).getDay()};var n=o(Wo.exports),r=o(Ho.exports);function o(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default}(Ou,Ou.exports);var Eu={exports:{}};!function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,r.default)(1,arguments),(0,n.default)(e,Date.now())};var n=o(Ma.exports),r=o(Ho.exports);function o(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default}(Eu,Eu.exports);var ku={exports:{}};!function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,o.default)(1,arguments),(0,r.default)(e,(0,n.default)(Date.now(),1))};var n=a(Lo.exports),r=a(Ma.exports),o=a(Ho.exports);function a(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default}(ku,ku.exports);var Tu={exports:{}};!function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,r.default)(1,arguments),2===(0,n.default)(e).getDay()};var n=o(Wo.exports),r=o(Ho.exports);function o(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default}(Tu,Tu.exports);var Pu={exports:{}};!function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,r.default)(1,arguments),3===(0,n.default)(e).getDay()};var n=o(Wo.exports),r=o(Ho.exports);function o(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default}(Pu,Pu.exports);var Cu={exports:{}};!function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){(0,r.default)(2,arguments);var o=(0,n.default)(e).getTime(),a=(0,n.default)(t.start).getTime(),i=(0,n.default)(t.end).getTime();if(!(a<=i))throw new RangeError("Invalid interval");return o>=a&&o<=i};var n=o(Wo.exports),r=o(Ho.exports);function o(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default}(Cu,Cu.exports);var Su={exports:{}};!function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,o.default)(1,arguments),(0,n.default)(e,(0,r.default)(Date.now(),1))};var n=a(Ma.exports),r=a(Fs.exports),o=a(Ho.exports);function a(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default}(Su,Su.exports);var Nu={exports:{}};!function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){(0,r.default)(1,arguments);var t=(0,n.default)(e),o=t.getFullYear(),a=9+10*Math.floor(o/10);return t.setFullYear(a+1,0,0),t.setHours(0,0,0,0),t};var n=o(Wo.exports),r=o(Ho.exports);function o(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default}(Nu,Nu.exports);var ju={exports:{}},Iu={exports:{}};!function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){(0,o.default)(1,arguments);var a=t||{},i=a.locale,s=i&&i.options&&i.options.weekStartsOn,u=null==s?0:(0,r.default)(s),l=null==a.weekStartsOn?u:(0,r.default)(a.weekStartsOn);if(!(l>=0&&l<=6))throw new RangeError("weekStartsOn must be between 0 and 6");var c=(0,n.default)(e),d=c.getDay(),f=6+(d<l?-7:0)-(d-l);return c.setHours(0,0,0,0),c.setDate(c.getDate()+f),c};var n=a(Wo.exports),r=a(Fo.exports),o=a(Ho.exports);function a(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default}(Iu,Iu.exports),function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,r.default)(1,arguments),(0,n.default)(e,{weekStartsOn:1})};var n=o(Iu.exports),r=o(Ho.exports);function o(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default}(ju,ju.exports);var Du={exports:{}};!function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){(0,o.default)(1,arguments);var t=(0,n.default)(e),a=new Date(0);a.setFullYear(t+1,0,4),a.setHours(0,0,0,0);var i=(0,r.default)(a);return i.setDate(i.getDate()-1),i};var n=a(Ko.exports),r=a($o.exports),o=a(Ho.exports);function a(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default}(Du,Du.exports);var Ru={exports:{}};!function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){(0,r.default)(1,arguments);var t=(0,n.default)(e),o=t.getMonth(),a=o-o%3+3;return t.setMonth(a,0),t.setHours(0,0,0,0),t};var n=o(Wo.exports),r=o(Ho.exports);function o(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default}(Ru,Ru.exports);var Uu={exports:{}};!function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){(0,r.default)(1,arguments);var t=(0,n.default)(e),o=t.getFullYear();return t.setFullYear(o+1,0,0),t.setHours(0,0,0,0),t};var n=o(Wo.exports),r=o(Ho.exports);function o(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default}(Uu,Uu.exports);var Au={exports:{}};!function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){(0,s.default)(2,arguments);var u=(0,n.default)(e);if(!(0,a.default)(u))throw new RangeError("Invalid time value");var p=(0,o.default)(u),h=(0,i.default)(u,p),m=t.match(l);return m?m.map((function(e){if("''"===e)return"'";var t=e[0];if("'"===t)return function(e){var t=e.match(c);if(!t)return e;return t[1].replace(d,"'")}(e);var n=r.default[t];if(n)return n(h,e);if(t.match(f))throw new RangeError("Format string contains an unescaped latin alphabet character `"+t+"`");return e})).join(""):""};var n=u(Wo.exports),r=u(zi.exports),o=u(ra.exports),a=u(Oa.exports),i=u(Ii.exports),s=u(Ho.exports);function u(e){return e&&e.__esModule?e:{default:e}}var l=/(\w)\1*|''|'(''|[^'])+('|$)|./g,c=/^'([^]*?)'?$/,d=/''/g,f=/[a-zA-Z]/;e.exports=t.default}(Au,Au.exports);var Yu={exports:{}};!function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.years,n=e.months,a=e.weeks,i=e.days,s=e.hours,u=e.minutes,l=e.seconds;(0,r.default)(1,arguments);var c=0;t&&(c+=t*o);n&&(c+=n*(o/12));a&&(c+=7*a);i&&(c+=i);var d=24*c*60*60;s&&(d+=60*s*60);u&&(d+=60*u);l&&(d+=l);return Math.round(1e3*d)};var n,r=(n=Ho.exports)&&n.__esModule?n:{default:n};var o=365.2425;e.exports=t.default}(Yu,Yu.exports);var Lu={exports:{}};!function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){(0,r.default)(1,arguments);var t=e/o.millisecondsInHour;return Math.floor(t)};var n,r=(n=Ho.exports)&&n.__esModule?n:{default:n},o=ya;e.exports=t.default}(Lu,Lu.exports);var Fu={exports:{}};!function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){(0,r.default)(1,arguments);var t=e/o.millisecondsInMinute;return Math.floor(t)};var n,r=(n=Ho.exports)&&n.__esModule?n:{default:n},o=ya;e.exports=t.default}(Fu,Fu.exports);var Wu={exports:{}};!function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){(0,r.default)(1,arguments);var t=e/o.millisecondsInSecond;return Math.floor(t)};var n,r=(n=Ho.exports)&&n.__esModule?n:{default:n},o=ya;e.exports=t.default}(Wu,Wu.exports);var Hu={exports:{}};!function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){(0,r.default)(1,arguments);var t=e/o.minutesInHour;return Math.floor(t)};var n,r=(n=Ho.exports)&&n.__esModule?n:{default:n},o=ya;e.exports=t.default}(Hu,Hu.exports);var Bu={exports:{}};!function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,r.default)(1,arguments),Math.floor(e*o.millisecondsInMinute)};var n,r=(n=Ho.exports)&&n.__esModule?n:{default:n},o=ya;e.exports=t.default}(Bu,Bu.exports);var qu={exports:{}};!function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,r.default)(1,arguments),Math.floor(e*o.secondsInMinute)};var n,r=(n=Ho.exports)&&n.__esModule?n:{default:n},o=ya;e.exports=t.default}(qu,qu.exports);var zu={exports:{}};!function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){(0,r.default)(1,arguments);var t=e/o.monthsInQuarter;return Math.floor(t)};var n,r=(n=Ho.exports)&&n.__esModule?n:{default:n},o=ya;e.exports=t.default}(zu,zu.exports);var Qu={exports:{}};!function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){(0,r.default)(1,arguments);var t=e/o.monthsInYear;return Math.floor(t)};var n,r=(n=Ho.exports)&&n.__esModule?n:{default:n},o=ya;e.exports=t.default}(Qu,Qu.exports);var Vu={exports:{}};!function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){(0,o.default)(2,arguments);var a=t-(0,r.default)(e);a<=0&&(a+=7);return(0,n.default)(e,a)};var n=a(Lo.exports),r=a(ds.exports),o=a(Ho.exports);function a(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default}(Vu,Vu.exports);var Ju={exports:{}};!function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,r.default)(1,arguments),(0,n.default)(e,5)};var n=o(Vu.exports),r=o(Ho.exports);function o(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default}(Ju,Ju.exports);var Xu={exports:{}};!function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,r.default)(1,arguments),(0,n.default)(e,1)};var n=o(Vu.exports),r=o(Ho.exports);function o(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default}(Xu,Xu.exports);var Gu={exports:{}};!function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,r.default)(1,arguments),(0,n.default)(e,6)};var n=o(Vu.exports),r=o(Ho.exports);function o(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default}(Gu,Gu.exports);var Ku={exports:{}};!function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,r.default)(1,arguments),(0,n.default)(e,0)};var n=o(Vu.exports),r=o(Ho.exports);function o(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default}(Ku,Ku.exports);var $u={exports:{}};!function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,r.default)(1,arguments),(0,n.default)(e,4)};var n=o(Vu.exports),r=o(Ho.exports);function o(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default}($u,$u.exports);var Zu={exports:{}};!function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,r.default)(1,arguments),(0,n.default)(e,2)};var n=o(Vu.exports),r=o(Ho.exports);function o(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default}(Zu,Zu.exports);var el={exports:{}};!function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,r.default)(1,arguments),(0,n.default)(e,3)};var n=o(Vu.exports),r=o(Ho.exports);function o(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default}(el,el.exports);var tl={exports:{}};!function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){(0,r.default)(1,arguments);var a=t||{},h=null==a.additionalDigits?2:(0,o.default)(a.additionalDigits);if(2!==h&&1!==h&&0!==h)throw new RangeError("additionalDigits must be 0, 1 or 2");if("string"!=typeof e&&"[object String]"!==Object.prototype.toString.call(e))return new Date(NaN);var m,v=function(e){var t,n={},r=e.split(i.dateTimeDelimiter);if(r.length>2)return n;/:/.test(r[0])?t=r[0]:(n.date=r[0],t=r[1],i.timeZoneDelimiter.test(n.date)&&(n.date=e.split(i.timeZoneDelimiter)[0],t=e.substr(n.date.length,e.length)));if(t){var o=i.timezone.exec(t);o?(n.time=t.replace(o[1],""),n.timezone=o[1]):n.time=t}return n}(e);if(v.date){var g=function(e,t){var n=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+t)+"})|(\\d{2}|[+-]\\d{"+(2+t)+"})$)"),r=e.match(n);if(!r)return{year:NaN,restDateString:""};var o=r[1]?parseInt(r[1]):null,a=r[2]?parseInt(r[2]):null;return{year:null===a?o:100*a,restDateString:e.slice((r[1]||r[2]).length)}}(v.date,h);m=function(e,t){if(null===t)return new Date(NaN);var n=e.match(s);if(!n)return new Date(NaN);var r=!!n[4],o=c(n[1]),a=c(n[2])-1,i=c(n[3]),u=c(n[4]),l=c(n[5])-1;if(r)return function(e,t,n){return t>=1&&t<=53&&n>=0&&n<=6}(0,u,l)?function(e,t,n){var r=new Date(0);r.setUTCFullYear(e,0,4);var o=r.getUTCDay()||7,a=7*(t-1)+n+1-o;return r.setUTCDate(r.getUTCDate()+a),r}(t,u,l):new Date(NaN);var d=new Date(0);return function(e,t,n){return t>=0&&t<=11&&n>=1&&n<=(f[t]||(p(e)?29:28))}(t,a,i)&&function(e,t){return t>=1&&t<=(p(e)?366:365)}(t,o)?(d.setUTCFullYear(t,a,Math.max(o,i)),d):new Date(NaN)}(g.restDateString,g.year)}if(!m||isNaN(m.getTime()))return new Date(NaN);var x,y=m.getTime(),b=0;if(v.time&&(b=function(e){var t=e.match(u);if(!t)return NaN;var r=d(t[1]),o=d(t[2]),a=d(t[3]);if(!function(e,t,n){if(24===e)return 0===t&&0===n;return n>=0&&n<60&&t>=0&&t<60&&e>=0&&e<25}(r,o,a))return NaN;return r*n.millisecondsInHour+o*n.millisecondsInMinute+1e3*a}(v.time),isNaN(b)))return new Date(NaN);if(!v.timezone){var w=new Date(y+b),_=new Date(0);return _.setFullYear(w.getUTCFullYear(),w.getUTCMonth(),w.getUTCDate()),_.setHours(w.getUTCHours(),w.getUTCMinutes(),w.getUTCSeconds(),w.getUTCMilliseconds()),_}if(x=function(e){if("Z"===e)return 0;var t=e.match(l);if(!t)return 0;var r="+"===t[1]?-1:1,o=parseInt(t[2]),a=t[3]&&parseInt(t[3])||0;if(!function(e,t){return t>=0&&t<=59}(0,a))return NaN;return r*(o*n.millisecondsInHour+a*n.millisecondsInMinute)}(v.timezone),isNaN(x))return new Date(NaN);return new Date(y+b+x)};var n=ya,r=a(Ho.exports),o=a(Fo.exports);function a(e){return e&&e.__esModule?e:{default:e}}var i={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},s=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,u=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,l=/^([+-])(\d{2})(?::?(\d{2}))?$/;function c(e){return e?parseInt(e):1}function d(e){return e&&parseFloat(e.replace(",","."))||0}var f=[31,null,31,30,31,30,31,31,30,31,30,31];function p(e){return e%400==0||e%4==0&&e%100!=0}e.exports=t.default}(tl,tl.exports);var nl={exports:{}};!function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){if((0,r.default)(1,arguments),"string"==typeof e){var t=e.match(/(\d{4})-(\d{2})-(\d{2})[T ](\d{2}):(\d{2}):(\d{2})(?:\.(\d{0,7}))?(?:Z|(.)(\d{2}):?(\d{2})?)?/);return t?new Date(Date.UTC(+t[1],+t[2]-1,+t[3],+t[4]-(+t[9]||0)*("-"==t[8]?-1:1),+t[5]-(+t[10]||0)*("-"==t[8]?-1:1),+t[6],+((t[7]||"0")+"00").substring(0,3))):new Date(NaN)}return(0,n.default)(e)};var n=o(Wo.exports),r=o(Ho.exports);function o(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default}(nl,nl.exports);var rl={exports:{}};!function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){(0,n.default)(2,arguments);var a=(0,r.default)(e)-t;a<=0&&(a+=7);return(0,o.default)(e,a)};var n=a(Ho.exports),r=a(ds.exports),o=a(Fs.exports);function a(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default}(rl,rl.exports);var ol={exports:{}};!function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,n.default)(1,arguments),(0,r.default)(e,5)};var n=o(Ho.exports),r=o(rl.exports);function o(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default}(ol,ol.exports);var al={exports:{}};!function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,n.default)(1,arguments),(0,r.default)(e,1)};var n=o(Ho.exports),r=o(rl.exports);function o(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default}(al,al.exports);var il={exports:{}};!function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,n.default)(1,arguments),(0,r.default)(e,6)};var n=o(Ho.exports),r=o(rl.exports);function o(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default}(il,il.exports);var sl={exports:{}};!function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,n.default)(1,arguments),(0,r.default)(e,0)};var n=o(Ho.exports),r=o(rl.exports);function o(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default}(sl,sl.exports);var ul={exports:{}};!function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,n.default)(1,arguments),(0,r.default)(e,4)};var n=o(Ho.exports),r=o(rl.exports);function o(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default}(ul,ul.exports);var ll={exports:{}};!function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,n.default)(1,arguments),(0,r.default)(e,2)};var n=o(Ho.exports),r=o(rl.exports);function o(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default}(ll,ll.exports);var cl={exports:{}};!function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,n.default)(1,arguments),(0,r.default)(e,3)};var n=o(Ho.exports),r=o(rl.exports);function o(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default}(cl,cl.exports);var dl={exports:{}};!function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,r.default)(1,arguments),Math.floor(e*o.monthsInQuarter)};var n,r=(n=Ho.exports)&&n.__esModule?n:{default:n},o=ya;e.exports=t.default}(dl,dl.exports);var fl={exports:{}};!function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){(0,r.default)(1,arguments);var t=e/o.quartersInYear;return Math.floor(t)};var n,r=(n=Ho.exports)&&n.__esModule?n:{default:n},o=ya;e.exports=t.default}(fl,fl.exports);var pl={exports:{}};!function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if(arguments.length<1)throw new TypeError("1 argument required, but only none provided present");var o=t&&"nearestTo"in t?(0,r.default)(t.nearestTo):1;if(o<1||o>30)throw new RangeError("`options.nearestTo` must be between 1 and 30");var a=(0,n.default)(e),i=a.getSeconds(),s=a.getMinutes()+i/60,u=Math.floor(s/o)*o,l=s%o,c=Math.round(l/o)*o;return new Date(a.getFullYear(),a.getMonth(),a.getDate(),a.getHours(),u+c)};var n=o(Wo.exports),r=o(Fo.exports);function o(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default}(pl,pl.exports);var hl={exports:{}};!function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){(0,r.default)(1,arguments);var t=e/o.secondsInHour;return Math.floor(t)};var n,r=(n=Ho.exports)&&n.__esModule?n:{default:n},o=ya;e.exports=t.default}(hl,hl.exports);var ml={exports:{}};!function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,r.default)(1,arguments),e*o.millisecondsInSecond};var n,r=(n=Ho.exports)&&n.__esModule?n:{default:n},o=ya;e.exports=t.default}(ml,ml.exports);var vl={exports:{}};!function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){(0,r.default)(1,arguments);var t=e/o.secondsInMinute;return Math.floor(t)};var n,r=(n=Ho.exports)&&n.__esModule?n:{default:n},o=ya;e.exports=t.default}(vl,vl.exports);var gl={exports:{}},xl={exports:{}};!function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){(0,a.default)(2,arguments);var i=(0,r.default)(e),s=(0,n.default)(t),u=i.getFullYear(),l=i.getDate(),c=new Date(0);c.setFullYear(u,s,15),c.setHours(0,0,0,0);var d=(0,o.default)(c);return i.setMonth(s,Math.min(l,d)),i};var n=i(Fo.exports),r=i(Wo.exports),o=i(ps.exports),a=i(Ho.exports);function i(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default}(xl,xl.exports),function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if((0,a.default)(2,arguments),"object"!=typeof t||null===t)throw new RangeError("values parameter must be an object");var i=(0,n.default)(e);if(isNaN(i.getTime()))return new Date(NaN);null!=t.year&&i.setFullYear(t.year);null!=t.month&&(i=(0,r.default)(i,t.month));null!=t.date&&i.setDate((0,o.default)(t.date));null!=t.hours&&i.setHours((0,o.default)(t.hours));null!=t.minutes&&i.setMinutes((0,o.default)(t.minutes));null!=t.seconds&&i.setSeconds((0,o.default)(t.seconds));null!=t.milliseconds&&i.setMilliseconds((0,o.default)(t.milliseconds));return i};var n=i(Wo.exports),r=i(xl.exports),o=i(Fo.exports),a=i(Ho.exports);function i(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default}(gl,gl.exports);var yl={exports:{}};!function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){(0,o.default)(2,arguments);var a=(0,r.default)(e),i=(0,n.default)(t);return a.setDate(i),a};var n=a(Fo.exports),r=a(Wo.exports),o=a(Ho.exports);function a(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default}(yl,yl.exports);var bl={exports:{}};!function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,i){(0,a.default)(2,arguments);var s=i||{},u=s.locale,l=u&&u.options&&u.options.weekStartsOn,c=null==l?0:(0,o.default)(l),d=null==s.weekStartsOn?c:(0,o.default)(s.weekStartsOn);if(!(d>=0&&d<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var f=(0,r.default)(e),p=(0,o.default)(t),h=f.getDay(),m=(p%7+7)%7,v=7-d,g=p<0||p>6?p-(h+v)%7:(m+v)%7-(h+v)%7;return(0,n.default)(f,g)};var n=i(Lo.exports),r=i(Wo.exports),o=i(Fo.exports),a=i(Ho.exports);function i(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default}(bl,bl.exports);var wl={exports:{}};!function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){(0,o.default)(2,arguments);var a=(0,r.default)(e),i=(0,n.default)(t);return a.setMonth(0),a.setDate(i),a};var n=a(Fo.exports),r=a(Wo.exports),o=a(Ho.exports);function a(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default}(wl,wl.exports);var _l={exports:{}};!function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){(0,o.default)(2,arguments);var a=(0,r.default)(e),i=(0,n.default)(t);return a.setHours(i),a};var n=a(Fo.exports),r=a(Wo.exports),o=a(Ho.exports);function a(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default}(_l,_l.exports);var Ml={exports:{}};!function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){(0,i.default)(2,arguments);var s=(0,r.default)(e),u=(0,n.default)(t),l=(0,a.default)(s),c=u-l;return(0,o.default)(s,c)};var n=s(Fo.exports),r=s(Wo.exports),o=s(Lo.exports),a=s(xs.exports),i=s(Ho.exports);function s(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default}(Ml,Ml.exports);var Ol={exports:{}};!function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){(0,a.default)(2,arguments);var i=(0,r.default)(e),s=(0,n.default)(t),u=(0,o.default)(i)-s;return i.setDate(i.getDate()-7*u),i};var n=i(Fo.exports),r=i(Wo.exports),o=i(ys.exports),a=i(Ho.exports);function i(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default}(Ol,Ol.exports);var El={exports:{}};!function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){(0,o.default)(2,arguments);var a=(0,r.default)(e),i=(0,n.default)(t);return a.setMilliseconds(i),a};var n=a(Fo.exports),r=a(Wo.exports),o=a(Ho.exports);function a(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default}(El,El.exports);var kl={exports:{}};!function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){(0,o.default)(2,arguments);var a=(0,r.default)(e),i=(0,n.default)(t);return a.setMinutes(i),a};var n=a(Fo.exports),r=a(Wo.exports),o=a(Ho.exports);function a(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default}(kl,kl.exports);var Tl={exports:{}};!function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){(0,a.default)(2,arguments);var i=(0,r.default)(e),s=(0,n.default)(t),u=Math.floor(i.getMonth()/3)+1,l=s-u;return(0,o.default)(i,i.getMonth()+3*l)};var n=i(Fo.exports),r=i(Wo.exports),o=i(xl.exports),a=i(Ho.exports);function i(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default}(Tl,Tl.exports);var Pl={exports:{}};!function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){(0,o.default)(2,arguments);var a=(0,r.default)(e),i=(0,n.default)(t);return a.setSeconds(i),a};var n=a(Fo.exports),r=a(Wo.exports),o=a(Ho.exports);function a(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default}(Pl,Pl.exports);var Cl={exports:{}};!function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,i){(0,a.default)(2,arguments);var s=(0,r.default)(e),u=(0,o.default)(t),l=(0,n.default)(s,i)-u;return s.setDate(s.getDate()-7*l),s};var n=i(Ps.exports),r=i(Wo.exports),o=i(Fo.exports),a=i(Ho.exports);function i(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default}(Cl,Cl.exports);var Sl={exports:{}};!function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};(0,i.default)(2,arguments);var u=s.locale,l=u&&u.options&&u.options.firstWeekContainsDate,c=null==l?1:(0,a.default)(l),d=null==s.firstWeekContainsDate?c:(0,a.default)(s.firstWeekContainsDate),f=(0,o.default)(e),p=(0,a.default)(t),h=(0,n.default)(f,(0,r.default)(f,s)),m=new Date(0);return m.setFullYear(p,0,d),m.setHours(0,0,0,0),(f=(0,r.default)(m,s)).setDate(f.getDate()+h),f};var n=s(na.exports),r=s(Cs.exports),o=s(Wo.exports),a=s(Fo.exports),i=s(Ho.exports);function s(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default}(Sl,Sl.exports);var Nl={exports:{}};!function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){(0,o.default)(2,arguments);var a=(0,r.default)(e),i=(0,n.default)(t);if(isNaN(a.getTime()))return new Date(NaN);return a.setFullYear(i),a};var n=a(Fo.exports),r=a(Wo.exports),o=a(Ho.exports);function a(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default}(Nl,Nl.exports);var jl={exports:{}};!function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){(0,r.default)(1,arguments);var t=(0,n.default)(e),o=t.getFullYear(),a=10*Math.floor(o/10);return t.setFullYear(a,0,1),t.setHours(0,0,0,0),t};var n=o(Wo.exports),r=o(Ho.exports);function o(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default}(jl,jl.exports);var Il={exports:{}};!function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){return(0,r.default)(Date.now())};var n,r=(n=oa.exports)&&n.__esModule?n:{default:n};e.exports=t.default}(Il,Il.exports);var Dl={exports:{}};!function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var e=new Date,t=e.getFullYear(),n=e.getMonth(),r=e.getDate(),o=new Date(0);return o.setFullYear(t,n,r+1),o.setHours(0,0,0,0),o},e.exports=t.default}(Dl,Dl.exports);var Rl={exports:{}};!function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var e=new Date,t=e.getFullYear(),n=e.getMonth(),r=e.getDate(),o=new Date(0);return o.setFullYear(t,n,r-1),o.setHours(0,0,0,0),o},e.exports=t.default}(Rl,Rl.exports);var Ul={exports:{}};!function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){(0,r.default)(2,arguments);var a=(0,o.default)(t);return(0,n.default)(e,-a)};var n=a(qo.exports),r=a(Ho.exports),o=a(Fo.exports);function a(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default}(Ul,Ul.exports);var Al={exports:{}};!function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){(0,o.default)(2,arguments);var a=(0,n.default)(t);return(0,r.default)(e,-a)};var n=a(Fo.exports),r=a(Jo.exports),o=a(Ho.exports);function a(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default}(Al,Al.exports);var Yl={exports:{}};!function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){(0,o.default)(2,arguments);var a=(0,n.default)(t);return(0,r.default)(e,-a)};var n=a(Fo.exports),r=a(aa.exports),o=a(Ho.exports);function a(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default}(Yl,Yl.exports);var Ll={exports:{}};!function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){(0,o.default)(2,arguments);var a=(0,n.default)(t);return(0,r.default)(e,-a)};var n=a(Fo.exports),r=a(ia.exports),o=a(Ho.exports);function a(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default}(Ll,Ll.exports);var Fl={exports:{}};!function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){(0,o.default)(2,arguments);var a=(0,n.default)(t);return(0,r.default)(e,-a)};var n=a(Fo.exports),r=a(sa.exports),o=a(Ho.exports);function a(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default}(Fl,Fl.exports);var Wl={exports:{}};!function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){(0,o.default)(2,arguments);var a=(0,n.default)(t);return(0,r.default)(e,-a)};var n=a(Fo.exports),r=a(ua.exports),o=a(Ho.exports);function a(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default}(Wl,Wl.exports);var Hl={exports:{}};!function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){(0,o.default)(2,arguments);var a=(0,n.default)(t);return(0,r.default)(e,-a)};var n=a(Fo.exports),r=a(la.exports),o=a(Ho.exports);function a(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default}(Hl,Hl.exports);var Bl={exports:{}};!function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,r.default)(1,arguments),Math.floor(e*o.daysInWeek)};var n,r=(n=Ho.exports)&&n.__esModule?n:{default:n},o=ya;e.exports=t.default}(Bl,Bl.exports);var ql={exports:{}};!function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,r.default)(1,arguments),Math.floor(e*o.monthsInYear)};var n,r=(n=Ho.exports)&&n.__esModule?n:{default:n},o=ya;e.exports=t.default}(ql,ql.exports);var zl,Ql={exports:{}};function Vl(e,t){var n,r;switch(void 0===t&&(t="ssml"),typeof e){case"string":n=e;break;case"number":n="".concat(e)}return Jl(e)&&(n=Xl(e,t)),(r=e)&&(r.start||r.end)&&(n=function(e,t){void 0===t&&(t="ssml");if(!e)return"";var n=e.start,r=e.end,o=new Date,a="".concat(Xl(n,t)," to ").concat(Xl(r,t));Ao.isSameDay(Ao.parse(n.date,"y-M-d",o),Ao.parse(r.date,"y-M-d",o))&&(a="on ".concat(Xl({date:n.date},t)," from ").concat(Xl({time:n.time},t)," to ").concat(Xl({time:r.time},t)));return a}(e,t)),function(e){return!!e&&"object"==typeof e&&"number"==typeof e.amount&&"string"==typeof e.format}(e)&&(n=function(e,t){void 0===t&&(t="ssml");if(!e)return"";var n=e.amount>1,r="ssml"===t?'<say-as interpret-as="cardinal">'.concat(e.amount,"</say-as>"):e.amount,o=Gl[e.format],a=e.format;Object.keys(Gl).forEach((function(e){Gl[e]===o&&e.length>a.length&&!e.endsWith("s")&&(a=e)}));var i=n?"".concat(a,"s"):a;return"".concat(r," ").concat(i)}(e,t)),Array.isArray(e)&&(n=function(e,t){void 0===t&&(t=zl.or);var n=zl[t];if(!e||0===e.length)return"";if(1===e.length)return e[0];if(e.length>=2){var r=e.length-2;return e.reduce((function(e,t,o){return e+=t,o<r?e+=", ":o===r&&(e+=" ".concat(n," ")),e}),"")}}(e,zl.and)),n}function Jl(e){return!(!e||!e.date&&!e.time)}function Xl(e,t){if(void 0===t&&(t="ssml"),!e)return"";var n=K({},e);n.date||(n.date="yyyy-MM-dd");var r=Date.parse(function(e){if("object"!=typeof e)return"";var t="";try{if(Jl(e)){var n=e.date?Ao.format(Ao.parse(e.date,"y-M-d",new Date),"yyyy-MM-dd"):void 0,r=e.time;t="".concat(n||"").concat(n&&r?"T":"").concat(r||"")}else{var o=e.start,a=e.end;if(o){n=o.date?Ao.format(Ao.parse(o.date,"y-M-d",new Date),"yyyy-MM-dd"):void 0,r=o.time;t="".concat(n||"").concat(n&&r?"T":"").concat(r||"")}if(o&&a&&(t+=" --\x3e "),a){n=a.date?Ao.format(Ao.parse(a.date,"y-M-d",new Date),"yyyy-MM-dd"):void 0,r=a.time;t+="".concat(n||"").concat(n&&r?"T":"").concat(r||"")}}}catch(i){console.error(i)}return t}(n)),o="";return e.date&&(o+="ssml"===t?'<say-as interpret-as="date" format="ymd">'.concat(Ao.format(r,"yyyy-MM-dd"),"</say-as>"):"".concat(Ao.format(r,"M-d-yyyy"))),e.time&&("ssml"===t?o+='<say-as interpret-as="time">'.concat(Ao.format(r,"h:mm aa"),"</say-as>"):(o.length>0&&(o+=" "),o+="".concat(Ao.format(r,"h:mm aa")))),o}!function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,r.default)(1,arguments),Math.floor(e*o.quartersInYear)};var n,r=(n=Ho.exports)&&n.__esModule?n:{default:n},o=ya;e.exports=t.default}(Ql,Ql.exports),function(e){Object.defineProperty(e,"__esModule",{value:!0});var t={add:!0,addBusinessDays:!0,addDays:!0,addHours:!0,addISOWeekYears:!0,addMilliseconds:!0,addMinutes:!0,addMonths:!0,addQuarters:!0,addSeconds:!0,addWeeks:!0,addYears:!0,areIntervalsOverlapping:!0,clamp:!0,closestIndexTo:!0,closestTo:!0,compareAsc:!0,compareDesc:!0,daysToWeeks:!0,differenceInBusinessDays:!0,differenceInCalendarDays:!0,differenceInCalendarISOWeekYears:!0,differenceInCalendarISOWeeks:!0,differenceInCalendarMonths:!0,differenceInCalendarQuarters:!0,differenceInCalendarWeeks:!0,differenceInCalendarYears:!0,differenceInDays:!0,differenceInHours:!0,differenceInISOWeekYears:!0,differenceInMilliseconds:!0,differenceInMinutes:!0,differenceInMonths:!0,differenceInQuarters:!0,differenceInSeconds:!0,differenceInWeeks:!0,differenceInYears:!0,eachDayOfInterval:!0,eachHourOfInterval:!0,eachMinuteOfInterval:!0,eachMonthOfInterval:!0,eachQuarterOfInterval:!0,eachWeekOfInterval:!0,eachWeekendOfInterval:!0,eachWeekendOfMonth:!0,eachWeekendOfYear:!0,eachYearOfInterval:!0,endOfDay:!0,endOfDecade:!0,endOfHour:!0,endOfISOWeek:!0,endOfISOWeekYear:!0,endOfMinute:!0,endOfMonth:!0,endOfQuarter:!0,endOfSecond:!0,endOfToday:!0,endOfTomorrow:!0,endOfWeek:!0,endOfYear:!0,endOfYesterday:!0,format:!0,formatDistance:!0,formatDistanceStrict:!0,formatDistanceToNow:!0,formatDistanceToNowStrict:!0,formatDuration:!0,formatISO:!0,formatISO9075:!0,formatISODuration:!0,formatRFC3339:!0,formatRFC7231:!0,formatRelative:!0,fromUnixTime:!0,getDate:!0,getDay:!0,getDayOfYear:!0,getDaysInMonth:!0,getDaysInYear:!0,getDecade:!0,getHours:!0,getISODay:!0,getISOWeek:!0,getISOWeekYear:!0,getISOWeeksInYear:!0,getMilliseconds:!0,getMinutes:!0,getMonth:!0,getOverlappingDaysInIntervals:!0,getQuarter:!0,getSeconds:!0,getTime:!0,getUnixTime:!0,getWeek:!0,getWeekOfMonth:!0,getWeekYear:!0,getWeeksInMonth:!0,getYear:!0,hoursToMilliseconds:!0,hoursToMinutes:!0,hoursToSeconds:!0,intervalToDuration:!0,intlFormat:!0,isAfter:!0,isBefore:!0,isDate:!0,isEqual:!0,isExists:!0,isFirstDayOfMonth:!0,isFriday:!0,isFuture:!0,isLastDayOfMonth:!0,isLeapYear:!0,isMatch:!0,isMonday:!0,isPast:!0,isSameDay:!0,isSameHour:!0,isSameISOWeek:!0,isSameISOWeekYear:!0,isSameMinute:!0,isSameMonth:!0,isSameQuarter:!0,isSameSecond:!0,isSameWeek:!0,isSameYear:!0,isSaturday:!0,isSunday:!0,isThisHour:!0,isThisISOWeek:!0,isThisMinute:!0,isThisMonth:!0,isThisQuarter:!0,isThisSecond:!0,isThisWeek:!0,isThisYear:!0,isThursday:!0,isToday:!0,isTomorrow:!0,isTuesday:!0,isValid:!0,isWednesday:!0,isWeekend:!0,isWithinInterval:!0,isYesterday:!0,lastDayOfDecade:!0,lastDayOfISOWeek:!0,lastDayOfISOWeekYear:!0,lastDayOfMonth:!0,lastDayOfQuarter:!0,lastDayOfWeek:!0,lastDayOfYear:!0,lightFormat:!0,max:!0,milliseconds:!0,millisecondsToHours:!0,millisecondsToMinutes:!0,millisecondsToSeconds:!0,min:!0,minutesToHours:!0,minutesToMilliseconds:!0,minutesToSeconds:!0,monthsToQuarters:!0,monthsToYears:!0,nextDay:!0,nextFriday:!0,nextMonday:!0,nextSaturday:!0,nextSunday:!0,nextThursday:!0,nextTuesday:!0,nextWednesday:!0,parse:!0,parseISO:!0,parseJSON:!0,previousDay:!0,previousFriday:!0,previousMonday:!0,previousSaturday:!0,previousSunday:!0,previousThursday:!0,previousTuesday:!0,previousWednesday:!0,quartersToMonths:!0,quartersToYears:!0,roundToNearestMinutes:!0,secondsToHours:!0,secondsToMilliseconds:!0,secondsToMinutes:!0,set:!0,setDate:!0,setDay:!0,setDayOfYear:!0,setHours:!0,setISODay:!0,setISOWeek:!0,setISOWeekYear:!0,setMilliseconds:!0,setMinutes:!0,setMonth:!0,setQuarter:!0,setSeconds:!0,setWeek:!0,setWeekYear:!0,setYear:!0,startOfDay:!0,startOfDecade:!0,startOfHour:!0,startOfISOWeek:!0,startOfISOWeekYear:!0,startOfMinute:!0,startOfMonth:!0,startOfQuarter:!0,startOfSecond:!0,startOfToday:!0,startOfTomorrow:!0,startOfWeek:!0,startOfWeekYear:!0,startOfYear:!0,startOfYesterday:!0,sub:!0,subBusinessDays:!0,subDays:!0,subHours:!0,subISOWeekYears:!0,subMilliseconds:!0,subMinutes:!0,subMonths:!0,subQuarters:!0,subSeconds:!0,subWeeks:!0,subYears:!0,toDate:!0,weeksToDays:!0,yearsToMonths:!0,yearsToQuarters:!0};Object.defineProperty(e,"add",{enumerable:!0,get:function(){return n.default}}),Object.defineProperty(e,"addBusinessDays",{enumerable:!0,get:function(){return r.default}}),Object.defineProperty(e,"addDays",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(e,"addHours",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(e,"addISOWeekYears",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(e,"addMilliseconds",{enumerable:!0,get:function(){return s.default}}),Object.defineProperty(e,"addMinutes",{enumerable:!0,get:function(){return u.default}}),Object.defineProperty(e,"addMonths",{enumerable:!0,get:function(){return l.default}}),Object.defineProperty(e,"addQuarters",{enumerable:!0,get:function(){return c.default}}),Object.defineProperty(e,"addSeconds",{enumerable:!0,get:function(){return d.default}}),Object.defineProperty(e,"addWeeks",{enumerable:!0,get:function(){return f.default}}),Object.defineProperty(e,"addYears",{enumerable:!0,get:function(){return p.default}}),Object.defineProperty(e,"areIntervalsOverlapping",{enumerable:!0,get:function(){return h.default}}),Object.defineProperty(e,"clamp",{enumerable:!0,get:function(){return m.default}}),Object.defineProperty(e,"closestIndexTo",{enumerable:!0,get:function(){return v.default}}),Object.defineProperty(e,"closestTo",{enumerable:!0,get:function(){return g.default}}),Object.defineProperty(e,"compareAsc",{enumerable:!0,get:function(){return x.default}}),Object.defineProperty(e,"compareDesc",{enumerable:!0,get:function(){return y.default}}),Object.defineProperty(e,"daysToWeeks",{enumerable:!0,get:function(){return b.default}}),Object.defineProperty(e,"differenceInBusinessDays",{enumerable:!0,get:function(){return w.default}}),Object.defineProperty(e,"differenceInCalendarDays",{enumerable:!0,get:function(){return _.default}}),Object.defineProperty(e,"differenceInCalendarISOWeekYears",{enumerable:!0,get:function(){return M.default}}),Object.defineProperty(e,"differenceInCalendarISOWeeks",{enumerable:!0,get:function(){return O.default}}),Object.defineProperty(e,"differenceInCalendarMonths",{enumerable:!0,get:function(){return E.default}}),Object.defineProperty(e,"differenceInCalendarQuarters",{enumerable:!0,get:function(){return k.default}}),Object.defineProperty(e,"differenceInCalendarWeeks",{enumerable:!0,get:function(){return T.default}}),Object.defineProperty(e,"differenceInCalendarYears",{enumerable:!0,get:function(){return P.default}}),Object.defineProperty(e,"differenceInDays",{enumerable:!0,get:function(){return C.default}}),Object.defineProperty(e,"differenceInHours",{enumerable:!0,get:function(){return S.default}}),Object.defineProperty(e,"differenceInISOWeekYears",{enumerable:!0,get:function(){return N.default}}),Object.defineProperty(e,"differenceInMilliseconds",{enumerable:!0,get:function(){return j.default}}),Object.defineProperty(e,"differenceInMinutes",{enumerable:!0,get:function(){return I.default}}),Object.defineProperty(e,"differenceInMonths",{enumerable:!0,get:function(){return D.default}}),Object.defineProperty(e,"differenceInQuarters",{enumerable:!0,get:function(){return R.default}}),Object.defineProperty(e,"differenceInSeconds",{enumerable:!0,get:function(){return U.default}}),Object.defineProperty(e,"differenceInWeeks",{enumerable:!0,get:function(){return A.default}}),Object.defineProperty(e,"differenceInYears",{enumerable:!0,get:function(){return Y.default}}),Object.defineProperty(e,"eachDayOfInterval",{enumerable:!0,get:function(){return L.default}}),Object.defineProperty(e,"eachHourOfInterval",{enumerable:!0,get:function(){return F.default}}),Object.defineProperty(e,"eachMinuteOfInterval",{enumerable:!0,get:function(){return W.default}}),Object.defineProperty(e,"eachMonthOfInterval",{enumerable:!0,get:function(){return H.default}}),Object.defineProperty(e,"eachQuarterOfInterval",{enumerable:!0,get:function(){return B.default}}),Object.defineProperty(e,"eachWeekOfInterval",{enumerable:!0,get:function(){return q.default}}),Object.defineProperty(e,"eachWeekendOfInterval",{enumerable:!0,get:function(){return z.default}}),Object.defineProperty(e,"eachWeekendOfMonth",{enumerable:!0,get:function(){return Q.default}}),Object.defineProperty(e,"eachWeekendOfYear",{enumerable:!0,get:function(){return V.default}}),Object.defineProperty(e,"eachYearOfInterval",{enumerable:!0,get:function(){return J.default}}),Object.defineProperty(e,"endOfDay",{enumerable:!0,get:function(){return X.default}}),Object.defineProperty(e,"endOfDecade",{enumerable:!0,get:function(){return G.default}}),Object.defineProperty(e,"endOfHour",{enumerable:!0,get:function(){return K.default}}),Object.defineProperty(e,"endOfISOWeek",{enumerable:!0,get:function(){return $.default}}),Object.defineProperty(e,"endOfISOWeekYear",{enumerable:!0,get:function(){return Z.default}}),Object.defineProperty(e,"endOfMinute",{enumerable:!0,get:function(){return ee.default}}),Object.defineProperty(e,"endOfMonth",{enumerable:!0,get:function(){return te.default}}),Object.defineProperty(e,"endOfQuarter",{enumerable:!0,get:function(){return ne.default}}),Object.defineProperty(e,"endOfSecond",{enumerable:!0,get:function(){return re.default}}),Object.defineProperty(e,"endOfToday",{enumerable:!0,get:function(){return oe.default}}),Object.defineProperty(e,"endOfTomorrow",{enumerable:!0,get:function(){return ae.default}}),Object.defineProperty(e,"endOfWeek",{enumerable:!0,get:function(){return ie.default}}),Object.defineProperty(e,"endOfYear",{enumerable:!0,get:function(){return se.default}}),Object.defineProperty(e,"endOfYesterday",{enumerable:!0,get:function(){return ue.default}}),Object.defineProperty(e,"format",{enumerable:!0,get:function(){return le.default}}),Object.defineProperty(e,"formatDistance",{enumerable:!0,get:function(){return ce.default}}),Object.defineProperty(e,"formatDistanceStrict",{enumerable:!0,get:function(){return de.default}}),Object.defineProperty(e,"formatDistanceToNow",{enumerable:!0,get:function(){return fe.default}}),Object.defineProperty(e,"formatDistanceToNowStrict",{enumerable:!0,get:function(){return pe.default}}),Object.defineProperty(e,"formatDuration",{enumerable:!0,get:function(){return he.default}}),Object.defineProperty(e,"formatISO",{enumerable:!0,get:function(){return me.default}}),Object.defineProperty(e,"formatISO9075",{enumerable:!0,get:function(){return ve.default}}),Object.defineProperty(e,"formatISODuration",{enumerable:!0,get:function(){return ge.default}}),Object.defineProperty(e,"formatRFC3339",{enumerable:!0,get:function(){return xe.default}}),Object.defineProperty(e,"formatRFC7231",{enumerable:!0,get:function(){return ye.default}}),Object.defineProperty(e,"formatRelative",{enumerable:!0,get:function(){return be.default}}),Object.defineProperty(e,"fromUnixTime",{enumerable:!0,get:function(){return we.default}}),Object.defineProperty(e,"getDate",{enumerable:!0,get:function(){return _e.default}}),Object.defineProperty(e,"getDay",{enumerable:!0,get:function(){return Me.default}}),Object.defineProperty(e,"getDayOfYear",{enumerable:!0,get:function(){return Oe.default}}),Object.defineProperty(e,"getDaysInMonth",{enumerable:!0,get:function(){return Ee.default}}),Object.defineProperty(e,"getDaysInYear",{enumerable:!0,get:function(){return ke.default}}),Object.defineProperty(e,"getDecade",{enumerable:!0,get:function(){return Te.default}}),Object.defineProperty(e,"getHours",{enumerable:!0,get:function(){return Pe.default}}),Object.defineProperty(e,"getISODay",{enumerable:!0,get:function(){return Ce.default}}),Object.defineProperty(e,"getISOWeek",{enumerable:!0,get:function(){return Se.default}}),Object.defineProperty(e,"getISOWeekYear",{enumerable:!0,get:function(){return Ne.default}}),Object.defineProperty(e,"getISOWeeksInYear",{enumerable:!0,get:function(){return je.default}}),Object.defineProperty(e,"getMilliseconds",{enumerable:!0,get:function(){return Ie.default}}),Object.defineProperty(e,"getMinutes",{enumerable:!0,get:function(){return De.default}}),Object.defineProperty(e,"getMonth",{enumerable:!0,get:function(){return Re.default}}),Object.defineProperty(e,"getOverlappingDaysInIntervals",{enumerable:!0,get:function(){return Ue.default}}),Object.defineProperty(e,"getQuarter",{enumerable:!0,get:function(){return Ae.default}}),Object.defineProperty(e,"getSeconds",{enumerable:!0,get:function(){return Ye.default}}),Object.defineProperty(e,"getTime",{enumerable:!0,get:function(){return Le.default}}),Object.defineProperty(e,"getUnixTime",{enumerable:!0,get:function(){return Fe.default}}),Object.defineProperty(e,"getWeek",{enumerable:!0,get:function(){return We.default}}),Object.defineProperty(e,"getWeekOfMonth",{enumerable:!0,get:function(){return He.default}}),Object.defineProperty(e,"getWeekYear",{enumerable:!0,get:function(){return Be.default}}),Object.defineProperty(e,"getWeeksInMonth",{enumerable:!0,get:function(){return qe.default}}),Object.defineProperty(e,"getYear",{enumerable:!0,get:function(){return ze.default}}),Object.defineProperty(e,"hoursToMilliseconds",{enumerable:!0,get:function(){return Qe.default}}),Object.defineProperty(e,"hoursToMinutes",{enumerable:!0,get:function(){return Ve.default}}),Object.defineProperty(e,"hoursToSeconds",{enumerable:!0,get:function(){return Je.default}}),Object.defineProperty(e,"intervalToDuration",{enumerable:!0,get:function(){return Xe.default}}),Object.defineProperty(e,"intlFormat",{enumerable:!0,get:function(){return Ge.default}}),Object.defineProperty(e,"isAfter",{enumerable:!0,get:function(){return Ke.default}}),Object.defineProperty(e,"isBefore",{enumerable:!0,get:function(){return $e.default}}),Object.defineProperty(e,"isDate",{enumerable:!0,get:function(){return Ze.default}}),Object.defineProperty(e,"isEqual",{enumerable:!0,get:function(){return et.default}}),Object.defineProperty(e,"isExists",{enumerable:!0,get:function(){return tt.default}}),Object.defineProperty(e,"isFirstDayOfMonth",{enumerable:!0,get:function(){return nt.default}}),Object.defineProperty(e,"isFriday",{enumerable:!0,get:function(){return rt.default}}),Object.defineProperty(e,"isFuture",{enumerable:!0,get:function(){return ot.default}}),Object.defineProperty(e,"isLastDayOfMonth",{enumerable:!0,get:function(){return at.default}}),Object.defineProperty(e,"isLeapYear",{enumerable:!0,get:function(){return it.default}}),Object.defineProperty(e,"isMatch",{enumerable:!0,get:function(){return st.default}}),Object.defineProperty(e,"isMonday",{enumerable:!0,get:function(){return ut.default}}),Object.defineProperty(e,"isPast",{enumerable:!0,get:function(){return lt.default}}),Object.defineProperty(e,"isSameDay",{enumerable:!0,get:function(){return ct.default}}),Object.defineProperty(e,"isSameHour",{enumerable:!0,get:function(){return dt.default}}),Object.defineProperty(e,"isSameISOWeek",{enumerable:!0,get:function(){return ft.default}}),Object.defineProperty(e,"isSameISOWeekYear",{enumerable:!0,get:function(){return pt.default}}),Object.defineProperty(e,"isSameMinute",{enumerable:!0,get:function(){return ht.default}}),Object.defineProperty(e,"isSameMonth",{enumerable:!0,get:function(){return mt.default}}),Object.defineProperty(e,"isSameQuarter",{enumerable:!0,get:function(){return vt.default}}),Object.defineProperty(e,"isSameSecond",{enumerable:!0,get:function(){return gt.default}}),Object.defineProperty(e,"isSameWeek",{enumerable:!0,get:function(){return xt.default}}),Object.defineProperty(e,"isSameYear",{enumerable:!0,get:function(){return yt.default}}),Object.defineProperty(e,"isSaturday",{enumerable:!0,get:function(){return bt.default}}),Object.defineProperty(e,"isSunday",{enumerable:!0,get:function(){return wt.default}}),Object.defineProperty(e,"isThisHour",{enumerable:!0,get:function(){return _t.default}}),Object.defineProperty(e,"isThisISOWeek",{enumerable:!0,get:function(){return Mt.default}}),Object.defineProperty(e,"isThisMinute",{enumerable:!0,get:function(){return Ot.default}}),Object.defineProperty(e,"isThisMonth",{enumerable:!0,get:function(){return Et.default}}),Object.defineProperty(e,"isThisQuarter",{enumerable:!0,get:function(){return kt.default}}),Object.defineProperty(e,"isThisSecond",{enumerable:!0,get:function(){return Tt.default}}),Object.defineProperty(e,"isThisWeek",{enumerable:!0,get:function(){return Pt.default}}),Object.defineProperty(e,"isThisYear",{enumerable:!0,get:function(){return Ct.default}}),Object.defineProperty(e,"isThursday",{enumerable:!0,get:function(){return St.default}}),Object.defineProperty(e,"isToday",{enumerable:!0,get:function(){return Nt.default}}),Object.defineProperty(e,"isTomorrow",{enumerable:!0,get:function(){return jt.default}}),Object.defineProperty(e,"isTuesday",{enumerable:!0,get:function(){return It.default}}),Object.defineProperty(e,"isValid",{enumerable:!0,get:function(){return Dt.default}}),Object.defineProperty(e,"isWednesday",{enumerable:!0,get:function(){return Rt.default}}),Object.defineProperty(e,"isWeekend",{enumerable:!0,get:function(){return Ut.default}}),Object.defineProperty(e,"isWithinInterval",{enumerable:!0,get:function(){return At.default}}),Object.defineProperty(e,"isYesterday",{enumerable:!0,get:function(){return Yt.default}}),Object.defineProperty(e,"lastDayOfDecade",{enumerable:!0,get:function(){return Lt.default}}),Object.defineProperty(e,"lastDayOfISOWeek",{enumerable:!0,get:function(){return Ft.default}}),Object.defineProperty(e,"lastDayOfISOWeekYear",{enumerable:!0,get:function(){return Wt.default}}),Object.defineProperty(e,"lastDayOfMonth",{enumerable:!0,get:function(){return Ht.default}}),Object.defineProperty(e,"lastDayOfQuarter",{enumerable:!0,get:function(){return Bt.default}}),Object.defineProperty(e,"lastDayOfWeek",{enumerable:!0,get:function(){return qt.default}}),Object.defineProperty(e,"lastDayOfYear",{enumerable:!0,get:function(){return zt.default}}),Object.defineProperty(e,"lightFormat",{enumerable:!0,get:function(){return Qt.default}}),Object.defineProperty(e,"max",{enumerable:!0,get:function(){return Vt.default}}),Object.defineProperty(e,"milliseconds",{enumerable:!0,get:function(){return Jt.default}}),Object.defineProperty(e,"millisecondsToHours",{enumerable:!0,get:function(){return Xt.default}}),Object.defineProperty(e,"millisecondsToMinutes",{enumerable:!0,get:function(){return Gt.default}}),Object.defineProperty(e,"millisecondsToSeconds",{enumerable:!0,get:function(){return Kt.default}}),Object.defineProperty(e,"min",{enumerable:!0,get:function(){return $t.default}}),Object.defineProperty(e,"minutesToHours",{enumerable:!0,get:function(){return Zt.default}}),Object.defineProperty(e,"minutesToMilliseconds",{enumerable:!0,get:function(){return en.default}}),Object.defineProperty(e,"minutesToSeconds",{enumerable:!0,get:function(){return tn.default}}),Object.defineProperty(e,"monthsToQuarters",{enumerable:!0,get:function(){return nn.default}}),Object.defineProperty(e,"monthsToYears",{enumerable:!0,get:function(){return rn.default}}),Object.defineProperty(e,"nextDay",{enumerable:!0,get:function(){return on.default}}),Object.defineProperty(e,"nextFriday",{enumerable:!0,get:function(){return an.default}}),Object.defineProperty(e,"nextMonday",{enumerable:!0,get:function(){return sn.default}}),Object.defineProperty(e,"nextSaturday",{enumerable:!0,get:function(){return un.default}}),Object.defineProperty(e,"nextSunday",{enumerable:!0,get:function(){return ln.default}}),Object.defineProperty(e,"nextThursday",{enumerable:!0,get:function(){return cn.default}}),Object.defineProperty(e,"nextTuesday",{enumerable:!0,get:function(){return dn.default}}),Object.defineProperty(e,"nextWednesday",{enumerable:!0,get:function(){return fn.default}}),Object.defineProperty(e,"parse",{enumerable:!0,get:function(){return pn.default}}),Object.defineProperty(e,"parseISO",{enumerable:!0,get:function(){return hn.default}}),Object.defineProperty(e,"parseJSON",{enumerable:!0,get:function(){return mn.default}}),Object.defineProperty(e,"previousDay",{enumerable:!0,get:function(){return vn.default}}),Object.defineProperty(e,"previousFriday",{enumerable:!0,get:function(){return gn.default}}),Object.defineProperty(e,"previousMonday",{enumerable:!0,get:function(){return xn.default}}),Object.defineProperty(e,"previousSaturday",{enumerable:!0,get:function(){return yn.default}}),Object.defineProperty(e,"previousSunday",{enumerable:!0,get:function(){return bn.default}}),Object.defineProperty(e,"previousThursday",{enumerable:!0,get:function(){return wn.default}}),Object.defineProperty(e,"previousTuesday",{enumerable:!0,get:function(){return _n.default}}),Object.defineProperty(e,"previousWednesday",{enumerable:!0,get:function(){return Mn.default}}),Object.defineProperty(e,"quartersToMonths",{enumerable:!0,get:function(){return On.default}}),Object.defineProperty(e,"quartersToYears",{enumerable:!0,get:function(){return En.default}}),Object.defineProperty(e,"roundToNearestMinutes",{enumerable:!0,get:function(){return kn.default}}),Object.defineProperty(e,"secondsToHours",{enumerable:!0,get:function(){return Tn.default}}),Object.defineProperty(e,"secondsToMilliseconds",{enumerable:!0,get:function(){return Pn.default}}),Object.defineProperty(e,"secondsToMinutes",{enumerable:!0,get:function(){return Cn.default}}),Object.defineProperty(e,"set",{enumerable:!0,get:function(){return Sn.default}}),Object.defineProperty(e,"setDate",{enumerable:!0,get:function(){return Nn.default}}),Object.defineProperty(e,"setDay",{enumerable:!0,get:function(){return jn.default}}),Object.defineProperty(e,"setDayOfYear",{enumerable:!0,get:function(){return In.default}}),Object.defineProperty(e,"setHours",{enumerable:!0,get:function(){return Dn.default}}),Object.defineProperty(e,"setISODay",{enumerable:!0,get:function(){return Rn.default}}),Object.defineProperty(e,"setISOWeek",{enumerable:!0,get:function(){return Un.default}}),Object.defineProperty(e,"setISOWeekYear",{enumerable:!0,get:function(){return An.default}}),Object.defineProperty(e,"setMilliseconds",{enumerable:!0,get:function(){return Yn.default}}),Object.defineProperty(e,"setMinutes",{enumerable:!0,get:function(){return Ln.default}}),Object.defineProperty(e,"setMonth",{enumerable:!0,get:function(){return Fn.default}}),Object.defineProperty(e,"setQuarter",{enumerable:!0,get:function(){return Wn.default}}),Object.defineProperty(e,"setSeconds",{enumerable:!0,get:function(){return Hn.default}}),Object.defineProperty(e,"setWeek",{enumerable:!0,get:function(){return Bn.default}}),Object.defineProperty(e,"setWeekYear",{enumerable:!0,get:function(){return qn.default}}),Object.defineProperty(e,"setYear",{enumerable:!0,get:function(){return zn.default}}),Object.defineProperty(e,"startOfDay",{enumerable:!0,get:function(){return Qn.default}}),Object.defineProperty(e,"startOfDecade",{enumerable:!0,get:function(){return Vn.default}}),Object.defineProperty(e,"startOfHour",{enumerable:!0,get:function(){return Jn.default}}),Object.defineProperty(e,"startOfISOWeek",{enumerable:!0,get:function(){return Xn.default}}),Object.defineProperty(e,"startOfISOWeekYear",{enumerable:!0,get:function(){return Gn.default}}),Object.defineProperty(e,"startOfMinute",{enumerable:!0,get:function(){return Kn.default}}),Object.defineProperty(e,"startOfMonth",{enumerable:!0,get:function(){return $n.default}}),Object.defineProperty(e,"startOfQuarter",{enumerable:!0,get:function(){return Zn.default}}),Object.defineProperty(e,"startOfSecond",{enumerable:!0,get:function(){return er.default}}),Object.defineProperty(e,"startOfToday",{enumerable:!0,get:function(){return tr.default}}),Object.defineProperty(e,"startOfTomorrow",{enumerable:!0,get:function(){return nr.default}}),Object.defineProperty(e,"startOfWeek",{enumerable:!0,get:function(){return rr.default}}),Object.defineProperty(e,"startOfWeekYear",{enumerable:!0,get:function(){return or.default}}),Object.defineProperty(e,"startOfYear",{enumerable:!0,get:function(){return ar.default}}),Object.defineProperty(e,"startOfYesterday",{enumerable:!0,get:function(){return ir.default}}),Object.defineProperty(e,"sub",{enumerable:!0,get:function(){return sr.default}}),Object.defineProperty(e,"subBusinessDays",{enumerable:!0,get:function(){return ur.default}}),Object.defineProperty(e,"subDays",{enumerable:!0,get:function(){return lr.default}}),Object.defineProperty(e,"subHours",{enumerable:!0,get:function(){return cr.default}}),Object.defineProperty(e,"subISOWeekYears",{enumerable:!0,get:function(){return dr.default}}),Object.defineProperty(e,"subMilliseconds",{enumerable:!0,get:function(){return fr.default}}),Object.defineProperty(e,"subMinutes",{enumerable:!0,get:function(){return pr.default}}),Object.defineProperty(e,"subMonths",{enumerable:!0,get:function(){return hr.default}}),Object.defineProperty(e,"subQuarters",{enumerable:!0,get:function(){return mr.default}}),Object.defineProperty(e,"subSeconds",{enumerable:!0,get:function(){return vr.default}}),Object.defineProperty(e,"subWeeks",{enumerable:!0,get:function(){return gr.default}}),Object.defineProperty(e,"subYears",{enumerable:!0,get:function(){return xr.default}}),Object.defineProperty(e,"toDate",{enumerable:!0,get:function(){return yr.default}}),Object.defineProperty(e,"weeksToDays",{enumerable:!0,get:function(){return br.default}}),Object.defineProperty(e,"yearsToMonths",{enumerable:!0,get:function(){return wr.default}}),Object.defineProperty(e,"yearsToQuarters",{enumerable:!0,get:function(){return _r.default}});var n=Or(Yo.exports),r=Or(qo.exports),o=Or(Lo.exports),a=Or(Jo.exports),i=Or(Go.exports),s=Or(Xo.exports),u=Or(aa.exports),l=Or(Bo.exports),c=Or(ia.exports),d=Or(sa.exports),f=Or(ua.exports),p=Or(la.exports),h=Or(ca.exports),m=Or(da.exports),v=Or(ha.exports),g=Or(ma.exports),x=Or(va.exports),y=Or(ga.exports),b=Or(xa.exports),w=Or(_a.exports),_=Or(na.exports),M=Or(ka.exports),O=Or(Ta.exports),E=Or(Pa.exports),k=Or(Ca.exports),T=Or(Na.exports),P=Or(ja.exports),C=Or(Ia.exports),S=Or(Da.exports),N=Or(La.exports),j=Or(Ra.exports),I=Or(Wa.exports),D=Or(Ha.exports),R=Or(Qa.exports),U=Or(Va.exports),A=Or(Ja.exports),Y=Or(Xa.exports),L=Or(Ga.exports),F=Or(Ka.exports),W=Or($a.exports),H=Or(ei.exports),B=Or(ti.exports),q=Or(ri.exports),z=Or(oi.exports),Q=Or(ai.exports),V=Or(si.exports),J=Or(ci.exports),X=Or(qa.exports),G=Or(di.exports),K=Or(fi.exports),$=Or(pi.exports),Z=Or(mi.exports),ee=Or(vi.exports),te=Or(za.exports),ne=Or(gi.exports),re=Or(xi.exports),oe=Or(yi.exports),ae=Or(bi.exports),ie=Or(hi.exports),se=Or(li.exports),ue=Or(wi.exports),le=Or(_i.exports),ce=Or(Gi.exports),de=Or(Zi.exports),fe=Or(es.exports),pe=Or(ts.exports),he=Or(ns.exports),me=Or(rs.exports),ve=Or(os.exports),ge=Or(as.exports),xe=Or(is.exports),ye=Or(ss.exports),be=Or(us.exports),we=Or(ls.exports),_e=Or(cs.exports),Me=Or(ds.exports),Oe=Or(fs.exports),Ee=Or(ps.exports),ke=Or(hs.exports),Te=Or(vs.exports),Pe=Or(gs.exports),Ce=Or(xs.exports),Se=Or(ys.exports),Ne=Or(Ko.exports),je=Or(bs.exports),Ie=Or(ws.exports),De=Or(_s.exports),Re=Or(Ms.exports),Ue=Or(Os.exports),Ae=Or(Sa.exports),Ye=Or(Es.exports),Le=Or(ks.exports),Fe=Or(Ts.exports),We=Or(Ps.exports),He=Or(Ns.exports),Be=Or(Ss.exports),qe=Or(js.exports),ze=Or(Ds.exports),Qe=Or(Rs.exports),Ve=Or(Us.exports),Je=Or(As.exports),Xe=Or(Ys.exports),Ge=Or(Hs.exports),Ke=Or(Bs.exports),$e=Or(qs.exports),Ze=Or(Ea.exports),et=Or(zs.exports),tt=Or(Qs.exports),nt=Or(Vs.exports),rt=Or(Js.exports),ot=Or(Xs.exports),at=Or(Ba.exports),it=Or(ms.exports),st=Or(Gs.exports),ut=Or(ru.exports),lt=Or(ou.exports),ct=Or(Ma.exports),dt=Or(au.exports),ft=Or(su.exports),pt=Or(lu.exports),ht=Or(cu.exports),mt=Or(du.exports),vt=Or(fu.exports),gt=Or(pu.exports),xt=Or(uu.exports),yt=Or(mu.exports),bt=Or(Vo.exports),wt=Or(Qo.exports),_t=Or(vu.exports),Mt=Or(gu.exports),Ot=Or(xu.exports),Et=Or(yu.exports),kt=Or(bu.exports),Tt=Or(wu.exports),Pt=Or(_u.exports),Ct=Or(Mu.exports),St=Or(Ou.exports),Nt=Or(Eu.exports),jt=Or(ku.exports),It=Or(Tu.exports),Dt=Or(Oa.exports),Rt=Or(Pu.exports),Ut=Or(zo.exports),At=Or(Cu.exports),Yt=Or(Su.exports),Lt=Or(Nu.exports),Ft=Or(ju.exports),Wt=Or(Du.exports),Ht=Or(Is.exports),Bt=Or(Ru.exports),qt=Or(Iu.exports),zt=Or(Uu.exports),Qt=Or(Au.exports),Vt=Or(fa.exports),Jt=Or(Yu.exports),Xt=Or(Lu.exports),Gt=Or(Fu.exports),Kt=Or(Wu.exports),$t=Or(pa.exports),Zt=Or(Hu.exports),en=Or(Bu.exports),tn=Or(qu.exports),nn=Or(zu.exports),rn=Or(Qu.exports),on=Or(Vu.exports),an=Or(Ju.exports),sn=Or(Xu.exports),un=Or(Gu.exports),ln=Or(Ku.exports),cn=Or($u.exports),dn=Or(Zu.exports),fn=Or(el.exports),pn=Or(Ks.exports),hn=Or(tl.exports),mn=Or(nl.exports),vn=Or(rl.exports),gn=Or(ol.exports),xn=Or(al.exports),yn=Or(il.exports),bn=Or(sl.exports),wn=Or(ul.exports),_n=Or(ll.exports),Mn=Or(cl.exports),On=Or(dl.exports),En=Or(fl.exports),kn=Or(pl.exports),Tn=Or(hl.exports),Pn=Or(ml.exports),Cn=Or(vl.exports),Sn=Or(gl.exports),Nn=Or(yl.exports),jn=Or(bl.exports),In=Or(wl.exports),Dn=Or(_l.exports),Rn=Or(Ml.exports),Un=Or(Ol.exports),An=Or(ea.exports),Yn=Or(El.exports),Ln=Or(kl.exports),Fn=Or(xl.exports),Wn=Or(Tl.exports),Hn=Or(Pl.exports),Bn=Or(Cl.exports),qn=Or(Sl.exports),zn=Or(Nl.exports),Qn=Or(oa.exports),Vn=Or(jl.exports),Jn=Or(iu.exports),Xn=Or($o.exports),Gn=Or(ta.exports),Kn=Or(Za.exports),$n=Or(ii.exports),Zn=Or(ni.exports),er=Or(hu.exports),tr=Or(Il.exports),nr=Or(Dl.exports),rr=Or(Zo.exports),or=Or(Cs.exports),ar=Or(ui.exports),ir=Or(Rl.exports),sr=Or(Ls.exports),ur=Or(Ul.exports),lr=Or(Fs.exports),cr=Or(Al.exports),dr=Or(Fa.exports),fr=Or(Ii.exports),pr=Or(Yl.exports),hr=Or(Ws.exports),mr=Or(Ll.exports),vr=Or(Fl.exports),gr=Or(Wl.exports),xr=Or(Hl.exports),yr=Or(Wo.exports),br=Or(Bl.exports),wr=Or(ql.exports),_r=Or(Ql.exports),Mr=ya;function Or(e){return e&&e.__esModule?e:{default:e}}Object.keys(Mr).forEach((function(n){"default"!==n&&"__esModule"!==n&&(Object.prototype.hasOwnProperty.call(t,n)||Object.defineProperty(e,n,{enumerable:!0,get:function(){return Mr[n]}}))}))}(Ao),function(e){e[e.or=0]="or",e[e.and=1]="and"}(zl||(zl={}));var Gl={ms:1,millisecond:1,milliseconds:1,s:1e3,second:1e3,seconds:1e3,m:6e4,minute:6e4,minutes:6e4,h:36e5,hour:36e5,hours:36e5,d:864e5,day:864e5,days:864e5,w:6048e5,week:6048e5,weeks:6048e5,M:2628e6,month:2628e6,months:2628e6,Q:7776e6,quarter:7776e6,quarters:7776e6,y:3154e7,years:3154e7,year:3154e7};var Kl=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g;function $l(e,t,n,r){for(var o,a=e,i=new RegExp(Kl);null!==(o=i.exec(e));){var s=void 0,u=t[o[1].trim()];u&&(s=Vl(u.value,n)),(s||r)&&(a=a.replace(o[0],s))}return a}var Zl=function(e){var t=e.agents,n=e.text,o=e.delay,a=e.time,i=(0,r.useState)(o),s=i[0],u=i[1],l=Object.values(t).filter((function(e){return e.requestFailed}));(0,r.useEffect)((function(){if(0!==o)var e=o,t=setInterval((function(){e--,u(e),0===e&&clearInterval(t)}),1e3);else u(5)}),[o]);var c=(0,r.useMemo)((function(){return{sec:{name:"sec",value:s}}}),[s]),d=(0,r.useMemo)((function(){return function(e,t,n){if(!e||!t)return e;var r=e;if("string"==typeof r)r=$l(r,t,"displayText",n);else{var o=r;["ssml","displayText"].forEach((function(e){o[e]&&(o[e]=$l(o[e],t,e,n))}))}return r}(n,c)}),[n,c]);return 0===s?r.createElement(r.Fragment,null):r.createElement(r.Fragment,null,l.map((function(e){return r.createElement("div",{className:"chat-msg-container-wrapper",key:"failure-msg-".concat(e.user.nick)},r.createElement("div",{className:"chat-msg-container agent",key:e.user.nick},r.createElement(Cr,{user:e.user,showAvatar:!0},r.createElement("div",{className:"chat-msg"},r.createElement(io,{owner:"others",hasTail:!0},r.createElement("span",{className:"message-sr-only"},"at "+a+" the bot said"),r.createElement("span",null,d))))))})))},ec=function(e){return r.createElement("svg",{className:"message-svg",width:"16",height:"12",viewBox:"0 0 16 12"},r.createElement("path",{d:"M14.4 0H1.6C.72 0 .008.675.008 1.5L0 10.5c0 .825.72 1.5 1.6 1.5h12.8c.88 0 1.6-.675 1.6-1.5v-9c0-.825-.72-1.5-1.6-1.5zm0 3L8 6.75 1.6 3V1.5L8 5.25l6.4-3.75V3z",fill:"#424242",fillRule:"evenodd"}))},tc=function(e){var t=(0,r.useRef)(null),n=(0,r.useRef)(null),o=(0,r.useRef)(null),a=(0,r.useRef)(null),i=(0,r.useState)(!1),s=i[0],u=i[1];function l(){var e,t,r;(null===(e=n.current)||void 0===e?void 0:e.validity.patternMismatch)?null===(t=n.current)||void 0===t||t.setCustomValidity("This doesn't look like an email!"):null===(r=n.current)||void 0===r||r.setCustomValidity("")}function c(r){var i,s,l,c,d;r.preventDefault(),(null===(i=a.current)||void 0===i?void 0:i.checkValidity())?(e.onSubmit({name:null===(l=t.current)||void 0===l?void 0:l.value,email:null===(c=n.current)||void 0===c?void 0:c.value,message:null===(d=o.current)||void 0===d?void 0:d.value}),u(!0)):null===(s=a.current)||void 0===s||s.reportValidity()}function d(){u(!1)}return r.createElement(Io,{title:e.title,addClass:"offline-card",contentAddClass:s?"sent":"",icon:r.createElement(ec,null)},s?r.createElement("div",{key:"sent",className:"message-form--sent"},"Your message has been sent. We will get back to you as soon as possible.",r.createElement(Q,{addClass:"button-resend",label:"Send another",onClick:d})):r.createElement("form",{ref:a,key:"not-sent",className:"message-form",onSubmit:c},r.createElement("div",{className:"content"},r.createElement("div",{className:"section"},r.createElement("label",{className:"label"},"Name"),r.createElement("input",{ref:t,maxLength:255})),r.createElement("div",{className:"section"},r.createElement("label",{className:"label"},"Email"),r.createElement("input",{ref:n,onChange:l,type:"email",required:!0,pattern:"^\\w+([\\.-]?\\w+)*@\\w+([\\.-]?\\w+)*(\\.\\w{2,3})+$"})),r.createElement("div",{className:"section"},r.createElement("label",{className:"label"},"Message"),r.createElement("textarea",{required:!0,ref:o}))),r.createElement("div",{className:"button-container"},r.createElement(Q,{type:"submit",addClass:"message-form__submit",label:"Send"}))))},nc=function(e){return r.createElement(tc,{title:"Offline message card title",onSubmit:e.onSubmit})},rc=function(e){var t=or(),n=(0,r.useCallback)((function(e){t(function(e){return function(t){return function(){t.sendOfflineMsg(e,(function(e){e&&ae(e)}))}}}(e))}),[t]);return r.createElement(r.Fragment,null,r.createElement("span",{className:"message-sr-only"},"at "+e.time+" system message"),r.createElement(nc,{onSubmit:n}))},oc=function(e){var t=(0,r.useState)(!1),n=t[0],o=t[1],a=e.onSubmit,i=(0,r.useCallback)((function(e){a(e),o(!0)}),[a]);return r.createElement(r.Fragment,null,!n&&r.createElement(tc,{title:"Introduce yourself!",onSubmit:i}))},ac=function(e){var t=or(),n=x((function(e){return e.sessionId})),o=(0,r.useCallback)((function(e){e.message&&(t(Be({displayName:e.name,email:e.email},n)),t(We(e.message)))}),[t,n]);return r.createElement(r.Fragment,null,r.createElement("span",{className:"message-sr-only"},"at "+e.time+" system message"),r.createElement(oc,{onSubmit:o}))},ic={position:0},sc=function(e){return void 0===e&&(e=ic),e.position<=0?null:r.createElement("div",{className:"system-msg-container"},r.createElement("span",{className:"system-msg"},"Queue position: ",e.position))};var uc=function(e){return t=e.message.user,(null===(n=t.nick)||void 0===n?void 0:n.endsWith(Dt))?null:r.createElement("div",{className:"system-msg-container"},r.createElement("span",{className:"message-sr-only"},"at "+e.time+" system message"),r.createElement("span",{className:"system-msg"},function(e){switch(e.type){case"chat.memberjoin":return"".concat(e.user.displayName||"Bot"," has joined the chat");case"chat.memberleave":return"".concat(e.user.displayName||"Bot"," has left the chat");case"chat.rating":if(e.newRating){var t=(n=e.newRating)[0].toUpperCase()+n.slice(1);return"You have rated the chat service ".concat(t)}return"You have removed the chat rating";default:return JSON.stringify(e)}var n}(e.message)));var t,n};var lc=function(e){return r.createElement("div",{className:"typing-indicator"},r.createElement("div",{className:"typing-indicator-part"}),r.createElement("div",{className:"typing-indicator-part"}),r.createElement("div",{className:"typing-indicator-part"}))},cc=function(e){var t=Object.values(e.agents).filter((function(e){return e.typing}));return r.createElement(r.Fragment,null,t.map((function(t,n){var o,a,i=(null===(o=t.user)||void 0===o?void 0:o.nick)||"".concat(n),s=(null===(a=t.user)||void 0===a?void 0:a.displayName)||"Somebody";return r.createElement(r.Fragment,null,e.textTypingStatusEnabled?r.createElement("div",{key:"typing-status-".concat(i),className:"chat-msg-agent-typing"},s," is typing"):r.createElement("div",{className:"chat-msg-container-wrapper",key:"typing-status-".concat(i)},r.createElement("div",{key:i,className:"chat-msg-container agent chat-typing-progress"},r.createElement(Cr,{user:t.user,showAvatar:!0},r.createElement("div",{className:"chat-msg"},r.createElement(io,{owner:"others",hasTail:!0},r.createElement(lc,null)))))))})))},dc={visible:!0,messages:[],agents:{},isOffline:!0,isChatting:!1,queuePosition:0,lastRatingRequestTimestamp:0,hasRating:!1,visitorId:"",onSend:function(){return Promise.resolve()},onWrite:function(){return Promise.resolve()},onOpenUrl:function(){}},fc=function(e){void 0===e&&(e=dc);var t=e.onSend,n=e.onWrite,o=e.onOpenUrl,a=(0,r.useRef)(null);(0,r.useEffect)((function(){a.current.scrollIntoView({behavior:"smooth"})}),[e.messages,e.agents]);var i=(0,r.useCallback)((function(e){t(e),a.current.scrollIntoView({behavior:"smooth"})}),[t]),s=(0,r.useCallback)((function(e){n(e),a.current.scrollIntoView({behavior:"smooth"})}),[n]),u=(0,r.useMemo)((function(){return new jo({send:i,write:s,openUrl:o})}),[i,s,o]),l=new Date,c=l.getHours()+":"+l.getMinutes();var d=e.agents,f=e.queuePosition;return r.createElement("div",{className:"message-list-container"},r.createElement("div",{className:"message-list-container__msgs"},function(){for(var t=-1,n=e.messages.length-1;n>0;n--)if("chat.msg"===e.messages[n].type){t=n;break}return e.messages.map((function(n,o){var a,i,s=!1;if(["chat.file","chat.msg","chat.memberjoin","chat.memberleave","chat.rating","chat.request.rating","chat.offline","chat.prechat"].includes(n.type)&&!(null===(i=null===(a=n.user)||void 0===a?void 0:a.nick)||void 0===i?void 0:i.endsWith(Dt)))if(0===o||o===e.messages.length-1||o===t)s=!0;else{var l=e.messages[o-1];n.timestamp&&l.timestamp&&(s=n.timestamp-l.timestamp>3e5)}var d=s?new Date(n.timestamp).toLocaleString():void 0;return r.createElement(r.Fragment,null,s&&r.createElement("div",{className:"ts-msg-container"},r.createElement("span",{className:"ts-msg"},d)),function(t,n){var o,a,i,s;switch((null===(a=null===(o=t.user)||void 0===o?void 0:o.nick)||void 0===a?void 0:a.startsWith("visitor:"))?s=t.user:(s=(null===(i=e.agents[t.user.nick])||void 0===i?void 0:i.user)||e.agent)||(ae('Could not get a user from agents list with nick: "'.concat(t.user.nick,'"')),s=t.user),t.type){case"chat.file":case"chat.msg":return r.createElement(fo,{key:t.type+t.timestamp,message:t,sibling:n,agent:s,messageMiddleware:e.messageMiddleware,middlewareContext:u.resolve(s)});case"chat.failureMsg":return r.createElement(Zl,K({key:t.type+t.timestamp,agents:e.agents,time:c},t.failureMsg));case"chat.memberjoin":case"chat.memberleave":case"chat.rating":case"chat.typing":return r.createElement(uc,{key:t.type+t.timestamp,time:c,message:t});case"chat.request.rating":return r.createElement(Uo,{key:t.type+t.timestamp,agent:s,hasRating:e.hasRating,time:c,shouldDisplay:t.timestamp===e.lastRatingRequestTimestamp});case"chat.offline":return r.createElement(rc,{key:"offline-".concat(t.timestamp),time:c});case"chat.prechat":return r.createElement(ac,{key:"prechat",time:c});default:return r.createElement(r.Fragment,null,r.createElement("span",{className:"message-sr-only"},"at "+c+" system message"),r.createElement("div",{key:+new Date},"Unhandled message: ",JSON.stringify(t)))}}(n,!1))}))}(),r.createElement("div",{ref:a,style:{float:"left",clear:"both"}}),r.createElement(sc,{position:f}),r.createElement(cc,{agents:d,textTypingStatusEnabled:e.textTypingStatusEnabled})),r.createElement(ar,null))},pc=function(){return r.createElement("div",{className:"server-offline"},r.createElement("h2",null,"Chat is currently unavailable"),r.createElement("h3",null,"Server is offline"))};function hc(e){var t,n,r,o,a,i;return"\n:root {\n".concat(function(e){var t=e.next(),n="";for(;!1===t.done;){var r=t.value,o=r[0],a=r[1];null!=a&&""!==a&&(n+="".concat(o,": ").concat(a,";\n\r")),t=e.next()}return n}(vc("\t--xapp-",gc(xc("primary-color",null==e?void 0:e.primaryColor),vc("widget-",gc(function(e){return Z(this,(function(t){switch(t.label){case 0:return[4,["width",null==e?void 0:e.width]];case 1:return t.sent(),[4,["height",null==e?void 0:e.height]];case 2:return t.sent(),[2]}}))}(null==e?void 0:e.size),wc(null==e?void 0:e.margin),Ec(null==e?void 0:e.border),function(e){return Z(this,(function(t){switch(t.label){case 0:return e?[4,["z-index",e]]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}(null==e?void 0:e.zIndex))),function(e){if(!e)return yc();return vc("chat-button-",gc(wc(e.margin),Mc(e.background)))}(null==e?void 0:e.chatButton),vc("header-",function(e){if(!e)return yc();return gc(Mc(e.background),_c(e.text),vc("subtitle-",_c(e.subtitle)),Ec(e.border))}(null==e?void 0:e.header)),vc("footer-",function(e){var t;if(!e)return yc();return gc(Mc(e.background),Ec(e.border),vc("branding-",_c(null===(t=e.branding)||void 0===t?void 0:t.text)))}(null==e?void 0:e.footer)),vc("content-",gc(Mc(null===(t=null==e?void 0:e.content)||void 0===t?void 0:t.background))),vc("messages-",function(e){if(!e)return yc();return gc(vc("mine-",bc(e.mine)),vc("others-",bc(e.others)),function(e){return Z(this,(function(t){switch(t.label){case 0:return e?[4,["padding-top",e.top]]:[3,5];case 1:return t.sent(),[4,["padding-right",e.right]];case 2:return t.sent(),[4,["padding-bottom",e.bottom]];case 3:return t.sent(),[4,["padding-left",e.left]];case 4:t.sent(),t.label=5;case 5:return[2]}}))}(null==e?void 0:e.padding),xc("max-width",null==e?void 0:e.maxWidth))}(null==e?void 0:e.messages)),vc("text-typing-status-",_c(null===(n=null==e?void 0:e.textTypingStatus)||void 0===n?void 0:n.text)),vc("send-",Oc(null==e?void 0:e.sendButton)),vc("menu-",Oc(null==e?void 0:e.menuButton)),vc("menu-",gc(vc("item-",function(e){return gc(_c(null==e?void 0:e.text),vc("subtitle-",_c(null==e?void 0:e.subtitle)),Ec(null==e?void 0:e.border),Mc(null==e?void 0:e.background),xc("height",null==e?void 0:e.height))}(null==(i=null==e?void 0:e.menu)?void 0:i.item)))),vc("refresh-",Oc(null==e?void 0:e.refreshButton)),vc("minimize-",Oc(null==e?void 0:e.minimizeButton)),vc("cancel-",Oc(null==e?void 0:e.cancelButton)),vc("carousel-",gc(vc("title-",_c(null===(r=null==e?void 0:e.carousel)||void 0===r?void 0:r.title)),vc("subtitle-",_c(null===(o=null==e?void 0:e.carousel)||void 0===o?void 0:o.subtitle)),vc("action-",Oc(null===(a=null==e?void 0:e.carousel)||void 0===a?void 0:a.button)))),vc("input-",function(e){if(!e)return yc();return gc(Mc(e.background),Ec(e.border),_c(e.text),vc("placeholder-",_c(e.placeholder)))}(null==e?void 0:e.input)),vc("cta-",function(e){if(!e)return yc();return gc(Mc(e.background),_c(e.text))}(null==e?void 0:e.cta))))),"\n}")}function mc(e){var t=hc(e.theme);return r.createElement("style",null,t)}function vc(e,t){var n;return Z(this,(function(r){switch(r.label){case 0:n=t.next(),r.label=1;case 1:return n.done?[3,3]:[4,["".concat(e).concat(n.value[0]),n.value[1]]];case 2:return r.sent(),n=t.next(),[3,1];case 3:return[2]}}))}function gc(){var e,t,n,r,o,a=[];for(e=0;e<arguments.length;e++)a[e]=arguments[e];return Z(this,(function(e){switch(e.label){case 0:t=0,n=a,e.label=1;case 1:if(!(t<n.length))return[3,5];r=n[t],o=r.next(),e.label=2;case 2:return!1!==o.done?[3,4]:[4,o.value];case 3:return e.sent(),o=r.next(),[3,2];case 4:return t++,[3,1];case 5:return[2]}}))}function xc(e,t){return Z(this,(function(n){switch(n.label){case 0:return[4,[e,t]];case 1:return n.sent(),[2]}}))}function yc(){return Z(this,(function(e){return[2]}))}function bc(e){return gc(xc("bubble-color",null==e?void 0:e.bubbleColor),_c(null==e?void 0:e.text))}function wc(e){return Z(this,(function(t){switch(t.label){case 0:return e?[4,["margin-top",e.top]]:[3,5];case 1:return t.sent(),[4,["margin-right",e.right]];case 2:return t.sent(),[4,["margin-bottom",e.bottom]];case 3:return t.sent(),[4,["margin-left",e.left]];case 4:t.sent(),t.label=5;case 5:return[2]}}))}function _c(e){return Z(this,(function(t){switch(t.label){case 0:return e?[4,["text-color",e.color]]:[3,6];case 1:return t.sent(),[4,["font-size",e.fontSize]];case 2:return t.sent(),[4,["font-family",e.fontFamily]];case 3:return t.sent(),[4,["font-weight",e.fontWeight]];case 4:return t.sent(),[4,["font-style",e.fontStyle]];case 5:t.sent(),t.label=6;case 6:return[2]}}))}function Mc(e){return Z(this,(function(t){switch(t.label){case 0:return[4,["background",e]];case 1:return t.sent(),[2]}}))}function Oc(e){return Z(this,(function(t){switch(t.label){case 0:return[4,["button-color",null==e?void 0:e.color]];case 1:return t.sent(),[4,["button-width",null==e?void 0:e.width]];case 2:return t.sent(),[2]}}))}function Ec(e){return Z(this,(function(t){switch(t.label){case 0:return e?[4,["border-color",e.color]]:[3,4];case 1:return t.sent(),[4,["border-width",e.width]];case 2:return t.sent(),[4,["border-radius",e.radius]];case 3:t.sent(),t.label=4;case 4:return[2]}}))}var kc=function(e){var t=e.onClose,n=e.onReset;return r.createElement("div",{className:"modalContent"},r.createElement("div",{className:"modalBody"},r.createElement("h2",null,"Restart Conversation"),r.createElement("p",null,"Would you like to refresh and return to the starting point of the conversation?")),r.createElement("div",{className:"modalActions"},r.createElement("button",{onClick:t,className:"cancelBtn"},"Cancel"),r.createElement("button",{onClick:n,className:"restartBtn"},"Restart")))},Tc=function(e){var t=e.config,n=G(t,x((function(e){return e.connection.nonce}))),o=(0,r.useMemo)((function(){var e;return K(K({},t),{connection:n,assetUrl:null!==(e=null==n?void 0:n.serverUrl)&&void 0!==e?e:"",env:t})}),[n,t]),a=x((function(e){return e.connection.token})),i=(0,r.useMemo)((function(){var e={items:[{delay:5,text:"We are having trouble communicating with the assistant right now. Re-trying in ${sec} seconds..."},{delay:5,text:"We are still having trouble communicating with the assistant right now. Re-trying in ${sec} seconds..."},{delay:0,text:"Sorry, we cannot communicate with the assistant right now. Please check your connection or try again later."}]};return t.configurableMessages&&Array.isArray(t.configurableMessages.items)&&t.configurableMessages.items.length>0&&(e=t.configurableMessages),{token:a,bot:{nick:"Bot",displayName:t.botName,avatarPath:t.avatarUrl},configurableMessages:e,hooks:t.hooks}}),[a,t]),s=function(e,t){var n=(0,r.useState)(),o=n[0],a=n[1],i=ce(),s=[t,e,i];return(0,r.useEffect)((function(){var n=nr(e,t);return n.init(i),a(n),function(){n.dispose()}}),s),o}(n,i);return r.createElement(J.Provider,{value:o},r.createElement(rr.Provider,{value:s},r.createElement(Pc,K({},e))))},Pc=function(e){var t,n,o,a,i,s,u,l,c,d,f,p,h,m,v,g,y,b,w,_,M,O,E,k,T,P,C,S,N=ce(),j=or(),I=x((function(e){return e})),D=(0,r.useRef)({}),R=null!==(t=e.mode)&&void 0!==t?t:"normal",U="docked"===R,A="static"===R,Y="widget-container--".concat(R),L=null===(o=null===(n=e.config.header)||void 0===n?void 0:n.actions)||void 0===o?void 0:o.refresh,F=!U&&!A&&(null===(i=null===(a=e.config.header)||void 0===a?void 0:a.actions)||void 0===i?void 0:i.minimize);ae("docked: ".concat(U," static: ").concat(A," minimimized: ").concat(null===(u=null===(s=e.config.header)||void 0===s?void 0:s.actions)||void 0===u?void 0:u.minimize)),S="boolean"==typeof(null===(c=null===(l=e.config.header)||void 0===l?void 0:l.actions)||void 0===c?void 0:c.cancel)?!U&&!A&&(null===(f=null===(d=e.config.header)||void 0===d?void 0:d.actions)||void 0===f?void 0:f.cancel):!U&&!A,I.visuals||(I.visuals={});var W=(0,r.useState)(!F&&!S||I.visuals.visible||(null===(p=e.config)||void 0===p?void 0:p.autoOpenOnWidth)&&window.matchMedia("(min-width: ".concat(null===(h=e.config)||void 0===h?void 0:h.autoOpenOnWidth,")")).matches),H=W[0],B=W[1],q=(0,r.useState)(!1),z=q[0],Q=q[1],V=(0,r.useContext)(rr),J=null===(v=null===(m=e.config)||void 0===m?void 0:m.autoOpenOnPattern)||void 0===v?void 0:v.patterns,X=window.location.href,G=J&&J.length>0,K=null==J?void 0:J.some((function(e){return X.includes(e)})),$=null===(y=null===(g=e.config)||void 0===g?void 0:g.autoOpenOnPattern)||void 0===y?void 0:y.minimumWidth,Z=screen.width,ee=(0,r.useCallback)((function(e){A||(B(e),N(Ye({visible:e})))}),[N,A]);(0,r.useEffect)((function(){var t,n;document.addEventListener("keydown",(function(e){var t=document.getElementsByTagName("body")[0];t.tabIndex=-1,"Escape"===e.key&&t.focus()})),po((null==I?void 0:I.sessionExpiration)||(null===(t=e.config)||void 0===t?void 0:t.sessionExpiration),null===(n=null==I?void 0:I.chats[I.chats.length-1])||void 0===n?void 0:n.timestamp,null==I||I.lastTimestamp)&&(N(St(void 0)),N({type:"reset"}))}),[]);var te=(0,r.useState)(!document.hidden),ne=te[0],re=te[1];function oe(){z&&(j(He(!1)),Q(!1))}(0,r.useEffect)((function(){var e=function(){re(!document.hidden)};return document.addEventListener("visibilitychange",e),function(){document.removeEventListener("visibilitychange",e)}}),[]),(0,r.useEffect)((function(){V&&(ne?V.wakeup():V.sleep())}),[V,N,ne]),(0,r.useEffect)((function(){I.visuals.opened&&ee(!0),G&&K&&ee(!0),Z<+$&&ee(!1)}),[Z,G,K,$,ee,I.visuals.opened]);var ie=Le();function se(e){("offline"!==I.accountStatus||I.isChatting)&&e&&(oe(),V.flush(),j(We(e)))}function ue(){return H?"visible":""}function le(){N({type:"reset"})}function de(){D.current.style.display="none"}var fe="offline"===I.accountStatus&&!I.isChatting,pe=I&&I.chats,he=e.config,me=e.onConnectionStatusChange;vo(!fe&&!e.preChatFormEnabled&&H);var ve=I.connection.connectionStatus;(0,r.useEffect)((function(){me&&me(ve)}),[ve,me]),ho(null===(b=e.config)||void 0===b?void 0:b.middlewareUrl);var ge=(null===(w=I.agents["agent:robot"])||void 0===w?void 0:w.user)||(null==he?void 0:he.agent)||{nick:"agent:robot",avatarPath:he.avatarUrl,display_name:"Agent"};return r.createElement(r.Fragment,null,r.createElement("div",{className:"widget-container ".concat(Y," ").concat(ue())},r.createElement(mc,{theme:null==he?void 0:he.theme}),r.createElement(Tr,{accountStatus:I.accountStatus,refreshOnClick:function(){he.header.actions.refreshShowConfirmation?D.current.style.display="block":le()},minimizeOnClick:function(){N(Ye({opened:!1})),ee(!1)},cancelOnClick:function(){N(Ye({opened:!1})),N({type:"reset"}),ee(!1)},agent:ge,canRefresh:L,canMinimize:F,canCancel:S,config:null==he?void 0:he.header,menuConfig:he.menu,onSubmit:se}),r.createElement(fc,{visible:H,queuePosition:I.queuePosition,isChatting:I.isChatting,isOffline:fe,messages:pe,agents:I.agents,agent:null==he?void 0:he.agent,lastRatingRequestTimestamp:I.lastRatingRequestTimestamp,hasRating:I.hasRating,visitorId:I.visitorId,messageMiddleware:e.messageMiddleware,textTypingStatusEnabled:null===(M=null===(_=e.config)||void 0===_?void 0:_.typingStatus)||void 0===M?void 0:M.textTypingStatusEnabled,onSend:function(e){j(function(e){return function(t){return function(){t.sendChatMsgRequest(e,(function(){}))}}}(e))},onWrite:function(e){N(Fe(e.msg,e.user))},onOpenUrl:ie}),r.createElement("div",{className:"xa-spinner-container ".concat(H&&"pending"===ve?"visible":"")},r.createElement("div",{className:"xa-spinner"})),"offline"===ve&&r.createElement(pc,null),r.createElement(So,{isAdmin:null==he?void 0:he.isAdmin,isChatting:I.isChatting,placeholder:null===(O=null==he?void 0:he.input)||void 0===O?void 0:O.placeholder,sendButtonIcon:null===(k=null===(E=null==he?void 0:he.footer)||void 0===E?void 0:E.sendButton)||void 0===k?void 0:k.icon,visible:H,menuConfig:e.config.menu,footerConfig:null===(T=e.config)||void 0===T?void 0:T.footer,inputConfig:null===(P=e.config)||void 0===P?void 0:P.input,onChange:function(){z||(j(He(!0)),Q(!0)),oe()},onSubmit:se,onFileUpload:function(e){var t;e.preventDefault();var n=null===(t=null==e?void 0:e.dataTransfer)||void 0===t?void 0:t.files[0];n&&j(function(e){return function(t){return function(n,r){var o=r();if("offline"!==o.accountStatus||o.isChatting){var a={mimeType:e.type,name:e.name,size:e.size,url:window.URL.createObjectURL(e)};t.sendFile(e,(function(e){e&&ae("Error sending file",e)})),n({type:"synthetic",detail:{type:"visitor.send.file",attachment:a,user:{nick:""},attributes:{currentUrl:window.location.href},timestamp:+new Date}})}}}}(n))}}),r.createElement("div",{className:"restartModal",ref:D,onClick:de},r.createElement(kc,{onClose:de,onReset:le}))),r.createElement(je,{addClass:ue(),onClick:function(){N(Ye({opened:!0})),ee(!0),setTimeout((function(){document.getElementById("chatWidgetInput").focus()}),100)},config:null==he?void 0:he.cta,imageUrl:null===(C=null==he?void 0:he.chatButton)||void 0===C?void 0:C.imageUrl,visible:H}))};var Cc=function(){function e(e,t){this.innerStorage=e,this.key=t}return e.prototype.get=function(){return function(e){try{if(e)return JSON.parse(e)}catch(t){}}(this.innerStorage.getItem(this.key))},e.prototype.set=function(e){try{this.innerStorage.setItem(this.key,JSON.stringify(e))}catch(t){!function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var r={};r[e]||(r[e]=!0,ae.apply(void 0,t))}("storage","Unable to store redux state")}},e}();function Sc(){return kt()}var Nc={displayName:"Visitor",nick:"visitor:",typing:!1};function jc(e){return e||(e={}),e.userId=e.userId?e.userId:Sc(),e.visitorId=e.userId,K({connection:{connectionStatus:"offline",token:null,greetingRequested:!1},accountStatus:"offline",departments:{},visitor:Nc,agents:{},chats:[],lastTimestamp:0,lastRatingRequestTimestamp:0,hasRating:!1,isChatting:!1,queuePosition:0,failureMsg:null,visitorId:Sc(),chips:[],sessionExpiration:"24h",visuals:{}},e)}var Ic=jc(),Dc=function(){function e(){this.valuesMap=new Map}return e.prototype.getItem=function(e){var t=String(e);return this.valuesMap.has(e)?String(this.valuesMap.get(t)):null},e.prototype.setItem=function(e,t){this.valuesMap.set(String(e),String(t))},e.prototype.removeItem=function(e){this.valuesMap.delete(e)},e.prototype.clear=function(){this.valuesMap.clear()},e.prototype.key=function(e){if(0===arguments.length)throw new TypeError("Failed to execute 'key' on 'Storage': 1 argument required, but only 0 present.");return Array.from(this.valuesMap.keys())[e]},Object.defineProperty(e.prototype,"length",{get:function(){return this.valuesMap.size},enumerable:!1,configurable:!0}),e}();function Rc(e,t){return function(e,t,n){if(!e.length)return e.push(t),e;for(var r=0,o=e.length-1;o-r>0;){var a=e[r],i=e[o],s=n(t,a);if(0===s)return e;if(s<0)return e.splice(r,0,t),e;var u=n(t,i);if(0===u)return e;if(u>0)return e.splice(o+1,0,t),e;if(o-r<=1)break;var l=Math.floor((r+o)/2),c=n(e[l],t);c<=0?r=l:c>=0&&(o=l)}return e.splice(r+1,0,t),e}(ee([],e,!0),t,(function(e,t){return e.timestamp-t.timestamp}))}function Uc(e,t){e.chats=Rc(e.chats,t),"chat.msg"===t.type&&(e.activeContexts=t.msg.context)}function Ac(e,t){var n,r,o,a,i;if(void 0===e&&(e=Ic),ae("action",t),"reset"===t.type)return function(e){return void 0===e&&(e=Ic),K(K({},jc({accessToken:e.accessToken,userId:e.userId,attributes:e.attributes,sessionExpiration:e.sessionExpiration})),{connection:K(K({},e.connection),{greetingRequested:!1,nonce:kt()}),visitor:e.visitor,visitorId:e.visitorId})}(e);switch(t.detail&&(e.lastTimestamp=t.detail.timestamp),t.type){case"connection_update":case"receiveToken":case"sendGreeting":var s=function(e,t){switch(t.type){case"connection_update":return K(K({},e),{connectionStatus:t.detail.status});case"receiveToken":return K(K({},e),{token:t.detail.token});case"sendGreeting":return K(K({},e),{greetingRequested:!0})}return e}(e.connection,t);return e.connection!==s&&(e=K(K({},e),{connection:s})),e;case"account_status":return K(K({},e),{accountStatus:t.detail.status});case"session_id":return K(K({},e),{sessionId:t.detail.sessionId});case"visual_status":var u=K({},e);return u.visuals||(u.visuals={}),void 0!==t.detail.status.drawer&&(u.visuals.drawer=t.detail.status.drawer),void 0!==t.detail.status.opened&&(u.visuals.opened=t.detail.status.opened),void 0!==t.detail.status.visible&&(u.visuals.visible=t.detail.status.visible),u;case"department_update":return K(K({},e),{departments:K(K({},e.departments),(n={},n[t.detail.id]=K({},t.detail),n))});case"visitor_update":return K(K({},e),{visitor:K(K({},e.visitor),t.detail)});case"agent_update":var l=e.agents[t.detail.nick];return K(K({},e),{agents:K(K({},e.agents),(r={},r[t.detail.nick]=K(K({},l),{user:K(K({},l.user),t.detail),typing:(l||{typing:!1}).typing}),r))});case"chat":var c=K({},e);switch(t.detail.type){case"chat.memberjoin":return function(e,t){var n=K({},e.agents),r=e.agents[t.user.nick];return n[t.user.nick]=K(K({},r),{user:K(K({},t.user),{displayName:t.user.displayName||"Agent"}),joined:!0,typing:!1}),te(t.user.nick)?K(K({},e),{isChatting:!0,chats:(null==r?void 0:r.joined)?e.chats:Rc(e.chats,t),agents:n}):K(K({},e),{isChatting:!0,chats:Rc(e.chats,t),agents:n})}(e,t.detail);case"chat.memberleave":return function(e,t){var n=K({},e.agents),r=e.agents[t.user.nick];n[t.user.nick]=K(K({},r),{joined:!1,typing:!1});var o=Object.values(n).filter((function(e){return e.joined})).length>0;return te(t.user.nick)?K(K({},e),{isChatting:o,chats:(null==r?void 0:r.joined)?Rc(e.chats,t):e.chats,agents:n}):K(K({},e),{isChatting:o,chats:Rc(e.chats,t),agents:n})}(e,t.detail);case"chat.queue.position":return c.queuePosition=t.detail.queuePosition,c;case"chat.request.rating":return Uc(c,t.detail),K(K({},c),{lastRatingRequestTimestamp:t.detail.timestamp});case"chat.rating":return Uc(c,t.detail),K(K({},c),{hasRating:!!t.detail.newRating});case"chat.file":case"chat.msg":Uc(c,t.detail);var d=t.detail,f="chat.msg"===d.type?d.msg:null;return c.chips=(null===(i=null==f?void 0:f.options)||void 0===i?void 0:i.length)?f.options:[],c;case"chat.failureMsg":var p,h=c.agents[t.detail.user.nick],m=t.detail.failureMsg.retry,v=c;if(1!==m){p=c.chats.filter((function(e){return"chat.failureMsg"===e.type&&e.failureMsg.retry<m}))[0];var g=c.chats.filter((function(e){return e!==p}));v=K(K({},c),{chats:g})}return Uc(v,t.detail),K(K({},v),{agents:K(K({},v.agents),(o={},o[t.detail.user.nick]=K(K({},h),{typing:!1,requestFailed:!0}),o)),failureMsg:t.detail.failureMsg});case"chat.typing":var x=e.agents[t.detail.user.nick];return K(K({},e),{agents:K(K({},e.agents),(a={},a[t.detail.user.nick]=K(K({},x),{typing:t.detail.typing}),a))});default:return e}default:return ae("Unhandled redux action: ",t.type),e}}function Yc(e,t){if(void 0===e&&(e=Ic),"synthetic"===t.type){ae("synthetic action",t);var n=function(e,t){var n;void 0===e&&(e=Ic);var r=((null===(n=t.detail)||void 0===n?void 0:n.timestamp)||+new Date)+1;switch(t.detail.type){case"write_msg":return{type:"chat",detail:{type:"chat.msg",user:t.detail.user,timestamp:r,msg:t.detail.msg}};case"visitor.send.file":return{type:"chat",detail:{type:"chat.file",user:{displayName:e.visitor.displayName,nick:"visitor:"},timestamp:r,attachment:t.detail.attachment}};default:throw new Error("Unknown synthetic action. Detail type: ".concat(t.detail.type))}}(e,t);return Ac(e,n)}return Ac(e,t)}var Lc="AdminAccessTimes";function Fc(e,t){var n;t||(t="undefined"!=typeof window?localStorage:new Dc);var r,o=e.connection,a=null===(n=new URL(window.location.href).searchParams)||void 0===n?void 0:n.get("sessionId"),i=(new Date).getTime();if(a){var s=t.getItem(Lc),u=s?JSON.parse(s):{};if(u[a])ae("ChatStore: reusing session: ".concat(a)),u[a].lastAccessMs=i,r=u[a].dataStorageKey;else{if(Object.keys(u).length>=20){var l=function(e){for(var t,n=Number.MAX_VALUE,r=0,o=Object.keys(e);r<o.length;r++){var a=o[r];e[a].lastAccessMs<n&&(t=a,n=e[a].lastAccessMs)}return t}(u);ae("ChatStore: evicting session: ".concat(l)),t.removeItem(u[l].dataStorageKey),u[l]=void 0}r=Wc(o,a),u[a]={lastAccessMs:i,dataStorageKey:r}}t.setItem(Lc,JSON.stringify(u))}else r=Wc(o);var c=function(e,t,n){var r,o=null!==(r=e.get())&&void 0!==r?r:t;return function(t,r){void 0===t&&(t=o);var a=n(t,r);return e.set(a),a}}(new Cc(t,r),jc({accessToken:e.accessToken,userId:e.userId,attributes:e.attributes,sessionExpiration:e.sessionExpiration}),Yc),d=[z];return F(c,(globalThis.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||W)(H.apply(void 0,d)))}function Wc(e,t){var n="xappchat.".concat(e.serverUrl);return t?e.accountKey?"".concat(n,".").concat(e.accountKey,".").concat(t):"".concat(n,".").concat(t):e.accountKey?"".concat(n,".").concat(e.accountKey):n}var Hc=function(e){var t,n,o,a,i,s=ro(),u=G(e.config),l=(0,r.useMemo)((function(){var t,n,r,o;return Fc({connection:u,userId:null===(t=e.config)||void 0===t?void 0:t.userId,accessToken:null===(n=e.config)||void 0===n?void 0:n.accessToken,attributes:null===(r=e.config)||void 0===r?void 0:r.attributes,sessionExpiration:null===(o=e.config)||void 0===o?void 0:o.sessionExpiration})}),[u,null===(t=e.config)||void 0===t?void 0:t.userId,null===(n=e.config)||void 0===n?void 0:n.accessToken,null===(o=e.config)||void 0===o?void 0:o.attributes,null===(a=e.config)||void 0===a?void 0:a.sessionExpiration]);if(null===(i=e.config)||void 0===i?void 0:i.disabled)return r.createElement(r.Fragment,null);var c=K(K({},e),{messageMiddleware:s});return r.createElement(M,{store:l},r.createElement(Tc,K({},c)))};null===globalThis||void 0===globalThis||globalThis.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__},1262:function(e,t,n){n.d(t,{Z:function(){return a}});n(7294);var r=n(2389),o=n(5893);function a(e){let{children:t,fallback:n}=e;return(0,r.Z)()?(0,o.jsx)(o.Fragment,{children:null==t?void 0:t()}):null!=n?n:null}},8359:function(e,t){var n,r=Symbol.for("react.element"),o=Symbol.for("react.portal"),a=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),u=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.server_context"),d=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),p=Symbol.for("react.suspense_list"),h=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),v=Symbol.for("react.offscreen");function g(e){if("object"==typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case a:case s:case i:case f:case p:return e;default:switch(e=e&&e.$$typeof){case c:case l:case d:case m:case h:case u:return e;default:return t}}case o:return t}}}n=Symbol.for("react.module.reference")},2973:function(e,t,n){n(8359)},3250:function(e,t,n){var r=n(7294);var o="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},a=r.useState,i=r.useEffect,s=r.useLayoutEffect,u=r.useDebugValue;function l(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!o(e,n)}catch(r){return!0}}var c="undefined"==typeof window||void 0===window.document||void 0===window.document.createElement?function(e,t){return t()}:function(e,t){var n=t(),r=a({inst:{value:n,getSnapshot:t}}),o=r[0].inst,c=r[1];return s((function(){o.value=n,o.getSnapshot=t,l(o)&&c({inst:o})}),[e,n,t]),i((function(){return l(o)&&c({inst:o}),e((function(){l(o)&&c({inst:o})}))}),[e]),u(n),n};t.useSyncExternalStore=void 0!==r.useSyncExternalStore?r.useSyncExternalStore:c},139:function(e,t,n){var r=n(7294),o=n(1688);var a="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},i=o.useSyncExternalStore,s=r.useRef,u=r.useEffect,l=r.useMemo,c=r.useDebugValue;t.useSyncExternalStoreWithSelector=function(e,t,n,r,o){var d=s(null);if(null===d.current){var f={hasValue:!1,value:null};d.current=f}else f=d.current;d=l((function(){function e(e){if(!u){if(u=!0,i=e,e=r(e),void 0!==o&&f.hasValue){var t=f.value;if(o(t,e))return s=t}return s=e}if(t=s,a(i,e))return t;var n=r(e);return void 0!==o&&o(t,n)?t:(i=e,s=n)}var i,s,u=!1,l=void 0===n?null:n;return[function(){return e(t())},null===l?void 0:function(){return e(l())}]}),[t,n,r,o]);var p=i(e,d[0],d[1]);return u((function(){f.hasValue=!0,f.value=p}),[p]),c(p),p}},1688:function(e,t,n){e.exports=n(3250)},2798:function(e,t,n){e.exports=n(139)}}]);