"use strict";(self.webpackChunkoc_studio_docs=self.webpackChunkoc_studio_docs||[]).push([[674],{3905:function(e,t,n){n.d(t,{Zo:function(){return s},kt:function(){return g}});var r=n(7294);function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var p=r.createContext({}),m=function(e){var t=r.useContext(p),n=t;return e&&(n="function"==typeof e?e(t):i(i({},t),e)),n},s=function(e){var t=m(e.components);return r.createElement(p.Provider,{value:t},e.children)},c="mdxType",u={inlineCode:"code",wrapper:function(e){var t=e.children;return r.createElement(r.Fragment,{},t)}},d=r.forwardRef((function(e,t){var n=e.components,a=e.mdxType,o=e.originalType,p=e.parentName,s=l(e,["components","mdxType","originalType","parentName"]),c=m(n),d=a,g=c["".concat(p,".").concat(d)]||c[d]||u[d]||o;return n?r.createElement(g,i(i({ref:t},s),{},{components:n})):r.createElement(g,i({ref:t},s))}));function g(e,t){var n=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var o=n.length,i=new Array(o);i[0]=d;var l={};for(var p in t)hasOwnProperty.call(t,p)&&(l[p]=t[p]);l.originalType=e,l[c]="string"==typeof e?e:a,i[1]=l;for(var m=2;m<o;m++)i[m]=n[m];return r.createElement.apply(null,i)}return r.createElement.apply(null,n)}d.displayName="MDXCreateElement"},556:function(e,t,n){n.r(t),n.d(t,{assets:function(){return s},contentTitle:function(){return p},default:function(){return g},frontMatter:function(){return l},metadata:function(){return m},toc:function(){return c}});var r=n(7462),a=n(3366),o=(n(7294),n(3905)),i=["components"],l={title:"Runtime Environment Variables"},p=void 0,m={unversionedId:"development/runtime-environment-variables",id:"development/runtime-environment-variables",title:"Runtime Environment Variables",description:"Environment variables provide a way to configure the runtime without needing to redeploy.",source:"@site/docs/development/runtime-environment-variables.md",sourceDirName:"development",slug:"/development/runtime-environment-variables",permalink:"/docs/development/runtime-environment-variables",draft:!1,editUrl:"https://github.com/xapp-ai/documentation/edit/main/docs/development/runtime-environment-variables.md",tags:[],version:"current",frontMatter:{title:"Runtime Environment Variables"},sidebar:"docs",previous:{title:"Running Locally",permalink:"/docs/development/running-locally"},next:{title:"CLI",permalink:"/docs/development/cli"}},s={},c=[{value:"Using AWS Secrets Manager",id:"using-aws-secrets-manager",level:2}],u={toc:c},d="wrapper";function g(e){var t=e.components,n=(0,a.Z)(e,i);return(0,o.kt)(d,(0,r.Z)({},u,n,{components:t,mdxType:"MDXLayout"}),(0,o.kt)("p",null,"Environment variables provide a way to configure the runtime without needing to redeploy."),(0,o.kt)("table",null,(0,o.kt)("thead",{parentName:"table"},(0,o.kt)("tr",{parentName:"thead"},(0,o.kt)("th",{parentName:"tr",align:null},"Variable"),(0,o.kt)("th",{parentName:"tr",align:"center"},"Description"),(0,o.kt)("th",{parentName:"tr",align:"right"},"Values"))),(0,o.kt)("tbody",{parentName:"table"},(0,o.kt)("tr",{parentName:"tbody"},(0,o.kt)("td",{parentName:"tr",align:null},"USER_STORAGE_TABLE"),(0,o.kt)("td",{parentName:"tr",align:"center"},"Name of the DynamoDB table"),(0,o.kt)("td",{parentName:"tr",align:"right"},"String value, name of the DynamoDB table")),(0,o.kt)("tr",{parentName:"tbody"},(0,o.kt)("td",{parentName:"tr",align:null},"STENTOR_LOG_LEVEL"),(0,o.kt)("td",{parentName:"tr",align:"center"},"Configurable logging"),(0,o.kt)("td",{parentName:"tr",align:"right"},'"debug", "info", "warn", "error" (default)')),(0,o.kt)("tr",{parentName:"tbody"},(0,o.kt)("td",{parentName:"tr",align:null},"STUDIO_TOKEN"),(0,o.kt)("td",{parentName:"tr",align:"center"},"Access token to OC Studio"),(0,o.kt)("td",{parentName:"tr",align:"right"},"Generated token specific to the APP ID")),(0,o.kt)("tr",{parentName:"tbody"},(0,o.kt)("td",{parentName:"tr",align:null},"STUDIO_ORG_TOKEN"),(0,o.kt)("td",{parentName:"tr",align:"center"},"Access token to OC Studio, which has access to all the apps within an organization"),(0,o.kt)("td",{parentName:"tr",align:"right"},"Contact customer support for this token")),(0,o.kt)("tr",{parentName:"tbody"},(0,o.kt)("td",{parentName:"tr",align:null},"STUDIO_SECRET_NAME"),(0,o.kt)("td",{parentName:"tr",align:"center"},"Optional, name of the secret within AWS Secrets Manager to use"),(0,o.kt)("td",{parentName:"tr",align:"right"},"The name of the secret, see below for more information")),(0,o.kt)("tr",{parentName:"tbody"},(0,o.kt)("td",{parentName:"tr",align:null},"STUDIO_APP_ID"),(0,o.kt)("td",{parentName:"tr",align:"center"},"The application ID within studio"),(0,o.kt)("td",{parentName:"tr",align:"right"},"String")),(0,o.kt)("tr",{parentName:"tbody"},(0,o.kt)("td",{parentName:"tr",align:null},"STUDIO_BASE_URL"),(0,o.kt)("td",{parentName:"tr",align:"center"},"Configure the Studio Service to point to another environment"),(0,o.kt)("td",{parentName:"tr",align:"right"},'Defaults to "',(0,o.kt)("a",{parentName:"td",href:"https://api.xapp.ai%22"},'https://api.xapp.ai"'))),(0,o.kt)("tr",{parentName:"tbody"},(0,o.kt)("td",{parentName:"tr",align:null},"STENTOR_LOG_PII"),(0,o.kt)("td",{parentName:"tr",align:"center"},"For development, no redaction of PII (such as phone numbers) will be performed"),(0,o.kt)("td",{parentName:"tr",align:"right"},'Defaults to "false"')),(0,o.kt)("tr",{parentName:"tbody"},(0,o.kt)("td",{parentName:"tr",align:null},"STENTOR_LOG_PII_MASK_PARTIAL"),(0,o.kt)("td",{parentName:"tr",align:"center"},"Similar to STENTOR_LOG_PII, this instead will only do a partial mask of PII"),(0,o.kt)("td",{parentName:"tr",align:"right"},'Defaults to "false"')),(0,o.kt)("tr",{parentName:"tbody"},(0,o.kt)("td",{parentName:"tr",align:null},"STUDIO_MAX_HISTORY"),(0,o.kt)("td",{parentName:"tr",align:"center"},"Max number of items in request history & transcripts to maintain"),(0,o.kt)("td",{parentName:"tr",align:"right"},"Defaults to 20")))),(0,o.kt)("h2",{id:"using-aws-secrets-manager"},"Using AWS Secrets Manager"),(0,o.kt)("p",null,"AWS Secrets Manager allows you to securely store API credentials, access tokens, and other sensitive information for use at runtime.  This is the recommended approach for production environments as opposed to storing this type of information in environment variables."),(0,o.kt)("p",null,"If you provide ",(0,o.kt)("inlineCode",{parentName:"p"},"STUDIO_SECRET_NAME")," as an environment variable, then before every request all the key value based information from the provided secret name will be loaded as environment variables to the runtime and can be access from:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-js"},"process.env[`NAME_OF_VALUE_IN_SECRET`]\n")),(0,o.kt)("admonition",{type:"caution"},(0,o.kt)("p",{parentName:"admonition"},"Do not print out this information to the console.")),(0,o.kt)("admonition",{type:"important"},(0,o.kt)("p",{parentName:"admonition"},"Make sure your runtime Lambda has the proper IAM policy to read the secret.")))}g.isMDXComponent=!0}}]);